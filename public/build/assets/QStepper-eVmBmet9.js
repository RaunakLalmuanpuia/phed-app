import{g as O,c as ne,s as j,Q as re}from"./touch-Bbeh5TGT.js";import{H as V,M as T,r as K,c as d,n as v,D as ae,N as oe,R as ie,aZ as se,a8 as N,ao as x,a_ as $,ah as le,a9 as k,T as B,aP as W,a$ as ue,V as ce,k as ve,ab as de,ba as pe,I as w,bm as F,J as fe,K as E,bn as X,ae as me,af as he,X as ge,O as be,b2 as Se}from"./app-B49DGyyB.js";const H=V({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:n}){const{proxy:{$q:i}}=T(),m=K(null),s=d(()=>e.stepper.modelValue===e.step.name),t=d(()=>{const r=e.step.disable;return r===!0||r===""}),a=d(()=>{const r=e.step.error;return r===!0||r===""}),l=d(()=>{const r=e.step.done;return t.value===!1&&(r===!0||r==="")}),p=d(()=>{const r=e.step.headerNav,c=r===!0||r===""||r===void 0;return t.value===!1&&e.stepper.headerNav&&c}),b=d(()=>e.step.prefix&&(s.value===!1||e.stepper.activeIcon==="none")&&(a.value===!1||e.stepper.errorIcon==="none")&&(l.value===!1||e.stepper.doneIcon==="none")),u=d(()=>{const r=e.step.icon||e.stepper.inactiveIcon;if(s.value===!0){const c=e.step.activeIcon||e.stepper.activeIcon;return c==="none"?r:c||i.iconSet.stepper.active}if(a.value===!0){const c=e.step.errorIcon||e.stepper.errorIcon;return c==="none"?r:c||i.iconSet.stepper.error}if(t.value===!1&&l.value===!0){const c=e.step.doneIcon||e.stepper.doneIcon;return c==="none"?r:c||i.iconSet.stepper.done}return r}),g=d(()=>{const r=a.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(s.value===!0){const c=e.step.activeColor||e.stepper.activeColor||e.step.color;return c!==void 0?c:r}return r!==void 0?r:t.value===!1&&l.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),f=d(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(g.value!==void 0?` text-${g.value}`:"")+(a.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(b.value===!0?"prefix":"icon"):"")+(s.value===!0?" q-stepper__tab--active":"")+(l.value===!0?" q-stepper__tab--done":"")+(p.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(t.value===!0?" q-stepper__tab--disabled":"")),y=d(()=>e.stepper.headerNav!==!0?!1:p.value);function S(){var r;(r=m.value)==null||r.focus(),s.value===!1&&e.goToPanel(e.step.name)}function _(r){r.keyCode===13&&s.value===!1&&e.goToPanel(e.step.name)}return()=>{const r={class:f.value};p.value===!0&&(r.onClick=S,r.onKeyup=_,Object.assign(r,t.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:n.tabindex||0}));const c=[v("div",{class:"q-focus-helper",tabindex:-1,ref:m}),v("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[v("span",{class:"row flex-center"},[b.value===!0?e.step.prefix:v(ae,{name:u.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const P=[v("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&P.push(v("div",{class:"q-stepper__caption"},e.step.caption)),c.push(v("div",{class:"q-stepper__label q-stepper__line relative-position"},P))}return oe(v("div",r,c),[[ie,y.value]])}}});function ye(e){const n=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((i,m)=>{const s=parseFloat(i);s&&(n[m]=s)}),n}const Ce=se({name:"touch-swipe",beforeMount(e,{value:n,arg:i,modifiers:m}){if(m.mouse!==!0&&x.has.touch!==!0)return;const s=m.mouseCapture===!0?"Capture":"",t={handler:n,sensitivity:ye(i),direction:O(m),noop:le,mouseStart(a){j(a,t)&&ue(a)&&(k(t,"temp",[[document,"mousemove","move",`notPassive${s}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(a,!0))},touchStart(a){if(j(a,t)){const l=a.target;k(t,"temp",[[l,"touchmove","move","notPassiveCapture"],[l,"touchcancel","end","notPassiveCapture"],[l,"touchend","end","notPassiveCapture"]]),t.start(a)}},start(a,l){x.is.firefox===!0&&$(e,!0);const p=W(a);t.event={x:p.left,y:p.top,time:Date.now(),mouse:l===!0,dir:!1}},move(a){if(t.event===void 0)return;if(t.event.dir!==!1){B(a);return}const l=Date.now()-t.event.time;if(l===0)return;const p=W(a),b=p.left-t.event.x,u=Math.abs(b),g=p.top-t.event.y,f=Math.abs(g);if(t.event.mouse!==!0){if(u<t.sensitivity[1]&&f<t.sensitivity[1]){t.end(a);return}}else if(window.getSelection().toString()!==""){t.end(a);return}else if(u<t.sensitivity[2]&&f<t.sensitivity[2])return;const y=u/l,S=f/l;t.direction.vertical===!0&&u<f&&u<100&&S>t.sensitivity[0]&&(t.event.dir=g<0?"up":"down"),t.direction.horizontal===!0&&u>f&&f<100&&y>t.sensitivity[0]&&(t.event.dir=b<0?"left":"right"),t.direction.up===!0&&u<f&&g<0&&u<100&&S>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&u<f&&g>0&&u<100&&S>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&u>f&&b<0&&f<100&&y>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&u>f&&b>0&&f<100&&y>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(B(a),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),ne(),t.styleCleanup=_=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const r=()=>{document.body.classList.remove("no-pointer-events--children")};_===!0?setTimeout(r,50):r()}),t.handler({evt:a,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:l,distance:{x:u,y:f}})):t.end(a)},end(a){var l;t.event!==void 0&&(N(t,"temp"),x.is.firefox===!0&&$(e,!1),(l=t.styleCleanup)==null||l.call(t,!0),a!==void 0&&t.event.dir!==!1&&B(a),t.event=void 0)}};if(e.__qtouchswipe=t,m.mouse===!0){const a=m.mouseCapture===!0||m.mousecapture===!0?"Capture":"";k(t,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}x.has.touch===!0&&k(t,"main",[[e,"touchstart","touchStart",`passive${m.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const i=e.__qtouchswipe;i!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&i.end(),i.handler=n.value),i.direction=O(n.modifiers))},beforeUnmount(e){var i;const n=e.__qtouchswipe;n!==void 0&&(N(n,"main"),N(n,"temp"),x.is.firefox===!0&&$(e,!1),(i=n.styleCleanup)==null||i.call(n),delete e.__qtouchswipe)}});function Y(){let e=Object.create(null);return{getCache:(n,i)=>e[n]===void 0?e[n]=typeof i=="function"?i():i:e[n],setCache(n,i){e[n]=i},hasCache(n){return Object.hasOwnProperty.call(e,n)},clearCache(n){n!==void 0?delete e[n]:e=Object.create(null)}}}const _e={name:{required:!0},disable:Boolean},z={setup(e,{slots:n}){return()=>v("div",{class:"q-panel scroll",role:"tabpanel"},w(n.default))}},Pe={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},qe=["update:modelValue","beforeTransition","transition"];function xe(){const{props:e,emit:n,proxy:i}=T(),{getCache:m}=Y(),{registerTimeout:s}=ce();let t,a;const l=K(null),p={value:null};function b(o){const h=e.vertical===!0?"up":"left";q((i.$q.lang.rtl===!0?-1:1)*(o.direction===h?1:-1))}const u=d(()=>[[Ce,b,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),g=d(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),f=d(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),y=d(()=>`--q-transition-duration: ${e.transitionDuration}ms`),S=d(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),_=d(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),r=d(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);ve(()=>e.modelValue,(o,h)=>{const C=I(o)===!0?D(o):-1;a!==!0&&R(C===-1?0:C<D(h)?-1:1),p.value!==C&&(p.value=C,n("beforeTransition",o,h),s(()=>{n("transition",o,h)},e.transitionDuration))});function c(){q(1)}function P(){q(-1)}function Q(o){n("update:modelValue",o)}function I(o){return o!=null&&o!==""}function D(o){return t.findIndex(h=>h.props.name===o&&h.props.disable!==""&&h.props.disable!==!0)}function Z(){return t.filter(o=>o.props.disable!==""&&o.props.disable!==!0)}function R(o){const h=o!==0&&e.animated===!0&&p.value!==-1?"q-transition--"+(o===-1?g.value:f.value):null;l.value!==h&&(l.value=h)}function q(o,h=p.value){let C=h+o;for(;C!==-1&&C<t.length;){const A=t[C];if(A!==void 0&&A.props.disable!==""&&A.props.disable!==!0){R(o),a=!0,n("update:modelValue",A.props.name),setTimeout(()=>{a=!1});return}C+=o}e.infinite===!0&&t.length!==0&&h!==-1&&h!==t.length&&q(o,o===-1?t.length:-1)}function L(){const o=D(e.modelValue);return p.value!==o&&(p.value=o),!0}function M(){const o=I(e.modelValue)===!0&&L()&&t[p.value];return e.keepAlive===!0?[v(F,_.value,[v(r.value===!0?m(S.value,()=>({...z,name:S.value})):z,{key:S.value,style:y.value},()=>o)])]:[v("div",{class:"q-panel scroll",style:y.value,key:S.value,role:"tabpanel"},[o])]}function G(){if(t.length!==0)return e.animated===!0?[v(de,{name:l.value},M)]:M()}function ee(o){return t=pe(w(o.default,[])).filter(h=>h.props!==null&&h.props.slot===void 0&&I(h.props.name)===!0),t.length}function te(){return t}return Object.assign(i,{next:c,previous:P,goTo:Q}),{panelIndex:p,panelDirectives:u,updatePanelsList:ee,updatePanelIndex:L,getPanelContent:G,getEnabledPanels:Z,getPanels:te,isValidPanelName:I,keepAliveProps:_,needsUniqueKeepAliveWrapper:r,goToPanelByOffset:q,goToPanel:Q,nextPanel:c,previousPanel:P}}function J(e){return v("div",{class:"q-stepper__step-content"},[v("div",{class:"q-stepper__step-inner"},w(e.default))])}const U={setup(e,{slots:n}){return()=>J(n)}},Te=V({name:"QStep",props:{..._e,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:n,emit:i}){const{proxy:{$q:m}}=T(),s=fe(X,E);if(s===E)return console.error("QStep needs to be a child of QStepper"),E;const{getCache:t}=Y(),a=K(null),l=d(()=>s.value.modelValue===e.name),p=d(()=>m.platform.is.ios!==!0&&m.platform.is.chrome===!0||l.value!==!0||s.value.vertical!==!0?{}:{onScroll(g){const{target:f}=g;f.scrollTop>0&&(f.scrollTop=0),e.onScroll!==void 0&&i("scroll",g)}}),b=d(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function u(){const g=s.value.vertical;return g===!0&&s.value.keepAlive===!0?v(F,s.value.keepAliveProps.value,l.value===!0?[v(s.value.needsUniqueKeepAliveWrapper.value===!0?t(b.value,()=>({...U,name:b.value})):U,{key:b.value},n.default)]:void 0):g!==!0||l.value===!0?J(n):void 0}return()=>v("div",{ref:a,class:"q-stepper__step",role:"tabpanel",...p.value},s.value.vertical===!0?[v(H,{stepper:s.value,step:e,goToPanel:s.value.goToPanel}),s.value.animated===!0?v(re,u):u()]:[u()])}}),we=/(-\w)/g;function Ie(e){const n={};for(const i in e){const m=i.replace(we,s=>s[1].toUpperCase());n[m]=e[i]}return n}const De=V({name:"QStepper",props:{...me,...Pe,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:qe,setup(e,{slots:n}){const i=T(),m=he(e,i.proxy.$q),{updatePanelsList:s,isValidPanelName:t,updatePanelIndex:a,getPanelContent:l,getPanels:p,panelDirectives:b,goToPanel:u,keepAliveProps:g,needsUniqueKeepAliveWrapper:f}=xe();ge(X,d(()=>({goToPanel:u,keepAliveProps:g,needsUniqueKeepAliveWrapper:f,...e})));const y=d(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(m.value===!0?" q-stepper--dark q-dark":"")),S=d(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function _(){const r=w(n.message,[]);if(e.vertical===!0){t(e.modelValue)&&a();const c=v("div",{class:"q-stepper__content"},w(n.default));return r===void 0?[c]:r.concat(c)}return[v("div",{class:S.value},p().map(c=>{const P=Ie(c.props);return v(H,{key:P.name,stepper:e,step:P,goToPanel:u})})),r,Se("div",{class:"q-stepper__content q-panel-parent"},l(),"cont",e.swipeable,()=>b.value)]}return()=>(s(n),v("div",{class:y.value},be(n.navigation,_())))}});export{De as Q,Te as a};
