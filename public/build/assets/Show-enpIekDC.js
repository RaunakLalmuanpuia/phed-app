import{Q as Nt,a as ut}from"./QBreadcrumbs-BPzl3Nvd.js";import{b as zt,a as Qt,Q as Ft}from"./QLayout-D_4lhnAr.js";import{J as ht,K as Be,L as _t,M as Qe,r as Q,D as P,j as ze,i as xt,N as he,R as It,k as j,z as ke,O as Mt,P as Ht,S as tt,T as lt,H as Le,U as Ie,V as Xe,h as re,X as wt,Y as Wt,Z as Kt,I as Ue,x as pe,d as R,o as p,f as t,w as a,q as B,b as n,c as E,e as U,m as $,Q as te,F as Y,n as oe,t as q,l as qe,p as H,_ as ge,B as x,$ as ue,u as w,a0 as $e,a1 as Yt,a2 as Jt,a3 as Ye,a4 as Gt,a5 as Xt,a6 as Zt,a7 as el,a8 as dt,a9 as ct,aa as tl,ab as ll,W as Ze,ac as kt,ad as al,ae as qt,af as Ct,ag as nl,A as $t,G as ol,ah as sl,ai as ft,aj as il,ak as rl,al as ul,am as dl,E as mt,v as cl}from"./app-CfWHsIiJ.js";import{C as Ce,v as fl,b as gt,u as ml,p as vt,c as gl,d as vl,e as pl,r as pt,s as bl,Q as at,a as M,f as D,g as yl,_ as hl,h as _l}from"./BackendLayout-Co0gyRue.js";import{r as xl,Q as Me}from"./QSelect-3VCKS2Ve.js";import{Q as wl,u as kl,a as ql,b as Cl}from"./use-fullscreen-oP2PSsm1.js";import{Q as Ae}from"./QFile-BU7YOu7k.js";import{u as be}from"./use-quasar-DHczZ9tJ.js";import{u as Ee}from"./useUtils-FhkNX5Ho.js";import{_ as Tt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as bt}from"./touch-CUFcxDzv.js";import{Q as St}from"./QForm-Bv4AoueP.js";import"./date-cfAoxGAh.js";let $l=0;const Tl=["click","keydown"],Sl={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${$l++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Dl(e,l,o,u){const i=ht(_t,Be);if(i===Be)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Be;const{proxy:m}=Qe(),c=Q(null),h=Q(null),d=Q(null),s=P(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),r=P(()=>i.currentModel.value===e.name),f=P(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(r.value===!0?" q-tab--active"+(i.tabProps.value.activeClass?" "+i.tabProps.value.activeClass:"")+(i.tabProps.value.activeColor?` text-${i.tabProps.value.activeColor}`:"")+(i.tabProps.value.activeBgColor?` bg-${i.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&i.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||i.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),_=P(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(i.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),T=P(()=>e.disable===!0||i.hasFocus.value===!0||r.value===!1&&i.hasActiveTab.value===!0?-1:e.tabindex||0);function S(L,J){var N;if(J!==!0&&(L==null?void 0:L.qAvoidFocus)!==!0&&((N=c.value)==null||N.focus()),e.disable!==!0){i.updateModel({name:e.name}),o("click",L);return}}function y(L){Ht(L,[13,32])?S(L,!0):tt(L)!==!0&&L.keyCode>=35&&L.keyCode<=40&&L.altKey!==!0&&L.metaKey!==!0&&i.onKbdNavigate(L.keyCode,m.$el)===!0&&lt(L),o("keydown",L)}function g(){const L=i.tabProps.value.narrowIndicator,J=[],N=j("div",{ref:d,class:["q-tab__indicator",i.tabProps.value.indicatorClass]});e.icon!==void 0&&J.push(j(ke,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&J.push(j("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&J.push(e.alertIcon!==void 0?j(ke,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):j("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),L===!0&&J.push(N);const ae=[j("div",{class:"q-focus-helper",tabindex:-1,ref:c}),j("div",{class:_.value},Mt(l.default,J))];return L===!1&&ae.push(N),ae}const v={name:P(()=>e.name),rootRef:h,tabIndicatorRef:d,routeData:u};ze(()=>{i.unregisterTab(v)}),xt(()=>{i.registerTab(v)});function A(L,J){const N={ref:h,class:f.value,tabindex:T.value,role:"tab","aria-selected":r.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:S,onKeydown:y,...J};return he(j(L,N,g()),[[It,s.value]])}return{renderTab:A,$tabs:i}}const je=Le({name:"QTab",props:Sl,emits:Tl,setup(e,{slots:l,emit:o}){const{renderTab:u}=Dl(e,l,o);return()=>u("div")}});function Rl(e,l,o){const u=o===!0?["left","right"]:["top","bottom"];return`absolute-${l===!0?u[0]:u[1]}${e?` text-${e}`:""}`}const El=["left","center","right","justify"],Vl=Le({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>El.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:l,emit:o}){const{proxy:u}=Qe(),{$q:i}=u,{registerTick:m}=Ie(),{registerTick:c}=Ie(),{registerTick:h}=Ie(),{registerTimeout:d,removeTimeout:s}=Xe(),{registerTimeout:r,removeTimeout:f}=Xe(),_=Q(null),T=Q(null),S=Q(e.modelValue),y=Q(!1),g=Q(!0),v=Q(!1),A=Q(!1),L=[],J=Q(0),N=Q(!1);let ae=null,ne=null,G;const ie=P(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Rl(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),_e=P(()=>{const C=J.value,O=S.value;for(let z=0;z<C;z++)if(L[z].name.value===O)return!0;return!1}),xe=P(()=>`q-tabs__content--align-${y.value===!0?"left":A.value===!0?"justify":e.align}`),Te=P(()=>`q-tabs row no-wrap items-center q-tabs--${y.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),Se=P(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+xe.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),V=P(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),se=P(()=>e.vertical!==!0&&i.lang.rtl===!0),ve=P(()=>xl===!1&&se.value===!0);re(se,ce),re(()=>e.modelValue,C=>{Ve({name:C,setCurrent:!0,skipEmit:!0})}),re(()=>e.outsideArrows,De);function Ve({name:C,setCurrent:O,skipEmit:z}){S.value!==C&&(z!==!0&&e["onUpdate:modelValue"]!==void 0&&o("update:modelValue",C),(O===!0||e["onUpdate:modelValue"]===void 0)&&(Pe(S.value,C),S.value=C))}function De(){m(()=>{_.value&&Oe({width:_.value.offsetWidth,height:_.value.offsetHeight})})}function Oe(C){if(V.value===void 0||T.value===null)return;const O=C[V.value.container],z=Math.min(T.value[V.value.scroll],Array.prototype.reduce.call(T.value.children,(Z,W)=>Z+(W[V.value.content]||0),0)),X=O>0&&z>O;y.value=X,X===!0&&c(ce),A.value=O<parseInt(e.breakpoint,10)}function Pe(C,O){const z=C!=null&&C!==""?L.find(Z=>Z.name.value===C):null,X=O!=null&&O!==""?L.find(Z=>Z.name.value===O):null;if(Fe===!0)Fe=!1;else if(z&&X){const Z=z.tabIndicatorRef.value,W=X.tabIndicatorRef.value;ae!==null&&(clearTimeout(ae),ae=null),Z.style.transition="none",Z.style.transform="none",W.style.transition="none",W.style.transform="none";const I=Z.getBoundingClientRect(),le=W.getBoundingClientRect();W.style.transform=e.vertical===!0?`translate3d(0,${I.top-le.top}px,0) scale3d(1,${le.height?I.height/le.height:1},1)`:`translate3d(${I.left-le.left}px,0,0) scale3d(${le.width?I.width/le.width:1},1,1)`,h(()=>{ae=setTimeout(()=>{ae=null,W.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",W.style.transform="none"},70)})}X&&y.value===!0&&de(X.rootRef.value)}function de(C){const{left:O,width:z,top:X,height:Z}=T.value.getBoundingClientRect(),W=C.getBoundingClientRect();let I=e.vertical===!0?W.top-X:W.left-O;if(I<0){T.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(I),ce();return}I+=e.vertical===!0?W.height-Z:W.width-z,I>0&&(T.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(I),ce())}function ce(){const C=T.value;if(C===null)return;const O=C.getBoundingClientRect(),z=e.vertical===!0?C.scrollTop:Math.abs(C.scrollLeft);se.value===!0?(g.value=Math.ceil(z+O.width)<C.scrollWidth-1,v.value=z>0):(g.value=z>0,v.value=e.vertical===!0?Math.ceil(z+O.height)<C.scrollHeight:Math.ceil(z+O.width)<C.scrollWidth)}function K(C){ne!==null&&clearInterval(ne),ne=setInterval(()=>{ee(C)===!0&&b()},5)}function ye(){K(ve.value===!0?Number.MAX_SAFE_INTEGER:0)}function fe(){K(ve.value===!0?0:Number.MAX_SAFE_INTEGER)}function b(){ne!==null&&(clearInterval(ne),ne=null)}function k(C,O){const z=Array.prototype.filter.call(T.value.children,le=>le===O||le.matches&&le.matches(".q-tab.q-focusable")===!0),X=z.length;if(X===0)return;if(C===36)return de(z[0]),z[0].focus(),!0;if(C===35)return de(z[X-1]),z[X-1].focus(),!0;const Z=C===(e.vertical===!0?38:37),W=C===(e.vertical===!0?40:39),I=Z===!0?-1:W===!0?1:void 0;if(I!==void 0){const le=se.value===!0?-1:1,we=z.indexOf(O)+I*le;return we>=0&&we<X&&(de(z[we]),z[we].focus({preventScroll:!0})),!0}}const F=P(()=>ve.value===!0?{get:C=>Math.abs(C.scrollLeft),set:(C,O)=>{C.scrollLeft=-O}}:e.vertical===!0?{get:C=>C.scrollTop,set:(C,O)=>{C.scrollTop=O}}:{get:C=>C.scrollLeft,set:(C,O)=>{C.scrollLeft=O}});function ee(C){const O=T.value,{get:z,set:X}=F.value;let Z=!1,W=z(O);const I=C<W?-1:1;return W+=I*5,W<0?(Z=!0,W=0):(I===-1&&W<=C||I===1&&W>=C)&&(Z=!0,W=C),X(O,W),ce(),Z}function me(C,O){for(const z in C)if(C[z]!==O[z])return!1;return!0}function He(){let C=null,O={matchedLen:0,queryDiff:9999,hrefLen:0};const z=L.filter(I=>{var le;return((le=I.routeData)==null?void 0:le.hasRouterLink.value)===!0}),{hash:X,query:Z}=u.$route,W=Object.keys(Z).length;for(const I of z){const le=I.routeData.exact.value===!0;if(I.routeData[le===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:we,query:We,matched:Bt,href:Ut}=I.routeData.resolvedLink.value,Ke=Object.keys(We).length;if(le===!0){if(we!==X||Ke!==W||me(Z,We)===!1)continue;C=I.name.value;break}if(we!==""&&we!==X||Ke!==0&&me(We,Z)===!1)continue;const Re={matchedLen:Bt.length,queryDiff:W-Ke,hrefLen:Ut.length-we.length};if(Re.matchedLen>O.matchedLen){C=I.name.value,O=Re;continue}else if(Re.matchedLen!==O.matchedLen)continue;if(Re.queryDiff<O.queryDiff)C=I.name.value,O=Re;else if(Re.queryDiff!==O.queryDiff)continue;Re.hrefLen>O.hrefLen&&(C=I.name.value,O=Re)}if(C===null&&L.some(I=>I.routeData===void 0&&I.name.value===S.value)===!0){Fe=!1;return}Ve({name:C,setCurrent:!0})}function Pt(C){if(s(),N.value!==!0&&_.value!==null&&C.target&&typeof C.target.closest=="function"){const O=C.target.closest(".q-tab");O&&_.value.contains(O)===!0&&(N.value=!0,y.value===!0&&de(O))}}function jt(){d(()=>{N.value=!1},30)}function Ne(){st.avoidRouteWatcher===!1?r(He):f()}function ot(){if(G===void 0){const C=re(()=>u.$route.fullPath,Ne);G=()=>{C(),G=void 0}}}function Lt(C){L.push(C),J.value++,De(),C.routeData===void 0||u.$route===void 0?r(()=>{if(y.value===!0){const O=S.value,z=O!=null&&O!==""?L.find(X=>X.name.value===O):null;z&&de(z.rootRef.value)}}):(ot(),C.routeData.hasRouterLink.value===!0&&Ne())}function At(C){L.splice(L.indexOf(C),1),J.value--,De(),G!==void 0&&C.routeData!==void 0&&(L.every(O=>O.routeData===void 0)===!0&&G(),Ne())}const st={currentModel:S,tabProps:ie,hasFocus:N,hasActiveTab:_e,registerTab:Lt,unregisterTab:At,verifyRouteModel:Ne,updateModel:Ve,onKbdNavigate:k,avoidRouteWatcher:!1};wt(_t,st);function it(){ae!==null&&clearTimeout(ae),b(),G==null||G()}let rt,Fe;return ze(it),Wt(()=>{rt=G!==void 0,it()}),Kt(()=>{rt===!0&&(ot(),Fe=!0,Ne()),De()}),()=>j("div",{ref:_,class:Te.value,role:"tablist",onFocusin:Pt,onFocusout:jt},[j(zt,{onResize:Oe}),j("div",{ref:T,class:Se.value,onScroll:ce},Ue(l.default)),j(ke,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(g.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||i.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:ye,onTouchstartPassive:ye,onMouseupPassive:b,onMouseleavePassive:b,onTouchendPassive:b}),j(ke,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(v.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||i.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:fe,onTouchstartPassive:fe,onMouseupPassive:b,onMouseleavePassive:b,onTouchendPassive:b})])}}),Ol={key:0},Pl={key:1},jl={class:"row q-col-gutter-md q-mt-sm"},Ll={class:"q-pa-sm"},Al={class:"q-pa-sm"},Bl={class:"q-pa-sm"},Ul={class:"q-pa-sm"},Nl={key:0},zl={key:0,class:"text-gray-500 text-center py-5 text-base italic"},Ql={key:1,class:"flex flex-col gap-6"},Fl={class:"flex flex-wrap justify-between items-center mb-4"},Il={class:"text-gray-600"},Ml={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4"},Hl={class:"text-gray-500"},Wl={class:"font-semibold mb-1"},Kl={__name:"Document",props:["data","office","documentTypes","canDeleteDocument","canApproveDocumentEdit","canRequestDocumentEdit"],setup(e){const l=e,o=be(),u=Q(""),i=Q(!1),m=P(()=>{var S;return(S=l.data)!=null&&S.documents?l.data.documents.filter(y=>{var v,A,L;const g=u.value.toLowerCase();return((v=y.name)==null?void 0:v.toLowerCase().includes(g))||((L=(A=y.type)==null?void 0:A.name)==null?void 0:L.toLowerCase().includes(g))}):[]}),c=P(()=>!Object.values(s.files).some(S=>S));function h(S){return new Date(S).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}const d=P(()=>{var S,y;return((y=(S=l.data.document_request)==null?void 0:S.slice(-1)[0])==null?void 0:y.approval_status)==="pending"}),s=pe({files:{}}),r=()=>{s.post(route("document.request",l.data),{onSuccess:()=>{s.reset("files"),i.value=!1,o.notify({type:"positive",message:"Document Request Submitted",position:"bottom"})},onError:S=>{Object.values(S).forEach(y=>{o.notify({type:"negative",message:y,position:"bottom"})})}})},f=S=>{s.post(route("document.approve",S),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),i.value=!1,s.reset(),o.notify({type:"positive",message:"Document Approved",position:"bottom"})},onError:y=>{Object.values(y).forEach(g=>{o.notify({type:"negative",message:g,position:"bottom"})})}})},_=S=>{s.post(route("document.reject",S),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),i.value=!1,s.reset(),o.notify({type:"negative",message:"Transfer Rejected",position:"bottom"})},onError:y=>{Object.values(y).forEach(g=>{o.notify({type:"negative",message:g,position:"bottom"})})}})},T=S=>{var y;o.dialog({title:"Confirm",message:`Are you sure you want to delete "${(y=S.type)==null?void 0:y.name}"?`,cancel:!0,persistent:!0}).onOk(()=>{s.delete(route("document.destroy",S),{preserveScroll:!0,onSuccess:()=>{o.notify({type:"positive",message:"Document deleted successfully."})},onError:g=>{Object.values(g).forEach(v=>{o.notify({type:"negative",message:v,position:"bottom"})})}})})};return(S,y)=>(p(),R(Y,null,[t(H,{class:"q-mt-md"},{default:a(()=>[t(B,{class:"flex items-center justify-between"},{default:a(()=>[y[3]||(y[3]=n("div",{class:"stitle text-lg font-bold"},"Uploaded Documents",-1)),e.canRequestDocumentEdit?(p(),E($,{key:0,label:"Request Document Update",color:"primary",disable:d.value,onClick:y[0]||(y[0]=g=>i.value=!0)},null,8,["disable"])):U("",!0)]),_:1,__:[3]}),t(B,null,{default:a(()=>[m.value.length===0?(p(),R("div",Ol,y[4]||(y[4]=[n("p",{class:"text-gray-500 text-center py-5 text-base italic"},"No documents uploaded",-1)]))):U("",!0),m.value.length>0?(p(),R("div",Pl,[n("div",jl,[t(te,{modelValue:u.value,"onUpdate:modelValue":y[1]||(y[1]=g=>u.value=g),dense:"",outlined:"",label:"Search by document type...",class:"col-12 col-sm-6"},null,8,["modelValue"])]),t(wl,{flat:"",dense:"",class:"q-ma-sm"},{default:a(()=>[y[6]||(y[6]=n("thead",null,[n("tr",{class:"text-left"},[n("th",null,"Type"),n("th",null,"Mime Type"),n("th",null,"Upload Date"),n("th",null,"Actions")])],-1)),n("tbody",null,[(p(!0),R(Y,null,oe(m.value,g=>{var v;return p(),R("tr",{key:g.id,class:"text-left"},[n("td",Ll,q(((v=g.type)==null?void 0:v.name)||"—"),1),n("td",Al,q(g.mime),1),n("td",Bl,q(h(g.upload_date)),1),n("td",Ul,[t($,{icon:"visibility",flat:"",dense:"",color:"primary",round:"",href:`/storage/${g.path}`,target:"_blank",title:"View Document"},null,8,["href"]),t($,{icon:"download",flat:"",dense:"",round:"",color:"primary",href:`/storage/${g.path}`,download:"",title:"Download Document"},null,8,["href"]),e.canDeleteDocument?(p(),E($,{key:0,icon:"delete",flat:"",dense:"",round:"",color:"red",onClick:A=>T(g),download:"",title:"Download Document"},null,8,["onClick"])):U("",!0)])])}),128)),m.value.length===0?(p(),R("tr",Nl,y[5]||(y[5]=[n("td",{colspan:"5",class:"text-center text-grey"},"No documents found",-1)]))):U("",!0)])]),_:1,__:[6]})])):U("",!0)]),_:1}),t(qe),t(B,null,{default:a(()=>[e.data.document_request.length===0?(p(),R("div",zl," No Document update request found. ")):(p(),R("div",Ql,[(p(!0),R(Y,null,oe(e.data.document_request,g=>(p(),E(H,{key:g.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:a(()=>[t(B,null,{default:a(()=>[n("div",Fl,[n("div",null,[y[7]||(y[7]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:ge(["ml-1 font-medium capitalize",{"text-yellow-600":g.approval_status==="pending","text-green-600":g.approval_status==="approved","text-red-600":g.approval_status==="rejected"}])},q(g.approval_status),3)]),n("div",Il,[y[8]||(y[8]=n("b",null,"Requested On:",-1)),x(" "+q(h(g.request_date)),1)])]),n("div",null,[y[9]||(y[9]=n("b",{class:"block mb-3 text-gray-700"},"Documents",-1)),n("div",Ml,[(p(!0),R(Y,null,oe(g.files,v=>(p(),R("div",{key:v.id,class:"mb-2"},[n("div",Hl,[x(q(v.document_type.name)+": ",1),t($,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${v.path}`,target:"_blank"},null,8,["href"]),t($,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${v.path}`,target:"_blank",download:""},null,8,["href"])])]))),128))])])]),_:2},1024),g.approval_status==="pending"&&e.canApproveDocumentEdit?(p(),E(ue,{key:0,align:"right",class:"px-4 pb-4"},{default:a(()=>[t($,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:v=>f(g.id)},null,8,["onClick"]),t($,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:v=>_(g.id)},null,8,["onClick"])]),_:2},1024)):U("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}),t($e,{modelValue:i.value,"onUpdate:modelValue":y[2]||(y[2]=g=>i.value=g)},{default:a(()=>[t(H,{style:{"min-width":"600px"}},{default:a(()=>[t(B,null,{default:a(()=>y[10]||(y[10]=[n("div",{class:"text-lg font-bold"},"Request Document Update",-1)])),_:1,__:[10]}),t(B,null,{default:a(()=>[(p(!0),R(Y,null,oe(e.documentTypes,g=>(p(),R("div",{key:g.id,class:"mb-4"},[n("div",Wl,q(g.name),1),t(Ae,{modelValue:w(s).files[g.id],"onUpdate:modelValue":v=>w(s).files[g.id]=v,filled:"",dense:"",label:"Choose file",accept:".pdf,.jpg,.jpeg,.png"},null,8,["modelValue","onUpdate:modelValue"])]))),128))]),_:1}),t(ue,{align:"right"},{default:a(()=>[he(t($,{flat:"",label:"Cancel",color:"grey"},null,512),[[Ce]]),t($,{label:"Submit Request",color:"primary",loading:w(s).processing,disable:c.value,onClick:r},null,8,["loading","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Yl={key:0,class:"text-gray-500 text-center py-10 text-base italic"},Jl={key:1,class:"flex flex-col gap-6"},Gl={class:"flex flex-wrap justify-between items-center mb-4"},Xl={class:"text-gray-600"},Zl={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4"},ea={class:"text-gray-500"},ta={class:"text-gray-800 font-bold"},la={class:"text-gray-500"},aa={class:"text-gray-800 font-bold"},na={class:"text-gray-500"},oa={__name:"TransferRequest",props:["data","office"],setup(e){const{formatDate:l}=Ee(),o=be(),u=Q(!1),i=pe({}),m=h=>{i.post(route("transfer.approve",h),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),u.value=!1,i.reset(),o.notify({type:"success",message:"Transfer Approved",position:"bottom"})},onError:d=>{Object.values(d).forEach(s=>{o.notify({type:"negative",message:s,position:"bottom"})})}})},c=h=>{i.post(route("transfer.reject",h),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),u.value=!1,i.reset(),o.notify({type:"negative",message:"Transfer Rejected",position:"bottom"})},onError:d=>{Object.values(d).forEach(s=>{o.notify({type:"negative",message:s,position:"bottom"})})}})};return(h,d)=>(p(),E(H,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:a(()=>[t(B,{class:"flex items-center justify-between"},{default:a(()=>d[0]||(d[0]=[n("div",{class:"stitle text-lg font-bold"},"Transfer Request",-1)])),_:1,__:[0]}),t(qe),t(B,null,{default:a(()=>[e.data.transfer_requests.length===0?(p(),R("div",Yl," No transfer requests found. ")):(p(),R("div",Jl,[(p(!0),R(Y,null,oe(e.data.transfer_requests,s=>(p(),E(H,{key:s.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:a(()=>[t(B,null,{default:a(()=>{var r,f;return[n("div",Gl,[n("div",null,[d[1]||(d[1]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:ge(["ml-1 font-medium capitalize",{"text-yellow-600":s.approval_status==="pending","text-green-600":s.approval_status==="approved","text-red-600":s.approval_status==="rejected"}])},q(s.approval_status),3)]),n("div",Xl,[d[2]||(d[2]=n("b",null,"Requested On:",-1)),x(" "+q(w(l)(s.request_date)),1)])]),n("div",null,[d[6]||(d[6]=n("b",{class:"block mb-3 text-gray-700"},"Transfer Details",-1)),n("div",Zl,[n("div",null,[n("div",ea,[d[3]||(d[3]=x(" Current Office: ")),n("span",ta,q(((r=s.current_office)==null?void 0:r.name)||"—"),1)])]),n("div",null,[n("div",la,[d[4]||(d[4]=x(" Requested Office: ")),n("span",aa,q(((f=s.requested_office)==null?void 0:f.name)||"—"),1)])]),n("div",null,[n("div",na,[d[5]||(d[5]=x(" Transfer Order: ")),t($,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${s.supporting_document}`,target:"_blank"},null,8,["href"]),t($,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${s.supporting_document}`,target:"_blank",download:""},null,8,["href"])])])])])]}),_:2},1024),s.approval_status==="pending"?(p(),E(ue,{key:0,align:"right",class:"px-4 pb-4"},{default:a(()=>[t($,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:r=>m(s.id)},null,8,["onClick"]),t($,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:r=>c(s.id)},null,8,["onClick"])]),_:2},1024)):U("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}))}},sa=Tt(oa,[["__scopeId","data-v-d2818299"]]),et=Le({name:"QTooltip",inheritAttrs:!1,props:{...ml,...Gt,...Ye,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...Ye.transitionShow,default:"jump-down"},transitionHide:{...Ye.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:gt},self:{type:String,default:"top middle",validator:gt},offset:{type:Array,default:()=>[14,14],validator:fl},scrollTarget:Jt,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Yt],setup(e,{slots:l,emit:o,attrs:u}){let i,m;const c=Qe(),{proxy:{$q:h}}=c,d=Q(null),s=Q(!1),r=P(()=>vt(e.anchor,h.lang.rtl)),f=P(()=>vt(e.self,h.lang.rtl)),_=P(()=>e.persistent!==!0),{registerTick:T,removeTick:S}=Ie(),{registerTimeout:y}=Xe(),{transitionProps:g,transitionStyle:v}=Xt(e),{localScrollTarget:A,changeScrollEvent:L,unconfigureScrollTarget:J}=gl(e,Pe),{anchorEl:N,canShow:ae,anchorEvents:ne}=vl({showing:s,configureAnchorEl:Oe}),{show:G,hide:ie}=Zt({showing:s,canShow:ae,handleShow:Se,handleHide:V,hideOnRouteChange:_,processOnMount:!0});Object.assign(ne,{delayShow:Ve,delayHide:De});const{showPortal:_e,hidePortal:xe,renderPortal:Te}=el(c,d,ce,"tooltip");if(h.platform.is.mobile===!0){const K={anchorEl:N,innerRef:d,onClickOutside(fe){return ie(fe),fe.target.classList.contains("q-dialog__backdrop")&&lt(fe),!0}},ye=P(()=>e.modelValue===null&&e.persistent!==!0&&s.value===!0);re(ye,fe=>{(fe===!0?pl:pt)(K)}),ze(()=>{pt(K)})}function Se(K){_e(),T(()=>{m=new MutationObserver(()=>ve()),m.observe(d.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),ve(),Pe()}),i===void 0&&(i=re(()=>h.screen.width+"|"+h.screen.height+"|"+e.self+"|"+e.anchor+"|"+h.lang.rtl,ve)),y(()=>{_e(!0),o("show",K)},e.transitionDuration)}function V(K){S(),xe(),se(),y(()=>{xe(!0),o("hide",K)},e.transitionDuration)}function se(){m!==void 0&&(m.disconnect(),m=void 0),i!==void 0&&(i(),i=void 0),J(),dt(ne,"tooltipTemp")}function ve(){bl({targetEl:d.value,offset:e.offset,anchorEl:N.value,anchorOrigin:r.value,selfOrigin:f.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Ve(K){if(h.platform.is.mobile===!0){bt(),document.body.classList.add("non-selectable");const ye=N.value,fe=["touchmove","touchcancel","touchend","click"].map(b=>[ye,b,"delayHide","passiveCapture"]);ct(ne,"tooltipTemp",fe)}y(()=>{G(K)},e.delay)}function De(K){h.platform.is.mobile===!0&&(dt(ne,"tooltipTemp"),bt(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),y(()=>{ie(K)},e.hideDelay)}function Oe(){if(e.noParentEvent===!0||N.value===null)return;const K=h.platform.is.mobile===!0?[[N.value,"touchstart","delayShow","passive"]]:[[N.value,"mouseenter","delayShow","passive"],[N.value,"mouseleave","delayHide","passive"]];ct(ne,"anchor",K)}function Pe(){if(N.value!==null||e.scrollTarget!==void 0){A.value=tl(N.value,e.scrollTarget);const K=e.noParentEvent===!0?ve:ie;L(A.value,K)}}function de(){return s.value===!0?j("div",{...u,ref:d,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",u.class],style:[u.style,v.value],role:"tooltip"},Ue(l.default)):null}function ce(){return j(ll,g.value,de)}return ze(se),Object.assign(c.proxy,{updatePosition:ve}),Te}}),ia={key:0,class:"text-gray-500 text-center py-10 text-base italic"},ra={key:1,class:"flex flex-col gap-6"},ua={class:"flex flex-wrap justify-between items-center mb-4"},da={class:""},ca={class:"text-gray-600"},fa={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg"},ma={class:"flex flex-col"},ga={class:"font-bold"},va={class:"text-gray-800"},pa={class:"font-bold"},ba={class:"font-bold"},ya={key:0,class:"mt-6"},ha={class:"space-y-2"},_a={class:"flex items-center space-x-2 text-gray-700"},xa={class:"flex space-x-1"},wa={__name:"EditRequest",props:["data"],setup(e){const{formatDate:l}=Ee(),o=h=>{Ze.post(route("edit.approve",h))},u=h=>{Ze.post(route("edit.reject",h))},i=h=>{try{return JSON.parse(h)}catch{return{}}},m={name:"Name",date_of_birth:"Date of Birth",parent_name:"Parent's Name",employment_type:"Employment Type",designation:"Designation",educational_qln:"Educational Qualification",technical_qln:"Technical Qualification",name_of_workplace:"Workplace Name",post_per_qualification:"Post per Qualification",date_of_engagement:"Date of Engagement",skill_category:"Skill Category",skill_at_present:"Skill at Present"},c=h=>{try{return h?JSON.parse(h):{}}catch{return{}}};return(h,d)=>(p(),E(H,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:a(()=>[t(B,null,{default:a(()=>d[0]||(d[0]=[n("div",{class:"stitle text-lg font-bold"},"Edit Requests",-1)])),_:1,__:[0]}),t(qe),t(B,null,{default:a(()=>[e.data.edit_requests.length===0?(p(),R("div",ia," No edit requests found. ")):(p(),R("div",ra,[(p(!0),R(Y,null,oe(e.data.edit_requests,s=>(p(),E(H,{key:s.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:a(()=>[t(B,null,{default:a(()=>[n("div",ua,[n("div",da,[d[1]||(d[1]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:ge(["ml-1 font-medium capitalize",{"text-yellow-600":s.approval_status==="pending","text-green-600":s.approval_status==="approved","text-red-600":s.approval_status==="rejected"}])},q(s.approval_status),3)]),n("div",ca,[d[2]||(d[2]=n("b",null,"Requested On:",-1)),x(" "+q(w(l)(s.request_date)),1)])]),n("div",null,[d[5]||(d[5]=n("b",{class:"block mb-3 text-gray-700"},"Requested Changes",-1)),n("div",fa,[(p(!0),R(Y,null,oe(i(s.requested_changes),(r,f)=>(p(),R("div",{key:f},[n("div",ma,[n("span",ga,q(m[f]??f)+": ",1),n("span",va,[d[3]||(d[3]=x(" From: ")),n("span",pa,q(f==="date_of_birth"?w(l)(c(s.previous_data)[f]):c(s.previous_data)[f]||"—"),1),d[4]||(d[4]=x(" To: ")),n("span",ba,q(f==="date_of_birth"||f==="date_of_engagement"?w(l)(r):r),1)])])]))),128))])]),s.attachments&&s.attachments.length>0?(p(),R("div",ya,[d[8]||(d[8]=n("b",{class:"block mb-3 text-gray-700"},"Attached Documents",-1)),n("div",ha,[(p(!0),R(Y,null,oe(s.attachments,r=>{var f;return p(),R("div",{key:r.id,class:"flex items-center justify-between p-3 border rounded-lg bg-gray-50 hover:bg-gray-100 transition"},[n("div",_a,[t(ke,{name:"attach_file",size:"16px",class:"text-gray-500"}),n("span",null,[n("b",null,q(((f=r.type)==null?void 0:f.name)||"Unknown Type"),1)])]),n("div",xa,[t($,{flat:"",dense:"",round:"",color:"primary",icon:"visibility",href:`/storage/${r.path}`,target:"_blank"},{default:a(()=>[t(et,null,{default:a(()=>d[6]||(d[6]=[x("View")])),_:1,__:[6]})]),_:2},1032,["href"]),t($,{flat:"",dense:"",round:"",color:"primary",icon:"download",href:`/storage/${r.path}`,download:""},{default:a(()=>[t(et,null,{default:a(()=>d[7]||(d[7]=[x("Download")])),_:1,__:[7]})]),_:2},1032,["href"])])])}),128))])])):U("",!0)]),_:2},1024),s.approval_status==="pending"?(p(),E(ue,{key:0,align:"right",class:"px-4 pb-4"},{default:a(()=>[t($,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:r=>o(s.id)},null,8,["onClick"]),t($,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:r=>u(s.id)},null,8,["onClick"])]),_:2},1024)):U("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}))}},ka={key:0,class:"text-gray-500 text-center py-10 text-base italic"},qa={key:1,class:"flex flex-col gap-6"},Ca={class:"flex flex-wrap justify-between items-center mb-4"},$a={class:"text-gray-600"},Ta={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg"},Sa={class:"text-gray-500"},Da={class:"text-gray-800 font-bold"},Ra={class:"text-gray-500"},Ea={class:"text-gray-800 font-bold"},Va={class:"text-gray-500"},Oa={class:"text-gray-800 font-bold"},Pa={class:"text-gray-500"},ja={class:"text-gray-800 font-bold"},La={key:0},Aa={class:"text-gray-500"},Ba={__name:"DeletionRequest",props:["data"],setup(e){const{formatDate:l}=Ee(),o=be(),u=pe({});function i(h){try{return JSON.parse(h.reason)}catch{return{}}}const m=h=>{u.post(route("deletion.approve",h),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),u.reset(),o.notify({type:"success",message:"Deletion Approved",position:"bottom"})},onError:d=>{Object.values(d).forEach(s=>{o.notify({type:"negative",message:s,position:"bottom"})})}})},c=h=>{u.post(route("deletion.reject",h),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),u.reset(),o.notify({type:"negative",message:"Deletion Rejected",position:"bottom"})},onError:d=>{Object.values(d).forEach(s=>{o.notify({type:"negative",message:s,position:"bottom"})})}})};return(h,d)=>(p(),E(H,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:a(()=>[t(B,null,{default:a(()=>d[0]||(d[0]=[n("div",{class:"stitle text-lg font-bold"},"Deletion Requests",-1)])),_:1,__:[0]}),t(qe),t(B,null,{default:a(()=>[e.data.deletion_requests.length===0?(p(),R("div",ka," No deletion requests found. ")):(p(),R("div",qa,[(p(!0),R(Y,null,oe(e.data.deletion_requests,s=>(p(),E(H,{key:s.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:a(()=>[t(B,null,{default:a(()=>[n("div",Ca,[n("div",null,[d[1]||(d[1]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:ge(["ml-1 font-medium capitalize",{"text-yellow-600":s.approval_status==="pending","text-green-600":s.approval_status==="approved","text-red-600":s.approval_status==="rejected"}])},q(s.approval_status),3)]),n("div",$a,[d[2]||(d[2]=n("b",null,"Requested On:",-1)),x(" "+q(w(l)(s.request_date)),1)])]),n("div",null,[d[8]||(d[8]=n("b",{class:"block mb-3 text-gray-700"},"Reason Details",-1)),n("div",Ta,[n("div",null,[n("div",Sa,[d[3]||(d[3]=x(" Reason: ")),n("span",Da,q(i(s).reason),1)])]),n("div",null,[n("div",Ra,[d[4]||(d[4]=x(" Year: ")),n("span",Ea,q(i(s).year),1)])]),n("div",null,[n("div",Va,[d[5]||(d[5]=x(" Remark: ")),n("span",Oa,q(i(s).remark),1)])]),n("div",null,[n("div",Pa,[d[6]||(d[6]=x(" Seniority List: ")),n("span",ja,q(i(s).seniority_list),1)])]),i(s).supporting_document?(p(),R("div",La,[n("div",Aa,[d[7]||(d[7]=x(" Supporting Document: ")),t($,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${i(s).supporting_document}`,target:"_blank"},null,8,["href"]),t($,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${i(s).supporting_document}`,target:"_blank",download:""},null,8,["href"])])])):U("",!0)])])]),_:2},1024),s.approval_status==="pending"?(p(),E(ue,{key:0,align:"right",class:"px-4 pb-4"},{default:a(()=>[t($,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:r=>m(s.id)},null,8,["onClick"]),t($,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:r=>c(s.id)},null,8,["onClick"])]),_:2},1024)):U("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}))}},Ua={key:0,class:"text-gray-500 text-center py-10 text-base italic"},Na={key:1,class:"flex flex-col gap-6"},za={class:"flex flex-wrap justify-between items-center mb-4"},Qa={class:"text-gray-600"},Fa={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg"},Ia={class:"text-gray-500"},Ma={class:"text-gray-800 font-bold"},Ha={class:"text-gray-500"},Wa={class:"text-gray-800 font-bold"},Ka={class:"text-gray-500"},Ya={class:"text-gray-800 font-bold"},Ja={class:"text-gray-500"},Ga={class:"text-gray-800 font-bold"},Xa={key:0},Za={class:"text-gray-500"},en={__name:"RequestDeletion",props:["data"],setup(e){const{formatDate:l}=Ee(),o=e,u=be(),i=pe({reason:"",seniority_list:"",year:"",remark:"",supporting_document:null}),m=P(()=>{var s,r;return((r=(s=o.data.deletion_requests)==null?void 0:s.slice(-1)[0])==null?void 0:r.approval_status)==="pending"}),c=Q(!1);function h(s){try{return JSON.parse(s.reason)}catch{return{}}}function d(){if(!i.reason){u.notify({type:"negative",message:"Reason is required",position:"bottom"});return}i.post(route("deletion.request",o.data),{preserveScroll:!0,onSuccess:()=>{u.notify({type:"positive",message:"Deletion request submitted successfully"}),c.value=!1,i.reset()},onError:s=>{Object.values(s).forEach(r=>{u.notify({type:"negative",message:r,position:"bottom"})})}})}return(s,r)=>(p(),R(Y,null,[t(H,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:a(()=>[t(B,{class:"flex items-center justify-between"},{default:a(()=>[r[8]||(r[8]=n("div",{class:"stitle text-lg font-bold"},"Request Deletion",-1)),n("div",null,[e.data.employment_type!=="Deleted"?(p(),E($,{key:0,label:"Request Deletion",color:"negative",disable:m.value,onClick:r[0]||(r[0]=f=>c.value=!0)},null,8,["disable"])):U("",!0)])]),_:1,__:[8]}),t(qe),t(B,null,{default:a(()=>[e.data.deletion_requests.length===0?(p(),R("div",Ua," No deletion requests found. ")):(p(),R("div",Na,[(p(!0),R(Y,null,oe(e.data.deletion_requests,f=>(p(),E(H,{key:f.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:a(()=>[t(B,null,{default:a(()=>[n("div",za,[n("div",null,[r[9]||(r[9]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:ge(["ml-1 font-medium capitalize",{"text-yellow-600":f.approval_status==="pending","text-green-600":f.approval_status==="approved","text-red-600":f.approval_status==="rejected"}])},q(f.approval_status),3)]),n("div",Qa,[r[10]||(r[10]=n("b",null,"Requested On:",-1)),x(" "+q(w(l)(f.request_date)),1)])]),n("div",null,[r[16]||(r[16]=n("b",{class:"block mb-3 text-gray-700"},"Reason Details",-1)),n("div",Fa,[n("div",null,[n("div",Ia,[r[11]||(r[11]=x(" Reason: ")),n("span",Ma,q(h(f).reason),1)])]),n("div",null,[n("div",Ha,[r[12]||(r[12]=x(" Year: ")),n("span",Wa,q(h(f).year),1)])]),n("div",null,[n("div",Ka,[r[13]||(r[13]=x(" Remark: ")),n("span",Ya,q(h(f).remark),1)])]),n("div",null,[n("div",Ja,[r[14]||(r[14]=x(" Seniority List: ")),n("span",Ga,q(h(f).seniority_list),1)])]),h(f).supporting_document?(p(),R("div",Xa,[n("div",Za,[r[15]||(r[15]=x(" Supporting Document: ")),t($,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${h(f).supporting_document}`,target:"_blank"},null,8,["href"]),t($,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${h(f).supporting_document}`,target:"_blank",download:""},null,8,["href"])])])):U("",!0)])])]),_:2},1024)]),_:2},1024))),128))]))]),_:1})]),_:1}),t($e,{modelValue:c.value,"onUpdate:modelValue":r[7]||(r[7]=f=>c.value=f)},{default:a(()=>[t(H,{style:{"min-width":"400px"}},{default:a(()=>[t(B,null,{default:a(()=>r[17]||(r[17]=[n("div",{class:"text-h6"},"Submit Deletion Request",-1)])),_:1,__:[17]}),t(B,null,{default:a(()=>[t(te,{modelValue:w(i).reason,"onUpdate:modelValue":r[1]||(r[1]=f=>w(i).reason=f),label:"Reason",type:"textarea",outlined:"",error:!!w(i).errors.reason,"error-message":w(i).errors.reason,rules:[f=>!!f||"Reason is required"]},null,8,["modelValue","error","error-message","rules"]),t(te,{modelValue:w(i).seniority_list,"onUpdate:modelValue":r[2]||(r[2]=f=>w(i).seniority_list=f),label:"Seniority List",outlined:"",class:"q-mt-sm"},null,8,["modelValue"]),t(te,{modelValue:w(i).year,"onUpdate:modelValue":r[3]||(r[3]=f=>w(i).year=f),label:"Year",type:"number",outlined:"",class:"q-mt-sm"},null,8,["modelValue"]),t(te,{modelValue:w(i).remark,"onUpdate:modelValue":r[4]||(r[4]=f=>w(i).remark=f),label:"Remark",type:"textarea",outlined:"",class:"q-mt-sm"},null,8,["modelValue"]),t(Ae,{modelValue:w(i).supporting_document,"onUpdate:modelValue":r[5]||(r[5]=f=>w(i).supporting_document=f),label:"Supporting Document",outlined:"",class:"q-mt-sm",accept:".pdf,.jpg,.jpeg,.png",error:!!w(i).errors.supporting_document,"error-message":w(i).errors.supporting_document},null,8,["modelValue","error","error-message"])]),_:1}),t(ue,{align:"right"},{default:a(()=>[t($,{flat:"",label:"Cancel",color:"grey",onClick:r[6]||(r[6]=f=>c.value=!1)}),t($,{label:"Submit",color:"negative",onClick:d,loading:w(i).processing},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},tn={key:0,class:"text-gray-500 text-center py-10 text-base italic"},ln={key:1,class:"flex flex-col gap-6"},an={class:"flex flex-wrap justify-between items-center mb-4"},nn={class:""},on={class:"text-gray-600"},sn={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg"},rn={class:"flex flex-col"},un={class:"text-gray-500"},dn={class:"text-gray-800"},cn={class:"font-bold"},fn={class:"font-bold"},mn={class:"grid grid-cols-2 gap-4 items-start relative"},gn={class:"text-sm font-bold mb-1"},vn={class:"q-mt-md"},pn={class:"text-sm font-bold mb-1"},bn={key:3,class:"border rounded p-4 bg-gray-50 q-mt-md"},yn={class:"text-sm font-bold mb-2"},hn={__name:"RequestEdit",props:["data","documentTypes"],setup(e){const{formatDate:l,educationalQualifications:o}=Ee(),u=e,i=be(),m=Q(!1),c=pe({requested_changes:{name:"",date_of_birth:"",parent_name:"",educational_qln:"",technical_qln:""},documents:{}}),h=P(()=>{var S,y;return((y=(S=u.data.edit_requests)==null?void 0:S.slice(-1)[0])==null?void 0:y.approval_status)==="pending"});re(m,S=>{S||(c.reset(),c.clearErrors())});const d={date_of_birth:["Birth Certificate","Aadhar","EPIC","Educational Certificate"],name:["Birth Certificate","Aadhar","EPIC","Educational Certificate"],parent_name:["Birth Certificate"],educational_qln:["Educational Certificate"],technical_qln:["Technical Certificate"]},s={name:"Name",date_of_birth:"Date of Birth",parent_name:"Parent's Name",educational_qln:"Educational Qualification",technical_qln:"Technical Qualification"},r=()=>{c.reset(),c.clearErrors(),c.documents={}},f=P(()=>Object.values(c.requested_changes).some(S=>{var y;return S&&((y=S.trim)==null?void 0:y.call(S))!==""})),_=()=>{if(!f.value){i.notify({type:"warning",message:"Please enter at least one change before submitting."});return}const S=new FormData;Object.entries(c.requested_changes).forEach(([y,g])=>{g&&S.append(`requested_changes[${y}]`,g)}),Object.entries(c.documents).forEach(([y,g])=>{g&&[].concat(g).forEach(v=>{S.append(`documents[${y}][]`,v)})}),c.post(route("edit.request",u.data),{data:S,forceFormData:!0,onSuccess:()=>{m.value=!1,c.reset()},onError:y=>{Object.values(y).forEach(g=>{Array.isArray(g)?g.forEach(v=>{i.notify({type:"negative",message:v})}):i.notify({type:"negative",message:g})})}})},T=S=>{try{return JSON.parse(S)}catch{return{}}};return(S,y)=>(p(),R(Y,null,[t(H,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:a(()=>[t(B,{class:"flex items-center justify-between"},{default:a(()=>[y[2]||(y[2]=n("div",{class:"stitle text-lg font-bold"},"Request Edit",-1)),t($,{label:"Request Edit",color:"primary",disable:h.value,onClick:y[0]||(y[0]=g=>m.value=!0)},null,8,["disable"])]),_:1,__:[2]}),t(qe),t(B,null,{default:a(()=>[e.data.edit_requests.length===0?(p(),R("div",tn," No edit requests found. ")):(p(),R("div",ln,[(p(!0),R(Y,null,oe(e.data.edit_requests,g=>(p(),E(H,{key:g.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:a(()=>[t(B,null,{default:a(()=>[n("div",an,[n("div",nn,[y[3]||(y[3]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:ge(["ml-1 font-medium capitalize",{"text-yellow-600":g.approval_status==="pending","text-green-600":g.approval_status==="approved","text-red-600":g.approval_status==="rejected"}])},q(g.approval_status),3)]),n("div",on,[y[4]||(y[4]=n("b",null,"Requested On:",-1)),x(" "+q(w(l)(g.request_date)),1)])]),n("div",null,[y[7]||(y[7]=n("b",{class:"block mb-3 text-gray-700"},"Requested Changes",-1)),n("div",sn,[(p(!0),R(Y,null,oe(T(g.requested_changes),(v,A)=>(p(),R("div",{key:A},[n("div",rn,[n("span",un,q(s[A]??A)+": ",1),n("span",dn,[y[5]||(y[5]=x(" From: ")),n("span",cn,q(A==="date_of_birth"?w(l)(T(g.previous_data)[A]):T(g.previous_data)[A]||"—"),1),y[6]||(y[6]=x(" To: ")),n("span",fn,q(A==="date_of_birth"||A==="date_of_engagement"?w(l)(v):v),1)])])]))),128))])])]),_:2},1024)]),_:2},1024))),128))]))]),_:1})]),_:1}),t($e,{modelValue:m.value,"onUpdate:modelValue":y[1]||(y[1]=g=>m.value=g)},{default:a(()=>[t(H,{style:{"min-width":"700px"}},{default:a(()=>[t(B,null,{default:a(()=>y[8]||(y[8]=[n("div",{class:"text-lg font-bold"},"Request Edit",-1)])),_:1,__:[8]}),t(B,null,{default:a(()=>[(p(),R(Y,null,oe(s,(g,v)=>n("div",{key:v,class:"mb-6"},[n("div",mn,[n("div",null,[n("div",gn,"Existing "+q(g)+":",1),n("div",vn,q(v==="date_of_birth"?w(l)(u.data[v]):u.data[v]||"—"),1)]),y[9]||(y[9]=n("div",{class:"absolute top-0 bottom-0 left-1/2 w-px bg-gray-300"},null,-1)),n("div",null,[n("div",pn,"New "+q(g)+":",1),v==="date_of_birth"?(p(),E(te,{key:0,modelValue:w(c).requested_changes[v],"onUpdate:modelValue":A=>w(c).requested_changes[v]=A,type:"date",outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])):v==="educational_qln"?(p(),E(Me,{key:1,modelValue:w(c).requested_changes[v],"onUpdate:modelValue":A=>w(c).requested_changes[v]=A,options:w(o),label:"Select Qualification",outlined:"",dense:"","emit-value":"","map-options":""},null,8,["modelValue","onUpdate:modelValue","options"])):(p(),E(te,{key:2,modelValue:w(c).requested_changes[v],"onUpdate:modelValue":A=>w(c).requested_changes[v]=A,outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])),w(c).requested_changes[v]?(p(),R("div",bn,[n("div",yn," Required Documents for "+q(g)+": ",1),(p(!0),R(Y,null,oe(d[v],A=>(p(),R("div",{key:A,class:"mb-3"},[t(Ae,{filled:"",modelValue:w(c).documents[A],"onUpdate:modelValue":L=>w(c).documents[A]=L,label:A,accept:".pdf,.jpg,.jpeg,.png",clearable:"",class:"q-mt-md"},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))])):U("",!0)])]),t(qe,{spaced:"",class:"q-my-md"})])),64))]),_:1}),t(ue,{align:"right"},{default:a(()=>[t($,{flat:"",label:"Clear",color:"red",onClick:r}),he(t($,{flat:"",label:"Cancel"},null,512),[[Ce]]),t($,{label:"Submit",color:"primary",loading:w(c).processing,disable:!f.value,onClick:_},null,8,["loading","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},_n={key:0,class:"text-gray-500 text-center py-10 text-base italic"},xn={key:1,class:"flex flex-col gap-6"},wn={class:"flex flex-wrap justify-between items-center mb-4"},kn={class:"text-gray-600"},qn={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p- rounded-lg"},Cn={class:"text-gray-500"},$n={class:"text-gray-800 font-bold"},Tn={class:"text-gray-500"},Sn={class:"text-gray-800 font-bold"},Dn={class:"text-gray-500"},Rn={__name:"RequestTransfer",props:["data","office"],setup(e){const{formatDate:l}=Ee(),o=e,u=be(),i=Q(!1),m=pe({requested_office_id:"",supporting_document:null});re(i,d=>{d||(m.reset(),m.clearErrors())});const c=P(()=>{var d,s;return((s=(d=o.data.transfer_requests)==null?void 0:d.slice(-1)[0])==null?void 0:s.approval_status)==="pending"}),h=()=>{if(!m.requested_office_id){u.notify({type:"negative",message:"Office is required",position:"bottom"});return}if(!m.supporting_document){u.notify({type:"negative",message:"Transfer Order is required",position:"bottom"});return}m.post(route("transfer.request",o.data),{onStart:()=>{u.loading.show()},onSuccess:()=>{u.loading.hide(),i.value=!1,m.reset(),u.notify({type:"positive",message:"Transfer Requested",position:"bottom"})},onFinish:()=>{u.loading.hide(),i.value=!1,m.reset()},onError:d=>{Object.values(d).forEach(s=>{u.notify({type:"negative",message:s,position:"bottom"})})}})};return(d,s)=>(p(),R(Y,null,[t(H,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:a(()=>[t(B,{class:"flex items-center justify-between"},{default:a(()=>[s[4]||(s[4]=n("div",{class:"stitle text-lg font-bold"},"Request Transfer",-1)),t($,{label:"Request Transfer",color:"primary",disable:c.value,onClick:s[0]||(s[0]=r=>i.value=!0)},null,8,["disable"])]),_:1,__:[4]}),t(qe),t(B,null,{default:a(()=>[e.data.transfer_requests.length===0?(p(),R("div",_n," No transfer requests found. ")):(p(),R("div",xn,[(p(!0),R(Y,null,oe(e.data.transfer_requests,r=>(p(),E(H,{key:r.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:a(()=>[t(B,null,{default:a(()=>{var f,_;return[n("div",wn,[n("div",null,[s[5]||(s[5]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:ge(["ml-1 font-medium capitalize",{"text-yellow-600":r.approval_status==="pending","text-green-600":r.approval_status==="approved","text-red-600":r.approval_status==="rejected"}])},q(r.approval_status),3)]),n("div",kn,[s[6]||(s[6]=n("b",null,"Requested On:",-1)),x(" "+q(w(l)(r.request_date)),1)])]),n("div",null,[s[10]||(s[10]=n("b",{class:"block mb-3 text-gray-700"},"Transfer Details:",-1)),n("div",qn,[n("div",null,[n("div",Cn,[s[7]||(s[7]=x(" Current Office: ")),n("span",$n,q(((f=r.current_office)==null?void 0:f.name)||"—"),1)])]),n("div",null,[n("div",Tn,[s[8]||(s[8]=x(" Requested Office: ")),n("span",Sn,q(((_=r.requested_office)==null?void 0:_.name)||"—"),1)])]),n("div",null,[n("div",Dn,[s[9]||(s[9]=x(" Transfer Order: ")),t($,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${r.supporting_document}`,target:"_blank"},null,8,["href"]),t($,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${r.supporting_document}`,target:"_blank",download:""},null,8,["href"])])])])])]}),_:2},1024)]),_:2},1024))),128))]))]),_:1})]),_:1}),t($e,{modelValue:i.value,"onUpdate:modelValue":s[3]||(s[3]=r=>i.value=r),persistent:""},{default:a(()=>[t(H,{style:{"min-width":"400px"}},{default:a(()=>[t(B,null,{default:a(()=>s[11]||(s[11]=[n("div",{class:"text-h6"},"Select Requested Office",-1)])),_:1,__:[11]}),t(B,null,{default:a(()=>[t(Me,{modelValue:w(m).requested_office_id,"onUpdate:modelValue":s[1]||(s[1]=r=>w(m).requested_office_id=r),options:e.office,"option-value":"id","option-label":"name",label:"Office",dense:"",outlined:"",error:!!w(m).errors.requested_office_id,"error-message":w(m).errors.requested_office_id,rules:[r=>!!r||"Office is required"]},null,8,["modelValue","options","error","error-message","rules"]),t(Ae,{modelValue:w(m).supporting_document,"onUpdate:modelValue":s[2]||(s[2]=r=>w(m).supporting_document=r),label:"Transfer Order",outlined:"",class:"q-mt-md",error:!!w(m).errors.supporting_document,"error-message":w(m).errors.supporting_document,rules:[r=>!!r||"Transfer Order is required"],accept:".pdf,.jpg,.jpeg,.png"},null,8,["modelValue","error","error-message","rules"])]),_:1}),t(ue,{align:"right"},{default:a(()=>[he(t($,{flat:"",label:"Cancel",color:"negative"},null,512),[[Ce]]),t($,{flat:"",label:"Submit",color:"primary",onClick:h})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},En=Tt(Rn,[["__scopeId","data-v-bdab2036"]]),Vn=Le({name:"QTimelineEntry",props:{heading:Boolean,tag:{type:String,default:"h3"},side:{type:String,default:"right",validator:e=>["left","right"].includes(e)},icon:String,avatar:String,color:String,title:String,subtitle:String,body:String},setup(e,{slots:l}){const o=ht(kt,Be);if(o===Be)return console.error("QTimelineEntry needs to be child of QTimeline"),Be;const u=P(()=>`q-timeline__entry q-timeline__entry--${e.side}`+(e.icon!==void 0||e.avatar!==void 0?" q-timeline__entry--icon":"")),i=P(()=>`q-timeline__dot text-${e.color||o.color}`),m=P(()=>o.layout==="comfortable"&&o.side==="left");return()=>{const c=al(l.default,[]);if(e.body!==void 0&&c.unshift(e.body),e.heading===!0){const s=[j("div"),j("div"),j(e.tag,{class:"q-timeline__heading-title"},c)];return j("div",{class:"q-timeline__heading"},m.value===!0?s.reverse():s)}let h;e.icon!==void 0?h=[j(ke,{class:"row items-center justify-center",name:e.icon})]:e.avatar!==void 0&&(h=[j("img",{class:"q-timeline__dot-img",src:e.avatar})]);const d=[j("div",{class:"q-timeline__subtitle"},[j("span",{},Ue(l.subtitle,[e.subtitle]))]),j("div",{class:i.value},h),j("div",{class:"q-timeline__content"},[j("h6",{class:"q-timeline__title"},Ue(l.title,[e.title]))].concat(c))];return j("li",{class:u.value},m.value===!0?d.reverse():d)}}}),On=Le({name:"QTimeline",props:{...qt,color:{type:String,default:"primary"},side:{type:String,default:"right",validator:e=>["left","right"].includes(e)},layout:{type:String,default:"dense",validator:e=>["dense","comfortable","loose"].includes(e)}},setup(e,{slots:l}){const o=Qe(),u=Ct(e,o.proxy.$q);wt(kt,e);const i=P(()=>`q-timeline q-timeline--${e.layout} q-timeline--${e.layout}--${e.side}`+(u.value===!0?" q-timeline--dark":""));return()=>j("ul",{class:i.value},Ue(l.default))}}),Pn={class:"flex items-center justify-between q-pa-md bg-white"},jn={class:"flex q-gutter-sm"},Ln={key:0},An={class:"flex items-center justify-between"},Bn={key:0},Un={key:1,class:"text-subtitle2 text-grey-7 q-pa-md"},Nn={key:0},zn={key:1},Qn={__name:"Transfer",props:["data","office","canCreateTransfer","canDeleteTransfer"],setup(e){const l=e,o=be(),u=Q(!1),i=Q(!1),m=pe({old_office_id:null,new_office_id:null,transfer_date:"",is_present_transfer:!1,supporting_document:null}),c=P(()=>{var r;return[...((r=l.data)==null?void 0:r.transfers)||[]].sort((f,_)=>new Date(f.transfer_date)-new Date(_.transfer_date))});function h(r){return new Date(r).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}const d=r=>{if(!m.old_office_id){o.notify({type:"negative",message:"Old Office is required",position:"bottom"});return}if(!m.new_office_id){o.notify({type:"negative",message:"New Office is required",position:"bottom"});return}if(!m.transfer_date){o.notify({type:"negative",message:"Transfer Date is required",position:"bottom"});return}if(!m.supporting_document){o.notify({type:"negative",message:"Transfer Order is required",position:"bottom"});return}m.is_present_transfer=i.value,m.post(route("transfer.store",l.data),{onStart:()=>{o.loading.show(),m.reset()},onFinish:()=>{o.loading.hide(),u.value=!1,m.reset()},onError:f=>{Object.values(f).forEach(_=>{o.notify({type:"negative",message:_,position:"bottom"})})}})},s=r=>{o.dialog({title:"Confirmation",message:"Do you want to delete?",ok:"Yes",cancel:"No"}).onOk(()=>{Ze.delete(route("transfer.destroy",r),{onStart:f=>o.loading.show(),onFinish:f=>o.loading.hide(),preserveState:!1})})};return re(i,r=>{r?(m.old_office_id=l.data.office,m.transfer_date=new Date().toISOString().split("T")[0]):(m.old_office_id=null,m.transfer_date="")}),(r,f)=>(p(),R(Y,null,[t(H,{class:"q-mt-md"},{default:a(()=>[n("div",Pn,[f[8]||(f[8]=n("div",null,[n("div",{class:"stitle"},"Transfer History")],-1)),n("div",jn,[e.canCreateTransfer?(p(),E($,{key:0,onClick:f[0]||(f[0]=_=>u.value=!0),color:"btn-primary",icon:"add"})):U("",!0)])]),t(B,null,{default:a(()=>[c.value.length>0?(p(),R("div",Ln,[t(On,{color:"primary",class:"q-pa-md"},{default:a(()=>[(p(!0),R(Y,null,oe(c.value,(_,T)=>(p(),E(Vn,{key:_.id,title:h(_.transfer_date),icon:T===c.value.length-1?"flag":"swap_horiz"},{subtitle:a(()=>[n("div",An,[n("span",null,"Transfer #"+q(T+1),1),e.canDeleteTransfer?(p(),E($,{key:0,icon:"delete",color:"red",flat:"",dense:"",size:"m",onClick:S=>s(_.id),title:"Delete Transfer"},null,8,["onClick"])):U("",!0)])]),default:a(()=>{var S,y;return[n("div",null,[f[9]||(f[9]=x(" From ")),n("strong",null,q(((S=_.old_office)==null?void 0:S.name)||"Unknown Office"),1),f[10]||(f[10]=x(" to ")),n("strong",null,q(((y=_.new_office)==null?void 0:y.name)||"Unknown Office"),1)]),_.supporting_document?(p(),R("div",Bn,[f[11]||(f[11]=x(" Transfer Order: ")),t($,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${_.supporting_document}`,target:"_blank"},null,8,["href"]),t($,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${_.supporting_document}`,target:"_blank",download:""},null,8,["href"])])):U("",!0)]}),_:2},1032,["title","icon"]))),128))]),_:1})])):(p(),R("div",Un," No transfer history found "))]),_:1})]),_:1}),t($e,{modelValue:u.value,"onUpdate:modelValue":f[7]||(f[7]=_=>u.value=_)},{default:a(()=>[t(H,{style:{"min-width":"400px"}},{default:a(()=>[t(B,null,{default:a(()=>f[12]||(f[12]=[n("div",{class:"stitle"},"Add Transfer",-1)])),_:1,__:[12]}),t(B,{class:"q-gutter-md"},{default:a(()=>[t(nl,{modelValue:i.value,"onUpdate:modelValue":f[1]||(f[1]=_=>i.value=_),label:"Is Present Transfer?",color:"primary"},null,8,["modelValue"]),i.value?(p(),R("div",Nn,[t(te,{modelValue:e.data.office.name,"onUpdate:modelValue":f[2]||(f[2]=_=>e.data.office.name=_),label:"Old Office",dense:"",outlined:"",readonly:""},null,8,["modelValue"])])):(p(),R("div",zn,[t(Me,{modelValue:w(m).old_office_id,"onUpdate:modelValue":f[3]||(f[3]=_=>w(m).old_office_id=_),options:e.office,"option-value":"id","option-label":"name",label:"Old Office",dense:"",clearable:"",outlined:""},null,8,["modelValue","options"])])),t(Me,{modelValue:w(m).new_office_id,"onUpdate:modelValue":f[4]||(f[4]=_=>w(m).new_office_id=_),options:e.office,"option-value":"id","option-label":"name",label:"New Office",dense:"",clearable:"",outlined:""},null,8,["modelValue","options"]),t(te,{modelValue:w(m).transfer_date,"onUpdate:modelValue":f[5]||(f[5]=_=>w(m).transfer_date=_),type:"date",label:"Transfer Date",dense:"",clearable:"",outlined:""},null,8,["modelValue"]),t(Ae,{modelValue:w(m).supporting_document,"onUpdate:modelValue":f[6]||(f[6]=_=>w(m).supporting_document=_),label:"Transfer Order",outlined:"",clearable:"",error:!!w(m).errors.supporting_document,"error-message":w(m).errors.supporting_document,accept:".pdf,.jpg,.jpeg,.png"},null,8,["modelValue","error","error-message"])]),_:1}),t(ue,{align:"right"},{default:a(()=>[he(t($,{flat:"",label:"Cancel"},null,512),[[Ce]]),t($,{flat:"",label:"Submit",color:"primary",onClick:d})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Fn=Le({name:"QSpace",setup(){const e=j("div",{class:"q-space"});return()=>e}}),In={__name:"DeletionDialog",props:{modelValue:Boolean,employee:Object},emits:["update:modelValue"],setup(e,{emit:l}){const o=be(),u=e,i=l,m=Q(u.modelValue);re(()=>u.modelValue,d=>m.value=d),re(m,d=>i("update:modelValue",d));const c=pe({seniority_list:"",reason:"",year:new Date().getFullYear(),remark:"",supporting_document:null});function h(){c.post(route("deletion.store",u.employee),{preserveScroll:!0,onSuccess:()=>{m.value=!1,c.reset(),o.notify({type:"positive",message:"Employee Deleted successfully."})}})}return(d,s)=>(p(),E($e,{modelValue:m.value,"onUpdate:modelValue":s[5]||(s[5]=r=>m.value=r)},{default:a(()=>[t(H,{style:{"min-width":"400px"}},{default:a(()=>[t(B,{class:"row items-center q-pa-sm bg-negative text-white"},{default:a(()=>[s[6]||(s[6]=n("div",{class:"text-h6"},"Employee Deletion Details",-1)),t(Fn),he(t($,{icon:"close",flat:"",round:"",dense:""},null,512),[[Ce]])]),_:1,__:[6]}),t(St,{onSubmit:$t(h,["prevent"])},{default:a(()=>[t(B,{class:"q-gutter-md"},{default:a(()=>[t(te,{modelValue:w(c).seniority_list,"onUpdate:modelValue":s[0]||(s[0]=r=>w(c).seniority_list=r),label:"Seniority List",dense:"",outlined:"",type:"number"},null,8,["modelValue"]),t(te,{modelValue:w(c).reason,"onUpdate:modelValue":s[1]||(s[1]=r=>w(c).reason=r),label:"Reason",dense:"",outlined:"",required:""},null,8,["modelValue"]),t(te,{modelValue:w(c).year,"onUpdate:modelValue":s[2]||(s[2]=r=>w(c).year=r),label:"Year",dense:"",outlined:"",type:"number"},null,8,["modelValue"]),t(te,{modelValue:w(c).remark,"onUpdate:modelValue":s[3]||(s[3]=r=>w(c).remark=r),label:"Remark",type:"textarea",dense:"",outlined:""},null,8,["modelValue"]),t(Ae,{modelValue:w(c).supporting_document,"onUpdate:modelValue":s[4]||(s[4]=r=>w(c).supporting_document=r),label:"Supporting Document",dense:"",outlined:""},null,8,["modelValue"])]),_:1}),t(ue,{align:"right",class:"q-pa-sm"},{default:a(()=>[he(t($,{flat:"",label:"Cancel"},null,512),[[Ce]]),t($,{color:"negative",label:"Submit Deletion",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},Mn={class:"flex items-center justify-between q-pa-md bg-white"},Hn={class:"flex q-gutter-sm"},Wn={__name:"Deletion",props:["deletion","canEditDelete"],setup(e){const l=be(),o=e,u=Q(!1),i=pe({reason:o.deletion.reason||"",seniority_list:o.deletion.seniority_list||"",year:o.deletion.year||"",remark:o.deletion.remark||"",supporting_document:null}),m=()=>{i.post(route("deletion.update",o.deletion),{preserveScroll:!0,onSuccess:()=>{u.value=!1,l.notify({type:"positive",message:"Deleted details updated successfully."})}})},c=h=>{window.open(h,"_blank")};return(h,d)=>(p(),R(Y,null,[t(H,{class:"q-mt-md"},{default:a(()=>[n("div",Mn,[d[8]||(d[8]=n("div",null,[n("div",{class:"stitle text-red"},"Deletion Detail")],-1)),n("div",Hn,[e.canEditDelete?(p(),E($,{key:0,onClick:d[0]||(d[0]=s=>u.value=!0),color:"btn-primary",icon:"edit"})):U("",!0)])]),t(B,null,{default:a(()=>[t(at,{class:"q-mt-sm"},{default:a(()=>[t(M,null,{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>d[9]||(d[9]=[x("Reason:")])),_:1,__:[9]}),t(D,{class:"text-label"},{default:a(()=>[x(q(e.deletion.reason),1)]),_:1})]),_:1}),t(M,null,{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>d[10]||(d[10]=[x("Seniority List:")])),_:1,__:[10]}),t(D,{class:"text-label"},{default:a(()=>[x(q(e.deletion.seniority_list),1)]),_:1})]),_:1}),t(M,null,{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>d[11]||(d[11]=[x("Year:")])),_:1,__:[11]}),t(D,{class:"text-label"},{default:a(()=>[x(q(e.deletion.year),1)]),_:1})]),_:1}),e.deletion.remark?(p(),E(M,{key:0},{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>d[12]||(d[12]=[x("Remark:")])),_:1,__:[12]}),t(D,{class:"text-label"},{default:a(()=>[x(q(e.deletion.remark),1)]),_:1})]),_:1})):U("",!0),e.deletion.supporting_document?(p(),E(M,{key:1},{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>d[13]||(d[13]=[x("Supporting Document:")])),_:1,__:[13]}),t(D,{class:"text-label"},{default:a(()=>[t($,{dense:"",flat:"",icon:"visibility",href:`/storage/${e.deletion.supporting_document}`,target:"_blank"},null,8,["href"])]),_:1})]),_:1})):U("",!0)]),_:1})]),_:1})]),_:1}),t($e,{modelValue:u.value,"onUpdate:modelValue":d[7]||(d[7]=s=>u.value=s)},{default:a(()=>[t(H,{style:{"min-width":"500px","max-width":"90vw"}},{default:a(()=>[t(B,{class:"bg-negative text-white"},{default:a(()=>d[14]||(d[14]=[n("div",{class:"text-h6"},"Edit Deletion Detail",-1)])),_:1,__:[14]}),t(St,{onSubmit:$t(m,["prevent"])},{default:a(()=>[t(B,{class:"q-gutter-md"},{default:a(()=>[t(te,{modelValue:w(i).reason,"onUpdate:modelValue":d[1]||(d[1]=s=>w(i).reason=s),label:"Reason",outlined:"",dense:"",required:""},null,8,["modelValue"]),t(te,{modelValue:w(i).seniority_list,"onUpdate:modelValue":d[2]||(d[2]=s=>w(i).seniority_list=s),label:"Seniority List",outlined:"",dense:""},null,8,["modelValue"]),t(te,{modelValue:w(i).year,"onUpdate:modelValue":d[3]||(d[3]=s=>w(i).year=s),label:"Year",outlined:"",dense:"",type:"number"},null,8,["modelValue"]),t(te,{modelValue:w(i).remark,"onUpdate:modelValue":d[4]||(d[4]=s=>w(i).remark=s),label:"Remark",outlined:"",dense:"",type:"textarea"},null,8,["modelValue"]),t(Ae,{modelValue:w(i).supporting_document,"onUpdate:modelValue":d[6]||(d[6]=s=>w(i).supporting_document=s),label:"Supporting Document",outlined:"",dense:"",accept:".pdf,.png,.jpg,.jpeg"},ol({_:2},[e.deletion.supporting_document?{name:"append",fn:a(()=>[t($,{round:"",dense:"",flat:"",icon:"visibility",href:`/storage/${e.deletion.supporting_document}`,onClick:d[5]||(d[5]=s=>c(`/storage/${e.deletion.supporting_document}`)),class:"q-ml-sm"},null,8,["href"])]),key:"0"}:void 0]),1032,["modelValue"])]),_:1}),t(ue,{align:"right"},{default:a(()=>[he(t($,{flat:"",label:"Cancel"},null,512),[[Ce]]),t($,{color:"primary",label:"Update",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Kn={class:"flex items-center justify-between q-pa-md bg-white"},Yn={class:"flex q-gutter-sm"},Jn={key:0,class:"text-grey-7 text-center q-pa-md"},Gn={class:"text-h6"},Xn={__name:"Remuneration",props:{data:Object,canCreateRemuneration:Boolean},setup(e){const l=be(),{formatDate:o}=Ee(),u=e,i=Q(!1),m=Q(!1),c=Q(!1),h=pe({remuneration:"",next_increment_date:""}),d=(f=!1)=>{m.value=f,f&&u.data.remuneration_detail?(h.remuneration=u.data.remuneration_detail.total,h.next_increment_date=u.data.remuneration_detail.next_increment_date):h.reset(),i.value=!0,c.value=!1},s=()=>{c.value=!0},r=()=>{if(!h.remuneration){l.notify({type:"negative",message:"Remuneration amount is required",position:"bottom"});return}if(!h.next_increment_date){l.notify({type:"negative",message:"Next Increment Date is required",position:"bottom"});return}m.value?h.put(route("remuneration.update",u.data.id),{onSuccess:()=>{i.value=!1},onError:f=>{Object.values(f).forEach(_=>{l.notify({type:"negative",message:_,position:"bottom"})})}}):h.post(route("remuneration.store",u.data.id),{onSuccess:()=>{i.value=!1,h.reset()},onError:f=>{Object.values(f).forEach(_=>{l.notify({type:"negative",message:_,position:"bottom"})})}})};return(f,_)=>(p(),R(Y,null,[t(H,{class:"q-mt-md"},{default:a(()=>[n("div",Kn,[_[4]||(_[4]=n("div",null,[n("div",{class:"stitle"},"Remuneration Detail")],-1)),n("div",Yn,[e.canCreateRemuneration?(p(),E($,{key:0,onClick:_[0]||(_[0]=T=>d(!!e.data.remuneration_detail)),color:"btn-primary",icon:e.data.remuneration_detail?"edit":"add"},null,8,["icon"])):U("",!0)])]),t(B,null,{default:a(()=>[e.data.remuneration_detail?(p(),E(at,{key:1,class:"q-mt-sm"},{default:a(()=>[t(M,null,{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>_[5]||(_[5]=[x("Remuneration:")])),_:1,__:[5]}),t(D,{class:"text-label"},{default:a(()=>[x(" ₹ "+q(e.data.remuneration_detail.remuneration.toLocaleString()),1)]),_:1})]),_:1}),t(M,null,{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>_[6]||(_[6]=[x("Medical Allowance (%):")])),_:1,__:[6]}),t(D,{class:"text-label"},{default:a(()=>[x(q(e.data.remuneration_detail.medical_percentage),1)]),_:1})]),_:1}),t(M,null,{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>_[7]||(_[7]=[x("Medical Allowance:")])),_:1,__:[7]}),t(D,{class:"text-label"},{default:a(()=>[x(" ₹ "+q(e.data.remuneration_detail.medical_amount.toLocaleString()),1)]),_:1})]),_:1}),t(M,null,{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>_[8]||(_[8]=[x("Total:")])),_:1,__:[8]}),t(D,{class:"text-label"},{default:a(()=>[x(" ₹ "+q(e.data.remuneration_detail.total.toLocaleString()),1)]),_:1})]),_:1}),t(M,null,{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>_[9]||(_[9]=[x("Monthly Remuneration:")])),_:1,__:[9]}),t(D,{class:"text-label"},{default:a(()=>[x(" ₹ "+q(e.data.remuneration_detail.round_total.toLocaleString()),1)]),_:1})]),_:1}),t(qe,{spaced:""}),t(M,null,{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>_[10]||(_[10]=[x("Date of next Increment:")])),_:1,__:[10]}),t(D,{class:"text-label"},{default:a(()=>[x(q(w(o)(e.data.remuneration_detail.next_increment_date)),1)]),_:1})]),_:1})]),_:1})):(p(),R("div",Jn," No remuneration data available. "))]),_:1})]),_:1}),t($e,{modelValue:i.value,"onUpdate:modelValue":_[3]||(_[3]=T=>i.value=T)},{default:a(()=>[t(H,{style:{"min-width":"400px"}},{default:a(()=>[t(B,null,{default:a(()=>[n("div",Gn,q(m.value?"Edit":"Add")+" Remuneration",1)]),_:1}),t(B,{class:"q-gutter-md"},{default:a(()=>[t(te,{label:"Remuneration",type:"number",modelValue:w(h).remuneration,"onUpdate:modelValue":_[1]||(_[1]=T=>w(h).remuneration=T),outlined:"",dense:"",readonly:!c.value},{append:a(()=>[t(ke,{name:"edit",class:"cursor-pointer",onClick:s})]),_:1},8,["modelValue","readonly"]),t(te,{label:"Next Increment Date",type:"date",modelValue:w(h).next_increment_date,"onUpdate:modelValue":_[2]||(_[2]=T=>w(h).next_increment_date=T),outlined:"",dense:"",readonly:!c.value},null,8,["modelValue","readonly"])]),_:1}),t(ue,{align:"right"},{default:a(()=>[he(t($,{flat:"",label:"Cancel"},null,512),[[Ce]]),t($,{color:"primary",label:m.value?"Update":"Save",disable:!c.value,onClick:r},null,8,["label","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};function Dt(e,l){if(l&&e===l)return null;const o=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(o)===!0)return e;const u=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,i=u.display;return i==="block"||i==="table"?e:Dt(e.parentNode)}function Je(e,l,o){return!e||e===document.body?!1:o===!0&&e===l||(l===document?document.body:l).contains(e.parentNode)}function Rt(e,l,o){if(o||(o=document.createRange(),o.selectNode(e),o.setStart(e,0)),l.count===0)o.setEnd(e,l.count);else if(l.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<l.count?l.count-=e.textContent.length:(o.setEnd(e,l.count),l.count=0);else for(let u=0;l.count!==0&&u<e.childNodes.length;u++)o=Rt(e.childNodes[u],l,o);return o}const Zn=/^https?:\/\//;class eo{constructor(l,o){this.el=l,this.eVm=o,this._range=null}get selection(){if(this.el){const l=document.getSelection();if(Je(l.anchorNode,this.el,!0)&&Je(l.focusNode,this.el,!0))return l}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length!==0:!1}get range(){const l=this.selection;return l!=null&&l.rangeCount?l.getRangeAt(0):this._range}get parent(){const l=this.range;if(l!==null){const o=l.startContainer;return o.nodeType===document.ELEMENT_NODE?o:o.parentNode}return null}get blockParent(){const l=this.parent;return l!==null?Dt(l,this.el):null}save(l=this.range){l!==null&&(this._range=l)}restore(l=this._range){const o=document.createRange(),u=document.getSelection();l!==null?(o.setStart(l.startContainer,l.startOffset),o.setEnd(l.endContainer,l.endOffset),u.removeAllRanges(),u.addRange(o)):(u.selectAllChildren(this.el),u.collapseToEnd())}savePosition(){let l=-1,o;const u=document.getSelection(),i=this.el.parentNode;if(u.focusNode&&Je(u.focusNode,i))for(o=u.focusNode,l=u.focusOffset;o&&o!==i;)o!==this.el&&o.previousSibling?(o=o.previousSibling,l+=o.textContent.length):o=o.parentNode;this.savedPos=l}restorePosition(l=0){if(this.savedPos>0&&this.savedPos<l){const o=window.getSelection(),u=Rt(this.el,{count:this.savedPos});u&&(u.collapse(!1),o.removeAllRanges(),o.addRange(u))}}hasParent(l,o){const u=o?this.parent:this.blockParent;return u!==null?u.nodeName.toLowerCase()===l.toLowerCase():!1}hasParents(l,o,u=this.parent){return u===null?!1:l.includes(u.nodeName.toLowerCase())===!0?!0:o===!0?this.hasParents(l,o,u.parentNode):!1}is(l,o){if(this.selection===null)return!1;switch(l){case"formatBlock":return o==="DIV"&&this.parent===this.el||this.hasParent(o,o==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(l)===o;case"fontName":const u=document.queryCommandValue(l);return u===`"${o}"`||u===o;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const i=document.queryCommandState(l);return o!==void 0?i===o:i}}getParentAttribute(l){return this.parent!==null?this.parent.getAttribute(l):null}can(l){if(l==="outdent")return this.hasParents(["blockquote","li"],!0);if(l==="indent")return this.hasParents(["li"],!0);if(l==="link")return this.selection!==null||this.is("link")}apply(l,o,u=sl){if(l==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(o)&&this.is(l,o)&&(l="outdent",o=null),o==="PRE"&&this.is(l,"PRE")&&(o="P");else if(l==="print"){u();const i=window.open();i.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),i.print(),i.close();return}else if(l==="link"){const i=this.getParentAttribute("href");if(i===null){const m=this.selectWord(this.selection),c=m?m.toString():"";if(!c.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=Zn.test(c)?c:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(m.getRangeAt(0))}else this.eVm.editLinkUrl.value=i,this.range.selectNodeContents(this.parent),this.save();return}else if(l==="fullscreen"){this.eVm.toggleFullscreen(),u();return}else if(l==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),u();return}document.execCommand(l,!1,o),u()}selectWord(l){if(l===null||l.isCollapsed!==!0||l.modify===void 0)return l;const o=document.createRange();o.setStart(l.anchorNode,l.anchorOffset),o.setEnd(l.focusNode,l.focusOffset);const u=o.collapsed?["backward","forward"]:["forward","backward"];o.detach();const i=l.focusNode,m=l.focusOffset;return l.collapse(l.anchorNode,l.anchorOffset),l.modify("move",u[0],"character"),l.modify("move",u[1],"word"),l.extend(i,m),l.modify("extend",u[1],"character"),l.modify("extend",u[0],"word"),l}}function Et(e,l,o){l.handler?l.handler(e,o,o.caret):o.runCmd(l.cmd,l.param)}function nt(e){return j("div",{class:"q-editor__toolbar-group"},e)}function Vt(e,l,o,u=!1){const i=u||(l.type==="toggle"?l.toggled?l.toggled(e):l.cmd&&e.caret.is(l.cmd,l.param):!1),m=[];if(l.tip&&e.$q.platform.is.desktop){const c=l.key?j("div",[j("small",`(CTRL + ${String.fromCharCode(l.key)})`)]):null;m.push(j(et,{delay:1e3},()=>[j("div",{innerHTML:l.tip}),c]))}return j($,{...e.buttonProps.value,icon:l.icon!==null?l.icon:void 0,color:i?l.toggleColor||e.props.toolbarToggleColor:l.color||e.props.toolbarColor,textColor:i&&!e.props.toolbarPush?null:l.textColor||e.props.toolbarTextColor,label:l.label,disable:l.disable?typeof l.disable=="function"?l.disable(e):!0:!1,size:"sm",onClick(c){o==null||o(),Et(c,l,e)}},()=>m)}function to(e,l){const o=l.list==="only-icons";let u=l.label,i=l.icon!==null?l.icon:void 0,m,c;function h(){s.component.proxy.hide()}if(o)c=l.options.map(r=>{const f=r.type===void 0?e.caret.is(r.cmd,r.param):!1;return f&&(u=r.tip,i=r.icon!==null?r.icon:void 0),Vt(e,r,h,f)}),m=e.toolbarBackgroundClass.value,c=[nt(c)];else{const r=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,f=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,_=l.list==="no-icons";c=l.options.map(T=>{const S=T.disable?T.disable(e):!1,y=T.type===void 0?e.caret.is(T.cmd,T.param):!1;y&&(u=T.tip,i=T.icon!==null?T.icon:void 0);const g=T.htmlTip;return j(M,{active:y,activeClass:r,clickable:!0,disable:S,dense:!0,onClick(v){var A;h(),(v==null?void 0:v.qAvoidFocus)!==!0&&((A=e.contentRef.value)==null||A.focus()),e.caret.restore(),Et(v,T,e)}},()=>[_===!0?null:j(D,{class:y?r:f,side:!0},()=>j(ke,{name:T.icon!==null?T.icon:void 0})),j(D,g?()=>j("div",{class:"text-no-wrap",innerHTML:T.htmlTip}):T.tip?()=>j("div",{class:"text-no-wrap"},T.tip):void 0)])}),m=[e.toolbarBackgroundClass.value,f]}const d=l.highlight&&u!==l.label,s=j(yl,{...e.buttonProps.value,noCaps:!0,noWrap:!0,color:d?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:d&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:l.fixedLabel?l.label:u,icon:l.fixedIcon?l.icon!==null?l.icon:void 0:i,contentClass:m,onShow:r=>e.emit("dropdownShow",r),onHide:r=>e.emit("dropdownHide",r),onBeforeShow:r=>e.emit("dropdownBeforeShow",r),onBeforeHide:r=>e.emit("dropdownBeforeHide",r)},()=>c);return s}function lo(e){if(e.caret)return e.buttons.value.filter(l=>!e.isViewingSource.value||l.find(o=>o.cmd==="viewsource")).map(l=>nt(l.map(o=>e.isViewingSource.value&&o.cmd!=="viewsource"?!1:o.type==="slot"?Ue(e.slots[o.slot]):o.type==="dropdown"?to(e,o):Vt(e,o))))}function ao(e,l,o,u={}){const i=Object.keys(u);if(i.length===0)return{};const m={default_font:{cmd:"fontName",param:e,icon:o,tip:l}};return i.forEach(c=>{const h=u[c];m[c]={cmd:"fontName",param:h,icon:o,tip:h,htmlTip:`<font face="${h}">${h}</font>`}}),m}function no(e){if(e.caret){const l=e.props.toolbarColor||e.props.toolbarTextColor;let o=e.editLinkUrl.value;const u=()=>{e.caret.restore(),o!==e.editLinkUrl.value&&document.execCommand("createLink",!1,o===""?" ":o),e.editLinkUrl.value=null};return[j("div",{class:`q-mx-xs text-${l}`},`${e.$q.lang.editor.url}: `),j("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:o,onInput:i=>{il(i),o=i.target.value},onKeydown:i=>{if(tt(i)!==!0)switch(i.keyCode){case 13:return ft(i),u();case 27:ft(i),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),nt([j($,{key:"qedt_btm_rem",tabindex:-1,...e.buttonProps.value,label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}}),j($,{key:"qedt_btm_upd",...e.buttonProps.value,label:e.$q.lang.label.update,noCaps:!0,onClick:u})])]}}const oo=Object.prototype.toString,Ge=Object.prototype.hasOwnProperty,so=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(e=>"[object "+e+"]"));function yt(e){if(e!==Object(e)||so.has(oo.call(e))===!0||e.constructor&&Ge.call(e,"constructor")===!1&&Ge.call(e.constructor.prototype,"isPrototypeOf")===!1)return!1;let l;for(l in e);return l===void 0||Ge.call(e,l)}function Ot(){let e,l,o,u,i,m,c=arguments[0]||{},h=1,d=!1;const s=arguments.length;for(typeof c=="boolean"&&(d=c,c=arguments[1]||{},h=2),Object(c)!==c&&typeof c!="function"&&(c={}),s===h&&(c=this,h--);h<s;h++)if((e=arguments[h])!==null)for(l in e)o=c[l],u=e[l],c!==u&&(d===!0&&u&&((i=Array.isArray(u))||yt(u)===!0)?(i===!0?m=Array.isArray(o)===!0?o:[]:m=yt(o)===!0?o:{},c[l]=Ot(d,m,u)):u!==void 0&&(c[l]=u));return c}const io=Le({name:"QEditor",props:{...qt,...ql,modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(l=>l.length),default:()=>[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},emits:[...kl,"update:modelValue","keydown","click","focus","blur","dropdownShow","dropdownHide","dropdownBeforeShow","dropdownBeforeHide","linkShow","linkHide"],setup(e,{slots:l,emit:o}){const{proxy:u}=Qe(),{$q:i}=u,m=Ct(e,i),{inFullscreen:c,toggleFullscreen:h}=Cl(),d=rl(),s=Q(null),r=Q(null),f=Q(null),_=Q(!1),T=P(()=>!e.readonly&&!e.disable);let S,y,g=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),S=window.getComputedStyle(document.body).fontFamily;const v=P(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),A=P(()=>({type:"a",flat:e.toolbarOutline!==!0&&e.toolbarPush!==!0,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!T.value,size:"sm"})),L=P(()=>{const b=i.lang.editor,k=i.iconSet.editor;return{bold:{cmd:"bold",icon:k.bold,tip:b.bold,key:66},italic:{cmd:"italic",icon:k.italic,tip:b.italic,key:73},strike:{cmd:"strikeThrough",icon:k.strikethrough,tip:b.strikethrough,key:83},underline:{cmd:"underline",icon:k.underline,tip:b.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:k.unorderedList,tip:b.unorderedList},ordered:{cmd:"insertOrderedList",icon:k.orderedList,tip:b.orderedList},subscript:{cmd:"subscript",icon:k.subscript,tip:b.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:k.superscript,tip:b.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:F=>F.caret&&!F.caret.can("link"),icon:k.hyperlink,tip:b.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:k.toggleFullscreen,tip:b.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:k.viewSource,tip:b.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:k.quote,tip:b.quote,key:81},left:{cmd:"justifyLeft",icon:k.left,tip:b.left},center:{cmd:"justifyCenter",icon:k.center,tip:b.center},right:{cmd:"justifyRight",icon:k.right,tip:b.right},justify:{cmd:"justifyFull",icon:k.justify,tip:b.justify},print:{type:"no-state",cmd:"print",icon:k.print,tip:b.print,key:80},outdent:{type:"no-state",disable:F=>F.caret&&!F.caret.can("outdent"),cmd:"outdent",icon:k.outdent,tip:b.outdent},indent:{type:"no-state",disable:F=>F.caret&&!F.caret.can("indent"),cmd:"indent",icon:k.indent,tip:b.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:k.removeFormat,tip:b.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:k.hr,tip:b.hr},undo:{type:"no-state",cmd:"undo",icon:k.undo,tip:b.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:k.redo,tip:b.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:k.heading1||k.heading,tip:b.heading1,htmlTip:`<h1 class="q-ma-none">${b.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:k.heading2||k.heading,tip:b.heading2,htmlTip:`<h2 class="q-ma-none">${b.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:k.heading3||k.heading,tip:b.heading3,htmlTip:`<h3 class="q-ma-none">${b.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:k.heading4||k.heading,tip:b.heading4,htmlTip:`<h4 class="q-ma-none">${b.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:k.heading5||k.heading,tip:b.heading5,htmlTip:`<h5 class="q-ma-none">${b.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:k.heading6||k.heading,tip:b.heading6,htmlTip:`<h6 class="q-ma-none">${b.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:k.heading,tip:b.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:k.code,htmlTip:`<code>${b.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:k.size1||k.size,tip:b.size1,htmlTip:`<font size="1">${b.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:k.size2||k.size,tip:b.size2,htmlTip:`<font size="2">${b.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:k.size3||k.size,tip:b.size3,htmlTip:`<font size="3">${b.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:k.size4||k.size,tip:b.size4,htmlTip:`<font size="4">${b.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:k.size5||k.size,tip:b.size5,htmlTip:`<font size="5">${b.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:k.size6||k.size,tip:b.size6,htmlTip:`<font size="6">${b.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:k.size7||k.size,tip:b.size7,htmlTip:`<font size="7">${b.size7}</font>`}}}),J=P(()=>{const b=e.definitions||{},k=e.definitions||e.fonts?Ot(!0,{},L.value,b,ao(S,i.lang.editor.defaultFont,i.iconSet.editor.font,e.fonts)):L.value;return e.toolbar.map(F=>F.map(ee=>{if(ee.options)return{type:"dropdown",icon:ee.icon,label:ee.label,size:"sm",dense:!0,fixedLabel:ee.fixedLabel,fixedIcon:ee.fixedIcon,highlight:ee.highlight,list:ee.list,options:ee.options.map(He=>k[He])};const me=k[ee];return me?me.type==="no-state"||b[ee]&&(me.cmd===void 0||L.value[me.cmd]&&L.value[me.cmd].type==="no-state")?me:Object.assign({type:"toggle"},me):{type:"slot",slot:ee}}))}),N={$q:i,props:e,slots:l,emit:o,inFullscreen:c,toggleFullscreen:h,runCmd:ce,isViewingSource:_,editLinkUrl:f,toolbarBackgroundClass:v,buttonProps:A,contentRef:r,buttons:J,setContent:de};re(()=>e.modelValue,b=>{g!==b&&(g=b,de(b,!0))}),re(f,b=>{o(`link${b?"Show":"Hide"}`)});const ae=P(()=>e.toolbar&&e.toolbar.length!==0),ne=P(()=>{const b={},k=F=>{F.key&&(b[F.key]={cmd:F.cmd,param:F.param})};return J.value.forEach(F=>{F.forEach(ee=>{ee.options?ee.options.forEach(k):k(ee)})}),b}),G=P(()=>c.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),ie=P(()=>`q-editor q-editor--${_.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(c.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(m.value===!0?" q-editor--dark q-dark":"")),_e=P(()=>[e.contentClass,"q-editor__content",{col:c.value,"overflow-auto":c.value||e.maxHeight}]),xe=P(()=>e.disable===!0?{"aria-disabled":"true"}:{});function Te(){if(r.value!==null){const b=`inner${_.value===!0?"Text":"HTML"}`,k=r.value[b];k!==e.modelValue&&(g=k,o("update:modelValue",k))}}function Se(b){if(o("keydown",b),b.ctrlKey!==!0||tt(b)===!0){K();return}const k=b.keyCode,F=ne.value[k];if(F!==void 0){const{cmd:ee,param:me}=F;lt(b),ce(ee,me,!1)}}function V(b){K(),o("click",b)}function se(b){if(r.value!==null){const{scrollTop:k,scrollHeight:F}=r.value;y=F-k}N.caret.save(),o("blur",b)}function ve(b){ul(()=>{r.value!==null&&y!==void 0&&(r.value.scrollTop=r.value.scrollHeight-y)}),o("focus",b)}function Ve(b){const k=s.value;if(k!==null&&k.contains(b.target)===!0&&(b.relatedTarget===null||k.contains(b.relatedTarget)!==!0)){const F=`inner${_.value===!0?"Text":"HTML"}`;N.caret.restorePosition(r.value[F].length),K()}}function De(b){const k=s.value;k!==null&&k.contains(b.target)===!0&&(b.relatedTarget===null||k.contains(b.relatedTarget)!==!0)&&(N.caret.savePosition(),K())}function Oe(){y=void 0}function Pe(b){N.caret.save()}function de(b,k){if(r.value!==null){k===!0&&N.caret.savePosition();const F=`inner${_.value===!0?"Text":"HTML"}`;r.value[F]=b,k===!0&&(N.caret.restorePosition(r.value[F].length),K())}}function ce(b,k,F=!0){ye(),N.caret.restore(),N.caret.apply(b,k,()=>{ye(),N.caret.save(),F&&K()})}function K(){setTimeout(()=>{f.value=null,u.$forceUpdate()},1)}function ye(){dl(()=>{var b;(b=r.value)==null||b.focus({preventScroll:!0})})}function fe(){return r.value}return xt(()=>{N.caret=u.caret=new eo(r.value,N),de(e.modelValue),K(),document.addEventListener("selectionchange",Pe)}),ze(()=>{document.removeEventListener("selectionchange",Pe)}),Object.assign(u,{runCmd:ce,refreshToolbar:K,focus:ye,getContentEl:fe}),()=>{let b;if(ae.value){const k=[j("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+v.value},lo(N))];f.value!==null&&k.push(j("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+v.value},no(N))),b=j("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},k)}return j("div",{ref:s,class:ie.value,style:{height:c.value===!0?"100%":null},...xe.value,onFocusin:Ve,onFocusout:De},[b,j("div",{ref:r,style:G.value,class:_e.value,contenteditable:T.value,placeholder:e.placeholder,...d.listeners.value,onInput:Te,onKeydown:Se,onClick:V,onBlur:se,onFocus:ve,onMousedown:Oe,onTouchstartPassive:Oe})])}}}),ro={class:"flex items-center justify-between q-pa-md bg-white"},uo={class:"flex q-gutter-sm"},co={__name:"EngagementCard",props:{data:Object,canCreateEngagementCard:Boolean,canDownloadEngagementCard:Boolean},setup(e){var s,r;const l=e,o=pe({html_content:((r=(s=l.data)==null?void 0:s.engagement_card)==null?void 0:r.content)||""}),u=Q(!1),i=Q(""),m=be(),c=async()=>{u.value=!0;try{axios.get(route("engagement-card.show",l.data)).then(f=>{i.value=f.data,o.html_content=f.data})}catch{m.notify({type:"negative",message:"Failed to load card data"})}},h=()=>{o.post(route("engagement-card.store",l.data),{preserveScroll:!0,onSuccess:()=>{u.value=!1,m.notify({type:"positive",message:"Card saved successfully!"})}})},d=async()=>{try{const f=await axios.get(route("engagement-card.download",l.data),{responseType:"blob"}),_=window.URL.createObjectURL(new Blob([f.data],{type:"application/pdf"})),T=document.createElement("a");T.href=_,T.setAttribute("download",`EngagementCard_${l.data.id}.pdf`),document.body.appendChild(T),T.click(),T.remove()}catch{m.notify({type:"negative",message:"Failed to download PDF."})}};return(f,_)=>(p(),E(H,{class:"q-mt-md"},{default:a(()=>[n("div",ro,[_[2]||(_[2]=n("div",null,[n("div",{class:"stitle"},"Engagement Card")],-1)),n("div",uo,[e.data.engagement_card&&e.canCreateEngagementCard?(p(),E($,{key:0,color:"primary",icon:"edit",onClick:c})):U("",!0)])]),t(B,null,{default:a(()=>[!e.data.engagement_card&&e.canCreateEngagementCard?(p(),E($,{key:0,color:"primary",label:"Create",onClick:c})):U("",!0),e.data.engagement_card&&e.canDownloadEngagementCard?(p(),E($,{key:1,color:"primary",label:"Download",onClick:d})):U("",!0),t($e,{modelValue:u.value,"onUpdate:modelValue":_[1]||(_[1]=T=>u.value=T),persistent:""},{default:a(()=>[t(H,{style:{width:"1000px","max-width":"100vw"}},{default:a(()=>[t(B,{class:"row items-center justify-between bg-primary text-white"},{default:a(()=>[_[3]||(_[3]=n("div",{class:"text-h6"},"Engagement Card",-1)),he(t($,{dense:"",flat:"",icon:"close"},null,512),[[Ce]])]),_:1,__:[3]}),t(B,{style:{"flex-grow":"1",overflow:"auto",padding:"0"}},{default:a(()=>[t(io,{modelValue:w(o).html_content,"onUpdate:modelValue":_[0]||(_[0]=T=>w(o).html_content=T),style:{width:"100%","max-height":"1100px"}},null,8,["modelValue"])]),_:1}),t(ue,{align:"right",style:{"flex-shrink":"0"}},{default:a(()=>[t($,{color:"primary",label:"Save",onClick:h})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}))}},fo={class:"flex items-center justify-between q-pa-md bg-white"},mo={class:"row q-col-gutter-md"},go={class:"col-12 col-md-4"},vo={class:"column items-center q-gutter-sm"},po={class:"stitle"},bo={class:"q-mt-lg full-width"},yo={class:"q-mt-lg flex items-center justify-center"},ho={class:"col-12 col-md-8"},_o={class:"row q-col-gutter-md"},xo={class:"col-12 col-md-7"},wo={class:"col-12 col-md-5"},Lo=Object.assign({layout:hl},{__name:"Show",props:["data","office","documentTypes","canCreate","canEdit","canDelete","canCreateRemuneration","canCreateTransfer","canDeleteDocument","canDeleteTransfer","canCreateEngagementCard","canDownloadEngagementCard","canRequestEdit","canRequestDelete","canRequestTransfer","canApproveEdit","canApproveTransfer","canApproveDelete","canEditDelete","canRequestDocumentEdit","canApproveDocumentEdit"],setup(e){const{formatDate:l}=Ee(),o=e,u=Q("document"),i=Q(!1),m=P(()=>{var g;return!!((g=mt().props.roles)!=null&&g.find(v=>v==="Admin"))}),c=P(()=>{var g;return!!((g=mt().props.roles)!=null&&g.find(v=>v==="Manager"))}),h=P(()=>{const g=o.data.edit_requests;return g&&g.length?g[g.length-1]:null}),d=P(()=>{const g=o.data.deletion_requests;return g&&g.length?g[g.length-1]:null}),s=P(()=>{const g=o.data.transfer_requests;return g&&g.length?g[g.length-1]:null}),r=P(()=>{const g=o.data.document_request;return g&&g.length?g[g.length-1]:null});function f(g){if(!g)return!0;const v=new Date,A=new Date(g);return(v-A)/(1e3*60*60*24)<=15}const _=P(()=>h.value?m.value?h.value.approval_status==="pending":c.value?h.value.approval_status!=="pending"&&f(h.value.approval_date):!1:!1),T=P(()=>d.value?m.value?d.value.approval_status==="pending":c.value?d.value.approval_status!=="pending"&&f(d.value.approval_date):!1:!1),S=P(()=>s.value?m.value?s.value.approval_status==="pending":c.value?s.value.approval_status!=="pending"&&f(s.value.approval_date):!1:!1),y=P(()=>r.value?m.value?r.value.approval_status==="pending":c.value?r.value.approval_status!=="pending"&&f(r.value.approval_date):!1:!1);return(g,v)=>(p(),E(Ft,{class:"container",padding:""},{default:a(()=>[n("div",fo,[n("div",null,[v[5]||(v[5]=n("div",{class:"stitle"},"Employee Detail",-1)),t(Nt,{class:"text-dark"},{default:a(()=>[t(ut,{onClick:v[0]||(v[0]=A=>g.$inertia.get(g.route("dashboard"))),icon:"dashboard",label:"Dashboard"}),t(ut,{label:"All Employees",to:g.route("mis.import")},null,8,["to"])]),_:1})])]),v[24]||(v[24]=n("br",null,null,-1)),t(H,{flat:""},{default:a(()=>[t(B,null,{default:a(()=>[n("div",mo,[n("div",go,[t(H,{class:"q-pa-md"},{default:a(()=>{var A,L,J,N,ae,ne;return[n("div",vo,[t(cl,{size:"96px"},{default:a(()=>{var G,ie;return[(G=e.data)!=null&&G.avatar?(p(),E(Qt,{key:0,src:`/storage/${(ie=e.data)==null?void 0:ie.avatar}`},null,8,["src"])):(p(),E(ke,{key:1,name:"person",color:"primary"}))]}),_:1}),n("div",po,q(e.data.name),1),t(_l,{color:((L=(A=e.data)==null?void 0:A.employment_type)==null?void 0:L.trim())==="Deleted"?"red-6":"grey-6","text-color":"white",class:"stitle",label:((N=(J=e.data)==null?void 0:J.employment_type)==null?void 0:N.trim())==="MR"?"Muster Roll":((ne=(ae=e.data)==null?void 0:ae.employment_type)==null?void 0:ne.trim())==="PE"?"Provisional":"Deleted",style:{padding:"8px"},rounded:""},null,8,["color","label"]),n("div",bo,[t(at,{class:"rounded-borders"},{default:a(()=>{var G,ie,_e,xe,Te,Se;return[t(M,null,{default:a(()=>[t(D,{class:"text-label"},{default:a(()=>v[6]||(v[6]=[x("Details")])),_:1,__:[6]})]),_:1}),t(M,null,{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>v[7]||(v[7]=[x("Employee Code:")])),_:1,__:[7]}),t(D,{class:"text-label"},{default:a(()=>{var V;return[x(q((V=e.data)==null?void 0:V.employee_code),1)]}),_:1})]),_:1}),t(M,null,{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>v[8]||(v[8]=[x("Name:")])),_:1,__:[8]}),t(D,{class:"text-label"},{default:a(()=>{var V;return[x(q((V=e.data)==null?void 0:V.name),1)]}),_:1})]),_:1}),t(M,null,{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>v[9]||(v[9]=[x("Email:")])),_:1,__:[9]}),t(D,{class:"text-label"},{default:a(()=>[x(q(e.data.email),1)]),_:1})]),_:1}),t(M,null,{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>v[10]||(v[10]=[x("Contact:")])),_:1,__:[10]}),t(D,{class:"text-label"},{default:a(()=>{var V;return[x(q((V=e.data)==null?void 0:V.mobile),1)]}),_:1})]),_:1}),t(M,null,{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>v[11]||(v[11]=[x("Parent Name:")])),_:1,__:[11]}),t(D,{class:"text-label"},{default:a(()=>{var V;return[x(q((V=e.data)==null?void 0:V.parent_name),1)]}),_:1})]),_:1}),t(M,null,{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>v[12]||(v[12]=[x("Date of Birth:")])),_:1,__:[12]}),t(D,{class:"text-label"},{default:a(()=>[x(q(w(l)(e.data.date_of_birth)),1)]),_:1})]),_:1}),t(M,null,{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>v[13]||(v[13]=[x("Address:")])),_:1,__:[13]}),t(D,{class:"text-label"},{default:a(()=>{var V;return[x(q(((V=e.data)==null?void 0:V.address)??"N/A"),1)]}),_:1})]),_:1}),t(M,null,{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>v[14]||(v[14]=[x("Education Qln.:")])),_:1,__:[14]}),t(D,{class:"text-label"},{default:a(()=>{var V;return[x(q((V=e.data)==null?void 0:V.educational_qln),1)]}),_:1})]),_:1}),t(M,null,{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>v[15]||(v[15]=[x("Technical Qln.:")])),_:1,__:[15]}),t(D,{class:"text-label"},{default:a(()=>{var V;return[x(q((V=e.data)==null?void 0:V.technical_qln),1)]}),_:1})]),_:1}),t(M,null,{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>v[16]||(v[16]=[x("Designation:")])),_:1,__:[16]}),t(D,{class:"text-label"},{default:a(()=>{var V;return[x(q((V=e.data)==null?void 0:V.designation),1)]}),_:1})]),_:1}),t(M,null,{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>v[17]||(v[17]=[x("Office:")])),_:1,__:[17]}),t(D,{class:"text-label"},{default:a(()=>{var V,se;return[x(q((se=(V=e.data)==null?void 0:V.office)==null?void 0:se.name),1)]}),_:1})]),_:1}),t(M,null,{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>v[18]||(v[18]=[x("Office Type:")])),_:1,__:[18]}),t(D,{class:"text-label"},{default:a(()=>{var V,se;return[x(q((se=(V=e.data)==null?void 0:V.office)==null?void 0:se.type),1)]}),_:1})]),_:1}),t(M,null,{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>v[19]||(v[19]=[x("Workplace:")])),_:1,__:[19]}),t(D,{class:"text-label"},{default:a(()=>{var V;return[x(q((V=e.data)==null?void 0:V.name_of_workplace),1)]}),_:1})]),_:1}),t(M,null,{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>v[20]||(v[20]=[x("Date of Initial Engagement:")])),_:1,__:[20]}),t(D,{class:"text-label"},{default:a(()=>{var V;return[x(q(w(l)((V=e.data)==null?void 0:V.date_of_engagement)||"N/A"),1)]}),_:1})]),_:1}),((ie=(G=e.data)==null?void 0:G.employment_type)==null?void 0:ie.trim())==="MR"?(p(),E(M,{key:0},{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>v[21]||(v[21]=[x("Post Per Qualification:")])),_:1,__:[21]}),t(D,{class:"text-label"},{default:a(()=>{var V;return[x(q((V=e.data)==null?void 0:V.post_per_qualification),1)]}),_:1})]),_:1})):U("",!0),((xe=(_e=e.data)==null?void 0:_e.employment_type)==null?void 0:xe.trim())==="MR"?(p(),E(M,{key:1},{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>v[22]||(v[22]=[x("Skill Category:")])),_:1,__:[22]}),t(D,{class:"text-label"},{default:a(()=>{var V;return[x(q((V=e.data)==null?void 0:V.skill_category),1)]}),_:1})]),_:1})):U("",!0),((Se=(Te=e.data)==null?void 0:Te.employment_type)==null?void 0:Se.trim())==="MR"?(p(),E(M,{key:2},{default:a(()=>[t(D,{side:"",class:"subtitle"},{default:a(()=>v[23]||(v[23]=[x("Skill at Present:")])),_:1,__:[23]}),t(D,{class:"text-label"},{default:a(()=>{var V;return[x(q((V=e.data)==null?void 0:V.skill_at_present),1)]}),_:1})]),_:1})):U("",!0)]}),_:1}),n("div",yo,[e.canEdit?(p(),E($,{key:0,label:"Edit",onClick:v[1]||(v[1]=G=>g.$inertia.get(g.route("employee.edit",e.data))),class:"q-mr-md",color:"primary"})):U("",!0),e.canDelete&&e.data.employment_type!=="Deleted"?(p(),E($,{key:1,label:"Delete",color:"negative",unelevated:"",onClick:v[2]||(v[2]=G=>i.value=!0)})):U("",!0)])])])]}),_:1})]),t(In,{modelValue:i.value,"onUpdate:modelValue":v[3]||(v[3]=A=>i.value=A),employee:e.data},null,8,["modelValue","employee"]),n("div",ho,[t(Vl,{modelValue:u.value,"onUpdate:modelValue":v[4]||(v[4]=A=>u.value=A),class:"text-primary bg-white shadow-1 q-pa-sm",dense:"",align:"center"},{default:a(()=>[t(je,{name:"document",label:"Documents",icon:"drive_folder_upload",alert:y.value,"alert-icon":"circle","alert-color":"red",class:ge(y.value?"text-red":"")},null,8,["alert","class"]),m.value&&e.canApproveEdit?(p(),E(je,{key:0,name:"edit",label:"Edit Request",icon:"edit",alert:_.value,"alert-icon":"circle","alert-color":"red",class:ge(_.value?"text-red":"")},null,8,["alert","class"])):U("",!0),m.value&&e.canApproveTransfer?(p(),E(je,{key:1,name:"transfer_request",label:"Transfer Request",icon:"input",alert:S.value,"alert-icon":"circle","alert-color":"red",class:ge(S.value?"text-red":"")},null,8,["alert","class"])):U("",!0),m.value&&e.canApproveDelete?(p(),E(je,{key:2,name:"deletion",label:"Deletion Request",icon:"delete_sweep",alert:T.value,"alert-icon":"circle","alert-color":"red",class:ge(T.value?"text-red":"")},null,8,["alert","class"])):U("",!0),c.value&&e.canRequestEdit?(p(),E(je,{key:3,name:"request_edit",label:"Request Edit",icon:"edit",alert:_.value,"alert-icon":"circle","alert-color":"red",class:ge(_.value?"text-red":"")},null,8,["alert","class"])):U("",!0),c.value&&e.canRequestTransfer?(p(),E(je,{key:4,name:"request_transfer",label:"Request Transfer",icon:"input"})):U("",!0),c.value&&e.canRequestDelete?(p(),E(je,{key:5,name:"request_deletion",label:"Request Deletion",icon:"delete_sweep"})):U("",!0)]),_:1},8,["modelValue"]),u.value==="document"?(p(),E(Kl,{key:0,data:e.data,documentTypes:e.documentTypes,canDeleteDocument:e.canDeleteDocument,canApproveDocumentEdit:e.canApproveDocumentEdit,canRequestDocumentEdit:e.canRequestDocumentEdit},null,8,["data","documentTypes","canDeleteDocument","canApproveDocumentEdit","canRequestDocumentEdit"])):U("",!0),u.value==="edit"?(p(),E(wa,{key:1,data:e.data},null,8,["data"])):U("",!0),u.value==="transfer_request"?(p(),E(sa,{key:2,data:e.data,office:e.office},null,8,["data","office"])):U("",!0),u.value==="deletion"?(p(),E(Ba,{key:3,data:e.data},null,8,["data"])):U("",!0),u.value==="request_edit"?(p(),E(hn,{key:4,data:e.data,documentTypes:e.documentTypes},null,8,["data","documentTypes"])):U("",!0),u.value==="request_transfer"?(p(),E(En,{key:5,data:e.data,office:e.office},null,8,["data","office"])):U("",!0),u.value==="request_deletion"?(p(),E(en,{key:6,data:e.data},null,8,["data"])):U("",!0),n("div",_o,[n("div",xo,[t(Xn,{data:e.data,canCreateRemuneration:e.canCreateRemuneration},null,8,["data","canCreateRemuneration"]),t(Qn,{data:e.data,office:e.office,canCreateTransfer:e.canCreateTransfer,canDeleteTransfer:e.canDeleteTransfer},null,8,["data","office","canCreateTransfer","canDeleteTransfer"])]),n("div",wo,[e.data.employment_type==="PE"?(p(),E(co,{key:0,data:e.data,canCreateEngagementCard:e.canCreateEngagementCard,canDownloadEngagementCard:e.canDownloadEngagementCard},null,8,["data","canCreateEngagementCard","canDownloadEngagementCard"])):U("",!0),e.data.employment_type==="Deleted"?(p(),E(Wn,{key:1,deletion:e.data.deletion_detail,canEditDelete:e.canEditDelete},null,8,["deletion","canEditDelete"])):U("",!0)])])])])]),_:1})]),_:1})]),_:1,__:[24]}))}});export{Lo as default};
