import{Q as jt,a as pt}from"./QBreadcrumbs-B4y-Iw47.js";import{g as At,a as Lt,Q as Bt}from"./QLayout-DqdLlz7B.js";import{K as Ut,L as nt,bp as Ct,J as lt,r as H,c as B,m as Ke,l as Dt,aA as Re,b7 as Nt,n as Q,D as Ae,_ as zt,a7 as Ft,b3 as ct,as as ft,H as Ye,ag as et,U as rt,k as be,Z as Mt,aR as Qt,aS as It,I as mt,x as ke,f as E,o as f,i as t,w as l,z as N,e as n,d as R,g as A,q as S,Q as se,F as X,v as oe,t as w,p as Ee,y as J,bq as ve,h as p,br as pe,u as y,b6 as Pe,ab as Ht,$ as Wt,ac as ot,ae as Kt,ah as Yt,ai as Jt,aj as Gt,a8 as yt,a6 as bt,a0 as Xt,V as Zt,W as ut,b as tt,bm as el,E as $t,G as tl,P as ll,a5 as ht,aw as al,ad as nl,af as ol,bs as sl,R as il,ar as rl,bt as ul,A as dl}from"./app-BKZzZdW9.js";import{Q as gt,a as I,b as $,d as cl}from"./format-DVjFHw3j.js";import{r as fl,Q as Le}from"./QSelect-CqoD2GC0.js";import{C as Oe,v as ml,b as _t,u as gl,p as xt,c as vl,d as pl,e as yl,r as wt,s as bl,f as hl,_ as _l}from"./BackendLayout-C0a8EOi0.js";import{Q as xl}from"./QMarkupTable-DrZp38Ja.js";import{Q as ze}from"./QFile-zx1vNvkp.js";import{u as De}from"./use-quasar-yEAYruYz.js";import{u as Be}from"./useUtils-BwF3EynQ.js";import{_ as Tt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as kt}from"./touch-BtXdfSmM.js";import{Q as wl,a as kl}from"./QTimeline-7L0mc_73.js";import{Q as St}from"./QForm-iaiVvN9K.js";import{u as ql,a as Cl,b as Dl}from"./use-fullscreen-BuswMVB4.js";import"./QChip-2jXGdexm.js";import"./QSlideTransition-4KgzU0H9.js";import"./date-DgFOktaR.js";let $l=0;const Tl=["click","keydown"],Sl={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${$l++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Rl(e,a,o,c){const i=Ut(Ct,nt);if(i===nt)return console.error("QTab/QRouteTab component needs to be child of QTabs"),nt;const{proxy:m}=lt(),v=H(null),h=H(null),u=H(null),r=B(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),s=B(()=>i.currentModel.value===e.name),d=B(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(s.value===!0?" q-tab--active"+(i.tabProps.value.activeClass?" "+i.tabProps.value.activeClass:"")+(i.tabProps.value.activeColor?` text-${i.tabProps.value.activeColor}`:"")+(i.tabProps.value.activeBgColor?` bg-${i.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&i.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||i.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),T=B(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(i.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),k=B(()=>e.disable===!0||i.hasFocus.value===!0||s.value===!1&&i.hasActiveTab.value===!0?-1:e.tabindex||0);function L(U,V){var _;if(V!==!0&&(U==null?void 0:U.qAvoidFocus)!==!0&&((_=v.value)==null||_.focus()),e.disable!==!0){i.updateModel({name:e.name}),o("click",U);return}}function O(U){Ft(U,[13,32])?L(U,!0):ct(U)!==!0&&U.keyCode>=35&&U.keyCode<=40&&U.altKey!==!0&&U.metaKey!==!0&&i.onKbdNavigate(U.keyCode,m.$el)===!0&&ft(U),o("keydown",U)}function z(){const U=i.tabProps.value.narrowIndicator,V=[],_=Q("div",{ref:u,class:["q-tab__indicator",i.tabProps.value.indicatorClass]});e.icon!==void 0&&V.push(Q(Ae,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&V.push(Q("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&V.push(e.alertIcon!==void 0?Q(Ae,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):Q("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),U===!0&&V.push(_);const D=[Q("div",{class:"q-focus-helper",tabindex:-1,ref:v}),Q("div",{class:T.value},zt(a.default,V))];return U===!1&&D.push(_),D}const C={name:B(()=>e.name),rootRef:h,tabIndicatorRef:u,routeData:c};Ke(()=>{i.unregisterTab(C)}),Dt(()=>{i.registerTab(C)});function b(U,V){const _={ref:h,class:d.value,tabindex:k.value,role:"tab","aria-selected":s.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:L,onKeydown:O,...V};return Re(Q(U,_,z()),[[Nt,r.value]])}return{renderTab:b,$tabs:i}}const Ne=Ye({name:"QTab",props:Sl,emits:Tl,setup(e,{slots:a,emit:o}){const{renderTab:c}=Rl(e,a,o);return()=>c("div")}});function El(e,a,o){const c=o===!0?["left","right"]:["top","bottom"];return`absolute-${a===!0?c[0]:c[1]}${e?` text-${e}`:""}`}const Ol=["left","center","right","justify"],Pl=Ye({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Ol.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:a,emit:o}){const{proxy:c}=lt(),{$q:i}=c,{registerTick:m}=et(),{registerTick:v}=et(),{registerTick:h}=et(),{registerTimeout:u,removeTimeout:r}=rt(),{registerTimeout:s,removeTimeout:d}=rt(),T=H(null),k=H(null),L=H(e.modelValue),O=H(!1),z=H(!0),C=H(!1),b=H(!1),U=[],V=H(0),_=H(!1);let D=null,M=null,te;const ne=B(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:El(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),he=B(()=>{const q=V.value,j=L.value;for(let F=0;F<q;F++)if(U[F].name.value===j)return!0;return!1}),_e=B(()=>`q-tabs__content--align-${O.value===!0?"left":b.value===!0?"justify":e.align}`),qe=B(()=>`q-tabs row no-wrap items-center q-tabs--${O.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),Ce=B(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+_e.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),fe=B(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),xe=B(()=>e.vertical!==!0&&i.lang.rtl===!0),me=B(()=>fl===!1&&xe.value===!0);be(xe,ue),be(()=>e.modelValue,q=>{ie({name:q,setCurrent:!0,skipEmit:!0})}),be(()=>e.outsideArrows,ge);function ie({name:q,setCurrent:j,skipEmit:F}){L.value!==q&&(F!==!0&&e["onUpdate:modelValue"]!==void 0&&o("update:modelValue",q),(j===!0||e["onUpdate:modelValue"]===void 0)&&(Te(L.value,q),L.value=q))}function ge(){m(()=>{T.value&&$e({width:T.value.offsetWidth,height:T.value.offsetHeight})})}function $e(q){if(fe.value===void 0||k.value===null)return;const j=q[fe.value.container],F=Math.min(k.value[fe.value.scroll],Array.prototype.reduce.call(k.value.children,(ee,Y)=>ee+(Y[fe.value.content]||0),0)),Z=j>0&&F>j;O.value=Z,Z===!0&&v(ue),b.value=j<parseInt(e.breakpoint,10)}function Te(q,j){const F=q!=null&&q!==""?U.find(ee=>ee.name.value===q):null,Z=j!=null&&j!==""?U.find(ee=>ee.name.value===j):null;if(Ue===!0)Ue=!1;else if(F&&Z){const ee=F.tabIndicatorRef.value,Y=Z.tabIndicatorRef.value;D!==null&&(clearTimeout(D),D=null),ee.style.transition="none",ee.style.transform="none",Y.style.transition="none",Y.style.transform="none";const K=ee.getBoundingClientRect(),ae=Y.getBoundingClientRect();Y.style.transform=e.vertical===!0?`translate3d(0,${K.top-ae.top}px,0) scale3d(1,${ae.height?K.height/ae.height:1},1)`:`translate3d(${K.left-ae.left}px,0,0) scale3d(${ae.width?K.width/ae.width:1},1,1)`,h(()=>{D=setTimeout(()=>{D=null,Y.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",Y.style.transform="none"},70)})}Z&&O.value===!0&&re(Z.rootRef.value)}function re(q){const{left:j,width:F,top:Z,height:ee}=k.value.getBoundingClientRect(),Y=q.getBoundingClientRect();let K=e.vertical===!0?Y.top-Z:Y.left-j;if(K<0){k.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(K),ue();return}K+=e.vertical===!0?Y.height-ee:Y.width-F,K>0&&(k.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(K),ue())}function ue(){const q=k.value;if(q===null)return;const j=q.getBoundingClientRect(),F=e.vertical===!0?q.scrollTop:Math.abs(q.scrollLeft);xe.value===!0?(z.value=Math.ceil(F+j.width)<q.scrollWidth-1,C.value=F>0):(z.value=F>0,C.value=e.vertical===!0?Math.ceil(F+j.height)<q.scrollHeight:Math.ceil(F+j.width)<q.scrollWidth)}function G(q){M!==null&&clearInterval(M),M=setInterval(()=>{le(q)===!0&&g()},5)}function ye(){G(me.value===!0?Number.MAX_SAFE_INTEGER:0)}function de(){G(me.value===!0?0:Number.MAX_SAFE_INTEGER)}function g(){M!==null&&(clearInterval(M),M=null)}function x(q,j){const F=Array.prototype.filter.call(k.value.children,ae=>ae===j||ae.matches&&ae.matches(".q-tab.q-focusable")===!0),Z=F.length;if(Z===0)return;if(q===36)return re(F[0]),F[0].focus(),!0;if(q===35)return re(F[Z-1]),F[Z-1].focus(),!0;const ee=q===(e.vertical===!0?38:37),Y=q===(e.vertical===!0?40:39),K=ee===!0?-1:Y===!0?1:void 0;if(K!==void 0){const ae=xe.value===!0?-1:1,we=F.indexOf(j)+K*ae;return we>=0&&we<Z&&(re(F[we]),F[we].focus({preventScroll:!0})),!0}}const W=B(()=>me.value===!0?{get:q=>Math.abs(q.scrollLeft),set:(q,j)=>{q.scrollLeft=-j}}:e.vertical===!0?{get:q=>q.scrollTop,set:(q,j)=>{q.scrollTop=j}}:{get:q=>q.scrollLeft,set:(q,j)=>{q.scrollLeft=j}});function le(q){const j=k.value,{get:F,set:Z}=W.value;let ee=!1,Y=F(j);const K=q<Y?-1:1;return Y+=K*5,Y<0?(ee=!0,Y=0):(K===-1&&Y<=q||K===1&&Y>=q)&&(ee=!0,Y=q),Z(j,Y),ue(),ee}function ce(q,j){for(const F in q)if(q[F]!==j[F])return!1;return!0}function Fe(){let q=null,j={matchedLen:0,queryDiff:9999,hrefLen:0};const F=U.filter(K=>{var ae;return((ae=K.routeData)==null?void 0:ae.hasRouterLink.value)===!0}),{hash:Z,query:ee}=c.$route,Y=Object.keys(ee).length;for(const K of F){const ae=K.routeData.exact.value===!0;if(K.routeData[ae===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:we,query:Me,matched:P,href:Se}=K.routeData.resolvedLink.value,at=Object.keys(Me).length;if(ae===!0){if(we!==Z||at!==Y||ce(ee,Me)===!1)continue;q=K.name.value;break}if(we!==""&&we!==Z||at!==0&&ce(Me,ee)===!1)continue;const je={matchedLen:P.length,queryDiff:Y-at,hrefLen:Se.length-we.length};if(je.matchedLen>j.matchedLen){q=K.name.value,j=je;continue}else if(je.matchedLen!==j.matchedLen)continue;if(je.queryDiff<j.queryDiff)q=K.name.value,j=je;else if(je.queryDiff!==j.queryDiff)continue;je.hrefLen>j.hrefLen&&(q=K.name.value,j=je)}if(q===null&&U.some(K=>K.routeData===void 0&&K.name.value===L.value)===!0){Ue=!1;return}ie({name:q,setCurrent:!0})}function Je(q){if(r(),_.value!==!0&&T.value!==null&&q.target&&typeof q.target.closest=="function"){const j=q.target.closest(".q-tab");j&&T.value.contains(j)===!0&&(_.value=!0,O.value===!0&&re(j))}}function Ge(){u(()=>{_.value=!1},30)}function Ve(){Ie.avoidRouteWatcher===!1?s(Fe):d()}function Qe(){if(te===void 0){const q=be(()=>c.$route.fullPath,Ve);te=()=>{q(),te=void 0}}}function Xe(q){U.push(q),V.value++,ge(),q.routeData===void 0||c.$route===void 0?s(()=>{if(O.value===!0){const j=L.value,F=j!=null&&j!==""?U.find(Z=>Z.name.value===j):null;F&&re(F.rootRef.value)}}):(Qe(),q.routeData.hasRouterLink.value===!0&&Ve())}function Ze(q){U.splice(U.indexOf(q),1),V.value--,ge(),te!==void 0&&q.routeData!==void 0&&(U.every(j=>j.routeData===void 0)===!0&&te(),Ve())}const Ie={currentModel:L,tabProps:ne,hasFocus:_,hasActiveTab:he,registerTab:Xe,unregisterTab:Ze,verifyRouteModel:Ve,updateModel:ie,onKbdNavigate:x,avoidRouteWatcher:!1};Mt(Ct,Ie);function He(){D!==null&&clearTimeout(D),g(),te==null||te()}let We,Ue;return Ke(He),Qt(()=>{We=te!==void 0,He()}),It(()=>{We===!0&&(Qe(),Ue=!0,Ve()),ge()}),()=>Q("div",{ref:T,class:qe.value,role:"tablist",onFocusin:Je,onFocusout:Ge},[Q(At,{onResize:$e}),Q("div",{ref:k,class:Ce.value,onScroll:ue},mt(a.default)),Q(Ae,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(z.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||i.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:ye,onTouchstartPassive:ye,onMouseupPassive:g,onMouseleavePassive:g,onTouchendPassive:g}),Q(Ae,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(C.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||i.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:de,onTouchstartPassive:de,onMouseupPassive:g,onMouseleavePassive:g,onTouchendPassive:g})])}}),Vl={key:0,class:"text-grey-7 text-center q-pa-md italic"},jl={key:1},Al={class:"row q-col-gutter-md q-mt-sm"},Ll={class:"q-pa-sm"},Bl={class:"q-pa-sm"},Ul={class:"q-pa-sm"},Nl={class:"q-pa-sm"},zl={key:0},Fl={key:0,class:"text-grey-7 text-center q-pa-md italic"},Ml={key:1,class:"flex flex-col gap-6"},Ql={class:"flex flex-wrap justify-between items-center mb-4"},Il={class:"text-gray-600"},Hl={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4"},Wl={class:"text-gray-500"},Kl={key:0,class:"text-grey-7 text-center q-pa-md italic"},Yl={key:1,class:"flex flex-col gap-6"},Jl={class:"flex flex-wrap justify-between items-center mb-4"},Gl={class:"text-gray-600"},Xl={class:"text-gray-700"},Zl={class:"text-subtitle2 text-weight-medium q-mb-xs"},ea={__name:"Document",props:["data","office","documentTypes","canDeleteDocument","canApproveDocumentEdit","canRequestDocumentEdit","canRequestDocumentDelete","canApproveDocumentDelete"],setup(e){const a=e,o=De(),c=H(""),i=H(!1),m=B(()=>{var V;return(V=a.data)!=null&&V.documents?a.data.documents.filter(_=>{var M,te,ne;const D=c.value.toLowerCase();return((M=_.name)==null?void 0:M.toLowerCase().includes(D))||((ne=(te=_.type)==null?void 0:te.name)==null?void 0:ne.toLowerCase().includes(D))}):[]}),v=B(()=>a.documentTypes.filter(V=>!V.name.toLowerCase().includes("mr sheet"))),h=B(()=>!Object.values(d.files).some(V=>V));function u(V){return new Date(V).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}const r=B(()=>{var V,_;return((_=(V=a.data.document_request)==null?void 0:V.slice(-1)[0])==null?void 0:_.approval_status)==="pending"}),s=B(()=>{var V,_;return((_=(V=a.data.document_delete_request)==null?void 0:V.slice(-1)[0])==null?void 0:_.approval_status)==="pending"}),d=ke({files:{}}),T=ke({document_id:""}),k=()=>{d.post(route("document.request",a.data),{onSuccess:()=>{d.reset("files"),i.value=!1,o.notify({type:"positive",message:"Document Request Submitted",position:"bottom"})},onError:V=>{Object.values(V).forEach(_=>{o.notify({type:"negative",message:_,position:"bottom"})})}})},L=V=>{d.post(route("document.approve",V),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),i.value=!1,d.reset(),o.notify({type:"positive",message:"Document Approved",position:"bottom"})},onError:_=>{Object.values(_).forEach(D=>{o.notify({type:"negative",message:D,position:"bottom"})})}})},O=V=>{d.post(route("document.reject",V),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),i.value=!1,d.reset(),o.notify({type:"negative",message:"Transfer Rejected",position:"bottom"})},onError:_=>{Object.values(_).forEach(D=>{o.notify({type:"negative",message:D,position:"bottom"})})}})},z=V=>{var _;o.dialog({title:"Confirm",message:`Are you sure you want to delete "${(_=V.type)==null?void 0:_.name}"?`,cancel:!0,persistent:!0}).onOk(()=>{d.delete(route("document.destroy",V),{preserveScroll:!0,onSuccess:()=>{o.notify({type:"positive",message:"Document deleted successfully."})},onError:D=>{Object.values(D).forEach(M=>{o.notify({type:"negative",message:M,position:"bottom"})})}})})},C=V=>{var _,D;if(((_=V.type)==null?void 0:_.name)==="MR Sheet/A-Roll"){o.notify({type:"negative",message:"Delete request is not allowed for MR Sheet/A-Roll."});return}o.dialog({title:"Confirm Delete Request",message:`Do you want to request deletion of "${(D=V.type)==null?void 0:D.name}"?`,cancel:!0,persistent:!0}).onOk(()=>{T.document_id=V.id,T.post(route("document.requestDelete",a.data),{onStart:()=>o.loading.show(),onFinish:()=>o.loading.hide(),onSuccess:()=>{o.notify({type:"positive",message:"Delete request submitted successfully."}),T.reset()},onError:M=>{Object.values(M).forEach(te=>{o.notify({type:"negative",message:te})})}})})},b=V=>{T.post(route("document.approveDelete",V),{onStart:()=>o.loading.show(),onFinish:()=>o.loading.hide(),onSuccess:()=>{o.notify({type:"positive",message:"Delete request approved and document deleted."})},onError:_=>{Object.values(_).forEach(D=>{o.notify({type:"negative",message:D})})}})},U=V=>{T.post(route("document.rejectDelete",V),{onStart:()=>o.loading.show(),onFinish:()=>o.loading.hide(),onSuccess:()=>{o.notify({type:"info",message:"Delete request rejected."})}})};return(V,_)=>(f(),E(X,null,[t(J,{class:"q-mt-md"},{default:l(()=>[t(N,{class:"flex items-center justify-between"},{default:l(()=>[_[3]||(_[3]=n("div",{class:"stitle text-lg font-bold"},"Uploaded Documents",-1)),e.canRequestDocumentEdit?(f(),R(S,{key:0,label:"Request Document Update",color:"primary",disable:r.value,onClick:_[0]||(_[0]=D=>i.value=!0)},null,8,["disable"])):A("",!0)]),_:1,__:[3]}),t(N,null,{default:l(()=>[m.value.length===0?(f(),E("div",Vl," No documents uploaded ")):A("",!0),m.value.length>0?(f(),E("div",jl,[n("div",Al,[t(se,{modelValue:c.value,"onUpdate:modelValue":_[1]||(_[1]=D=>c.value=D),dense:"",outlined:"",label:"Search by document type...",class:"col-12 col-sm-6"},null,8,["modelValue"])]),t(xl,{flat:"",dense:"",class:"q-ma-sm"},{default:l(()=>[_[5]||(_[5]=n("thead",null,[n("tr",{class:"text-left"},[n("th",null,"Type"),n("th",null,"Mime Type"),n("th",null,"Upload Date"),n("th",null,"Actions")])],-1)),n("tbody",null,[(f(!0),E(X,null,oe(m.value,D=>{var M;return f(),E("tr",{key:D.id,class:"text-left"},[n("td",Ll,w(((M=D.type)==null?void 0:M.name)||"—"),1),n("td",Bl,w(D.mime),1),n("td",Ul,w(u(D.upload_date)),1),n("td",Nl,[t(S,{icon:"visibility",flat:"",dense:"",color:"primary",round:"",href:`/storage/${D.path}`,target:"_blank",title:"View Document"},null,8,["href"]),t(S,{icon:"download",flat:"",dense:"",round:"",color:"primary",href:`/storage/${D.path}`,download:"",title:"Download Document"},null,8,["href"]),e.canDeleteDocument?(f(),R(S,{key:0,icon:"delete",flat:"",dense:"",round:"",color:"red",onClick:te=>z(D),download:"",title:"Download Document"},null,8,["onClick"])):A("",!0),e.canRequestDocumentDelete?(f(),R(S,{key:1,icon:"delete_outline",disable:s.value,flat:"",dense:"",round:"",color:"negative",title:"Request Delete",onClick:te=>C(D)},null,8,["disable","onClick"])):A("",!0)])])}),128)),m.value.length===0?(f(),E("tr",zl,_[4]||(_[4]=[n("td",{colspan:"5",class:"text-center text-grey"},"No documents found",-1)]))):A("",!0)])]),_:1,__:[5]})])):A("",!0)]),_:1}),t(Ee),t(N,null,{default:l(()=>[_[9]||(_[9]=n("div",{class:"stitle text-lg font-bold q-mb-md"},"Document Update Request",-1)),e.data.document_request.length===0?(f(),E("div",Fl," No Document update request found. ")):(f(),E("div",Ml,[(f(!0),E(X,null,oe(e.data.document_request,D=>(f(),R(J,{key:D.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:l(()=>[t(N,null,{default:l(()=>[n("div",Ql,[n("div",null,[_[6]||(_[6]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:ve(["ml-1 font-medium capitalize",{"text-yellow-600":D.approval_status==="pending","text-green-600":D.approval_status==="approved","text-red-600":D.approval_status==="rejected"}])},w(D.approval_status),3)]),n("div",Il,[_[7]||(_[7]=n("b",null,"Requested On:",-1)),p(" "+w(u(D.request_date)),1)])]),n("div",null,[_[8]||(_[8]=n("b",{class:"block mb-3 text-gray-700"},"Documents",-1)),n("div",Hl,[(f(!0),E(X,null,oe(D.files,M=>(f(),E("div",{key:M.id,class:"mb-2"},[n("div",Wl,[p(w(M.document_type.name)+": ",1),t(S,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${M.path}`,target:"_blank"},null,8,["href"]),t(S,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${M.path}`,target:"_blank",download:""},null,8,["href"])])]))),128))])])]),_:2},1024),D.approval_status==="pending"&&e.canApproveDocumentEdit?(f(),R(pe,{key:0,align:"right",class:"px-4 pb-4"},{default:l(()=>[t(S,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:M=>L(D.id)},null,8,["onClick"]),t(S,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:M=>O(D.id)},null,8,["onClick"])]),_:2},1024)):A("",!0)]),_:2},1024))),128))]))]),_:1,__:[9]}),t(N,null,{default:l(()=>[_[13]||(_[13]=n("div",{class:"stitle text-lg font-bold q-mb-md"},"Document Delete Request",-1)),e.data.document_delete_request.length===0?(f(),E("div",Kl," No delete requests found. ")):(f(),E("div",Yl,[(f(!0),E(X,null,oe(e.data.document_delete_request,D=>(f(),R(J,{key:D.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:l(()=>[t(N,null,{default:l(()=>[n("div",Jl,[n("div",null,[_[10]||(_[10]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:ve(["ml-1 font-medium capitalize",{"text-yellow-600":D.approval_status==="pending","text-green-600":D.approval_status==="approved","text-red-600":D.approval_status==="rejected"}])},w(D.approval_status),3)]),n("div",Gl,[_[11]||(_[11]=n("b",null,"Requested On:",-1)),p(" "+w(u(D.request_date)),1)])]),n("div",Xl,[_[12]||(_[12]=n("b",null,"Document:",-1)),p(" "+w(D.document_type_name||"N/A"),1)])]),_:2},1024),D.approval_status==="pending"&&e.canApproveDocumentDelete?(f(),R(pe,{key:0,align:"right",class:"px-4 pb-4"},{default:l(()=>[t(S,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:M=>b(D.id)},null,8,["onClick"]),t(S,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:M=>U(D.id)},null,8,["onClick"])]),_:2},1024)):A("",!0)]),_:2},1024))),128))]))]),_:1,__:[13]})]),_:1}),t(Pe,{modelValue:i.value,"onUpdate:modelValue":_[2]||(_[2]=D=>i.value=D),persistent:""},{default:l(()=>[t(J,{class:"q-pa-md",style:{width:"90vw","max-width":"600px"}},{default:l(()=>[t(N,null,{default:l(()=>_[14]||(_[14]=[n("div",{class:"text-h6 text-weight-bold text-primary"}," Request Document Update ",-1)])),_:1,__:[14]}),t(N,null,{default:l(()=>[(f(!0),E(X,null,oe(v.value,D=>(f(),E("div",{key:D.id,class:"column"},[n("div",Zl,w(D.name),1),t(ze,{modelValue:y(d).files[D.id],"onUpdate:modelValue":M=>y(d).files[D.id]=M,filled:"",dense:"",label:"Choose file",accept:".pdf,.jpg,.jpeg,.png"},null,8,["modelValue","onUpdate:modelValue"])]))),128))]),_:1}),t(pe,{align:"right",class:"q-pt-none"},{default:l(()=>[Re(t(S,{flat:"",label:"Cancel",color:"grey"},null,512),[[Oe]]),t(S,{label:"Submit Request",color:"primary",loading:y(d).processing,disable:h.value,onClick:k},null,8,["loading","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},ta={key:0,class:"text-grey-7 text-center q-pa-md italic"},la={key:1,class:"flex flex-col gap-6"},aa={class:"flex flex-wrap justify-between items-center mb-4"},na={class:"text-gray-600"},oa={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4"},sa={class:"text-gray-500"},ia={class:"text-gray-800 font-bold"},ra={class:"text-gray-500"},ua={class:"text-gray-800 font-bold"},da={class:"text-gray-500"},ca={__name:"TransferRequest",props:["data","office"],setup(e){const{formatDate:a}=Be(),o=De(),c=H(!1),i=ke({}),m=h=>{i.post(route("transfer.approve",h),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),c.value=!1,i.reset(),o.notify({type:"success",message:"Transfer Approved",position:"bottom"})},onError:u=>{Object.values(u).forEach(r=>{o.notify({type:"negative",message:r,position:"bottom"})})}})},v=h=>{i.post(route("transfer.reject",h),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),c.value=!1,i.reset(),o.notify({type:"negative",message:"Transfer Rejected",position:"bottom"})},onError:u=>{Object.values(u).forEach(r=>{o.notify({type:"negative",message:r,position:"bottom"})})}})};return(h,u)=>(f(),R(J,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:l(()=>[t(N,{class:"flex items-center justify-between"},{default:l(()=>u[0]||(u[0]=[n("div",{class:"stitle text-lg font-bold"},"Transfer Request",-1)])),_:1,__:[0]}),t(Ee),t(N,null,{default:l(()=>[e.data.transfer_requests.length===0?(f(),E("div",ta," No transfer requests found. ")):(f(),E("div",la,[(f(!0),E(X,null,oe(e.data.transfer_requests,r=>(f(),R(J,{key:r.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:l(()=>[t(N,null,{default:l(()=>{var s,d;return[n("div",aa,[n("div",null,[u[1]||(u[1]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:ve(["ml-1 font-medium capitalize",{"text-yellow-600":r.approval_status==="pending","text-green-600":r.approval_status==="approved","text-red-600":r.approval_status==="rejected"}])},w(r.approval_status),3)]),n("div",na,[u[2]||(u[2]=n("b",null,"Requested On:",-1)),p(" "+w(y(a)(r.request_date)),1)])]),n("div",null,[u[6]||(u[6]=n("b",{class:"block mb-3 text-gray-700"},"Transfer Details",-1)),n("div",oa,[n("div",null,[n("div",sa,[u[3]||(u[3]=p(" Current Office: ")),n("span",ia,w(((s=r.current_office)==null?void 0:s.name)||"—"),1)])]),n("div",null,[n("div",ra,[u[4]||(u[4]=p(" Requested Office: ")),n("span",ua,w(((d=r.requested_office)==null?void 0:d.name)||"—"),1)])]),n("div",null,[n("div",da,[u[5]||(u[5]=p(" Transfer Order: ")),t(S,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${r.supporting_document}`,target:"_blank"},null,8,["href"]),t(S,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${r.supporting_document}`,target:"_blank",download:""},null,8,["href"])])])])])]}),_:2},1024),r.approval_status==="pending"?(f(),R(pe,{key:0,align:"right",class:"px-4 pb-4"},{default:l(()=>[t(S,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:s=>m(r.id)},null,8,["onClick"]),t(S,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:s=>v(r.id)},null,8,["onClick"])]),_:2},1024)):A("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}))}},fa=Tt(ca,[["__scopeId","data-v-89ce476a"]]),dt=Ye({name:"QTooltip",inheritAttrs:!1,props:{...gl,...Kt,...ot,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...ot.transitionShow,default:"jump-down"},transitionHide:{...ot.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:_t},self:{type:String,default:"top middle",validator:_t},offset:{type:Array,default:()=>[14,14],validator:ml},scrollTarget:Wt,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Ht],setup(e,{slots:a,emit:o,attrs:c}){let i,m;const v=lt(),{proxy:{$q:h}}=v,u=H(null),r=H(!1),s=B(()=>xt(e.anchor,h.lang.rtl)),d=B(()=>xt(e.self,h.lang.rtl)),T=B(()=>e.persistent!==!0),{registerTick:k,removeTick:L}=et(),{registerTimeout:O}=rt(),{transitionProps:z,transitionStyle:C}=Yt(e),{localScrollTarget:b,changeScrollEvent:U,unconfigureScrollTarget:V}=vl(e,Te),{anchorEl:_,canShow:D,anchorEvents:M}=pl({showing:r,configureAnchorEl:$e}),{show:te,hide:ne}=Jt({showing:r,canShow:D,handleShow:Ce,handleHide:fe,hideOnRouteChange:T,processOnMount:!0});Object.assign(M,{delayShow:ie,delayHide:ge});const{showPortal:he,hidePortal:_e,renderPortal:qe}=Gt(v,u,ue,"tooltip");if(h.platform.is.mobile===!0){const G={anchorEl:_,innerRef:u,onClickOutside(de){return ne(de),de.target.classList.contains("q-dialog__backdrop")&&ft(de),!0}},ye=B(()=>e.modelValue===null&&e.persistent!==!0&&r.value===!0);be(ye,de=>{(de===!0?yl:wt)(G)}),Ke(()=>{wt(G)})}function Ce(G){he(),k(()=>{m=new MutationObserver(()=>me()),m.observe(u.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),me(),Te()}),i===void 0&&(i=be(()=>h.screen.width+"|"+h.screen.height+"|"+e.self+"|"+e.anchor+"|"+h.lang.rtl,me)),O(()=>{he(!0),o("show",G)},e.transitionDuration)}function fe(G){L(),_e(),xe(),O(()=>{_e(!0),o("hide",G)},e.transitionDuration)}function xe(){m!==void 0&&(m.disconnect(),m=void 0),i!==void 0&&(i(),i=void 0),V(),yt(M,"tooltipTemp")}function me(){bl({targetEl:u.value,offset:e.offset,anchorEl:_.value,anchorOrigin:s.value,selfOrigin:d.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ie(G){if(h.platform.is.mobile===!0){kt(),document.body.classList.add("non-selectable");const ye=_.value,de=["touchmove","touchcancel","touchend","click"].map(g=>[ye,g,"delayHide","passiveCapture"]);bt(M,"tooltipTemp",de)}O(()=>{te(G)},e.delay)}function ge(G){h.platform.is.mobile===!0&&(yt(M,"tooltipTemp"),kt(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),O(()=>{ne(G)},e.hideDelay)}function $e(){if(e.noParentEvent===!0||_.value===null)return;const G=h.platform.is.mobile===!0?[[_.value,"touchstart","delayShow","passive"]]:[[_.value,"mouseenter","delayShow","passive"],[_.value,"mouseleave","delayHide","passive"]];bt(M,"anchor",G)}function Te(){if(_.value!==null||e.scrollTarget!==void 0){b.value=Xt(_.value,e.scrollTarget);const G=e.noParentEvent===!0?me:ne;U(b.value,G)}}function re(){return r.value===!0?Q("div",{...c,ref:u,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",c.class],style:[c.style,C.value],role:"tooltip"},mt(a.default)):null}function ue(){return Q(Zt,z.value,re)}return Ke(xe),Object.assign(v.proxy,{updatePosition:me}),qe}}),ma={key:0,class:"text-grey-7 text-center q-pa-md italic"},ga={key:1,class:"flex flex-col gap-6"},va={class:"flex flex-wrap justify-between items-center mb-4"},pa={class:""},ya={class:"text-gray-600"},ba={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg"},ha={class:"flex flex-col"},_a={class:"font-bold"},xa={class:"text-gray-800"},wa={class:"font-bold"},ka={class:"font-bold"},qa={key:0,class:"mt-6"},Ca={class:"space-y-2"},Da={class:"flex items-center space-x-2 text-gray-700"},$a={class:"flex space-x-1"},Ta={__name:"EditRequest",props:["data"],setup(e){const{formatDate:a}=Be(),o=h=>{ut.post(route("edit.approve",h))},c=h=>{ut.post(route("edit.reject",h))},i=h=>{try{return JSON.parse(h)}catch{return{}}},m={name:"Name",date_of_birth:"Date of Birth",parent_name:"Parent's Name",employment_type:"Employment Type",designation:"Designation",educational_qln:"Educational Qualification",technical_qln:"Technical Qualification",name_of_workplace:"Workplace Name",post_per_qualification:"Post per Qualification",date_of_engagement:"Date of Engagement",skill_category:"Skill Category",skill_at_present:"Skill at Present"},v=h=>{try{return h?JSON.parse(h):{}}catch{return{}}};return(h,u)=>(f(),R(J,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:l(()=>[t(N,null,{default:l(()=>u[0]||(u[0]=[n("div",{class:"stitle text-lg font-bold"},"Edit Requests",-1)])),_:1,__:[0]}),t(Ee),t(N,null,{default:l(()=>[e.data.edit_requests.length===0?(f(),E("div",ma," No edit requests found. ")):(f(),E("div",ga,[(f(!0),E(X,null,oe(e.data.edit_requests,r=>(f(),R(J,{key:r.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:l(()=>[t(N,null,{default:l(()=>[n("div",va,[n("div",pa,[u[1]||(u[1]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:ve(["ml-1 font-medium capitalize",{"text-yellow-600":r.approval_status==="pending","text-green-600":r.approval_status==="approved","text-red-600":r.approval_status==="rejected"}])},w(r.approval_status),3)]),n("div",ya,[u[2]||(u[2]=n("b",null,"Requested On:",-1)),p(" "+w(y(a)(r.request_date)),1)])]),n("div",null,[u[5]||(u[5]=n("b",{class:"block mb-3 text-gray-700"},"Requested Changes",-1)),n("div",ba,[(f(!0),E(X,null,oe(i(r.requested_changes),(s,d)=>(f(),E("div",{key:d},[n("div",ha,[n("span",_a,w(m[d]??d)+": ",1),n("span",xa,[u[3]||(u[3]=p(" From: ")),n("span",wa,w(d==="date_of_birth"?y(a)(v(r.previous_data)[d]):v(r.previous_data)[d]||"—"),1),u[4]||(u[4]=p(" To: ")),n("span",ka,w(d==="date_of_birth"||d==="date_of_engagement"?y(a)(s):s),1)])])]))),128))])]),r.attachments&&r.attachments.length>0?(f(),E("div",qa,[u[8]||(u[8]=n("b",{class:"block mb-3 text-gray-700"},"Attached Documents",-1)),n("div",Ca,[(f(!0),E(X,null,oe(r.attachments,s=>{var d;return f(),E("div",{key:s.id,class:"flex items-center justify-between p-3 border rounded-lg bg-gray-50 hover:bg-gray-100 transition"},[n("div",Da,[t(Ae,{name:"attach_file",size:"16px",class:"text-gray-500"}),n("span",null,[n("b",null,w(((d=s.type)==null?void 0:d.name)||"Unknown Type"),1)])]),n("div",$a,[t(S,{flat:"",dense:"",round:"",color:"primary",icon:"visibility",href:`/storage/${s.path}`,target:"_blank"},{default:l(()=>[t(dt,null,{default:l(()=>u[6]||(u[6]=[p("View")])),_:1,__:[6]})]),_:2},1032,["href"]),t(S,{flat:"",dense:"",round:"",color:"primary",icon:"download",href:`/storage/${s.path}`,download:""},{default:l(()=>[t(dt,null,{default:l(()=>u[7]||(u[7]=[p("Download")])),_:1,__:[7]})]),_:2},1032,["href"])])])}),128))])])):A("",!0)]),_:2},1024),r.approval_status==="pending"?(f(),R(pe,{key:0,align:"right",class:"px-4 pb-4"},{default:l(()=>[t(S,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:s=>o(r.id)},null,8,["onClick"]),t(S,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:s=>c(r.id)},null,8,["onClick"])]),_:2},1024)):A("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}))}},Sa={key:0,class:"text-grey-7 text-center q-pa-md italic"},Ra={key:1,class:"flex flex-col gap-6"},Ea={class:"flex flex-wrap justify-between items-center mb-4"},Oa={class:"text-gray-600"},Pa={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg"},Va={class:"text-gray-500"},ja={class:"text-gray-800 font-bold"},Aa={class:"text-gray-500"},La={class:"text-gray-800 font-bold"},Ba={class:"text-gray-500"},Ua={class:"text-gray-800 font-bold"},Na={class:"text-gray-500"},za={class:"text-gray-800 font-bold"},Fa={key:0},Ma={class:"text-gray-500"},Qa={__name:"DeletionRequest",props:["data"],setup(e){const{formatDate:a}=Be(),o=De(),c=tt(),i=ke({});function m(u){try{return JSON.parse(u.reason)}catch{return{}}}const v=u=>{i.post(route("deletion.approve",u),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),i.reset(),c.props.flash.success==="Employee moved to Trash."?o.notify({type:"negative",message:"Employee Moved to trash."}):o.notify({type:"positive",message:"Employee Deleted successfully."})},onError:r=>{Object.values(r).forEach(s=>{o.notify({type:"negative",message:s,position:"bottom"})})}})},h=u=>{i.post(route("deletion.reject",u),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),i.reset(),o.notify({type:"negative",message:"Deletion Rejected",position:"bottom"})},onError:r=>{Object.values(r).forEach(s=>{o.notify({type:"negative",message:s,position:"bottom"})})}})};return(u,r)=>(f(),R(J,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:l(()=>[t(N,null,{default:l(()=>r[0]||(r[0]=[n("div",{class:"stitle text-lg font-bold"},"Deletion Requests",-1)])),_:1,__:[0]}),t(Ee),t(N,null,{default:l(()=>[e.data.deletion_requests.length===0?(f(),E("div",Sa," No deletion requests found. ")):(f(),E("div",Ra,[(f(!0),E(X,null,oe(e.data.deletion_requests,s=>(f(),R(J,{key:s.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:l(()=>[t(N,null,{default:l(()=>[n("div",Ea,[n("div",null,[r[1]||(r[1]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:ve(["ml-1 font-medium capitalize",{"text-yellow-600":s.approval_status==="pending","text-green-600":s.approval_status==="approved","text-red-600":s.approval_status==="rejected"}])},w(s.approval_status),3)]),n("div",Oa,[r[2]||(r[2]=n("b",null,"Requested On:",-1)),p(" "+w(y(a)(s.request_date)),1)])]),n("div",null,[r[8]||(r[8]=n("b",{class:"block mb-3 text-gray-700"},"Reason Details",-1)),n("div",Pa,[n("div",null,[n("div",Va,[r[3]||(r[3]=p(" Reason: ")),n("span",ja,w(m(s).reason),1)])]),n("div",null,[n("div",Aa,[r[4]||(r[4]=p(" Year: ")),n("span",La,w(m(s).year),1)])]),n("div",null,[n("div",Ba,[r[5]||(r[5]=p(" Remark: ")),n("span",Ua,w(m(s).remark),1)])]),n("div",null,[n("div",Na,[r[6]||(r[6]=p(" Seniority List: ")),n("span",za,w(m(s).seniority_list),1)])]),m(s).supporting_document?(f(),E("div",Fa,[n("div",Ma,[r[7]||(r[7]=p(" Supporting Document: ")),t(S,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${m(s).supporting_document}`,target:"_blank"},null,8,["href"]),t(S,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${m(s).supporting_document}`,target:"_blank",download:""},null,8,["href"])])])):A("",!0)])])]),_:2},1024),s.approval_status==="pending"?(f(),R(pe,{key:0,align:"right",class:"px-4 pb-4"},{default:l(()=>[t(S,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:d=>v(s.id)},null,8,["onClick"]),t(S,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:d=>h(s.id)},null,8,["onClick"])]),_:2},1024)):A("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}))}},Ia={key:0,class:"text-grey-7 text-center q-pa-md italic"},Ha={key:1,class:"flex flex-col gap-6"},Wa={class:"flex flex-wrap justify-between items-center mb-4"},Ka={class:"text-gray-600"},Ya={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg"},Ja={class:"text-gray-500"},Ga={class:"text-gray-800 font-bold"},Xa={class:"text-gray-500"},Za={class:"text-gray-800 font-bold"},en={class:"text-gray-500"},tn={class:"text-gray-800 font-bold"},ln={class:"text-gray-500"},an={class:"text-gray-800 font-bold"},nn={key:0},on={class:"text-gray-500"},sn={__name:"RequestDeletion",props:["data"],setup(e){const{formatDate:a}=Be(),o=e,c=De(),i=ke({reason:"",seniority_list:"",year:new Date().getFullYear(),remark:"",supporting_document:null}),m=B(()=>{var r,s;return((s=(r=o.data.deletion_requests)==null?void 0:r.slice(-1)[0])==null?void 0:s.approval_status)==="pending"}),v=H(!1);function h(r){try{return JSON.parse(r.reason)}catch{return{}}}function u(){if(!i.reason){c.notify({type:"negative",message:"Reason is required",position:"bottom"});return}if(!i.supporting_document){c.notify({type:"negative",message:"Supporting Document is required",position:"bottom"});return}i.post(route("deletion.request",o.data),{preserveScroll:!0,onSuccess:()=>{c.notify({type:"positive",message:"Deletion request submitted successfully"}),v.value=!1,i.reset()},onError:r=>{Object.values(r).forEach(s=>{c.notify({type:"negative",message:s,position:"bottom"})})}})}return(r,s)=>(f(),E(X,null,[t(J,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:l(()=>[t(N,{class:"flex items-center justify-between"},{default:l(()=>[s[8]||(s[8]=n("div",{class:"stitle text-lg font-bold"},"Request Deletion",-1)),n("div",null,[e.data.employment_type!=="Deleted"?(f(),R(S,{key:0,label:"Request Deletion",color:"negative",disable:m.value,onClick:s[0]||(s[0]=d=>v.value=!0)},null,8,["disable"])):A("",!0)])]),_:1,__:[8]}),t(Ee),t(N,null,{default:l(()=>[e.data.deletion_requests.length===0?(f(),E("div",Ia," No deletion requests found. ")):(f(),E("div",Ha,[(f(!0),E(X,null,oe(e.data.deletion_requests,d=>(f(),R(J,{key:d.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:l(()=>[t(N,null,{default:l(()=>[n("div",Wa,[n("div",null,[s[9]||(s[9]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:ve(["ml-1 font-medium capitalize",{"text-yellow-600":d.approval_status==="pending","text-green-600":d.approval_status==="approved","text-red-600":d.approval_status==="rejected"}])},w(d.approval_status),3)]),n("div",Ka,[s[10]||(s[10]=n("b",null,"Requested On:",-1)),p(" "+w(y(a)(d.request_date)),1)])]),n("div",null,[s[16]||(s[16]=n("b",{class:"block mb-3 text-gray-700"},"Reason Details",-1)),n("div",Ya,[n("div",null,[n("div",Ja,[s[11]||(s[11]=p(" Reason: ")),n("span",Ga,w(h(d).reason),1)])]),n("div",null,[n("div",Xa,[s[12]||(s[12]=p(" Year: ")),n("span",Za,w(h(d).year),1)])]),n("div",null,[n("div",en,[s[13]||(s[13]=p(" Remark: ")),n("span",tn,w(h(d).remark),1)])]),n("div",null,[n("div",ln,[s[14]||(s[14]=p(" Seniority List: ")),n("span",an,w(h(d).seniority_list),1)])]),h(d).supporting_document?(f(),E("div",nn,[n("div",on,[s[15]||(s[15]=p(" Supporting Document: ")),t(S,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${h(d).supporting_document}`,target:"_blank"},null,8,["href"]),t(S,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${h(d).supporting_document}`,target:"_blank",download:""},null,8,["href"])])])):A("",!0)])])]),_:2},1024)]),_:2},1024))),128))]))]),_:1})]),_:1}),t(Pe,{modelValue:v.value,"onUpdate:modelValue":s[7]||(s[7]=d=>v.value=d)},{default:l(()=>[t(J,{style:{"min-width":"400px"}},{default:l(()=>[t(N,null,{default:l(()=>s[17]||(s[17]=[n("div",{class:"text-h6"},"Submit Deletion Request",-1)])),_:1,__:[17]}),t(N,null,{default:l(()=>[t(Le,{modelValue:y(i).reason,"onUpdate:modelValue":s[1]||(s[1]=d=>y(i).reason=d),label:"Reason",outlined:"",options:["Expired","Resigned","Dismissed","Regularised","Others (Specify the reasons to Remarks)","Overage (Retired)"],error:!!y(i).errors.reason,"error-message":y(i).errors.reason,rules:[d=>!!d||"Reason is required"]},null,8,["modelValue","error","error-message","rules"]),t(se,{modelValue:y(i).seniority_list,"onUpdate:modelValue":s[2]||(s[2]=d=>y(i).seniority_list=d),label:"Seniority List",outlined:"",class:"q-mt-sm"},null,8,["modelValue"]),t(se,{modelValue:y(i).year,"onUpdate:modelValue":s[3]||(s[3]=d=>y(i).year=d),label:"Year",type:"number",outlined:"",class:"q-mt-sm"},null,8,["modelValue"]),t(se,{modelValue:y(i).remark,"onUpdate:modelValue":s[4]||(s[4]=d=>y(i).remark=d),label:"Remark",type:"textarea",outlined:"",class:"q-mt-sm"},null,8,["modelValue"]),t(ze,{modelValue:y(i).supporting_document,"onUpdate:modelValue":s[5]||(s[5]=d=>y(i).supporting_document=d),label:"Supporting Document",outlined:"",class:"q-mt-sm",accept:".pdf,.jpg,.jpeg,.png",error:!!y(i).errors.supporting_document,"error-message":y(i).errors.supporting_document},null,8,["modelValue","error","error-message"])]),_:1}),t(pe,{align:"right"},{default:l(()=>[t(S,{flat:"",label:"Cancel",color:"grey",onClick:s[6]||(s[6]=d=>v.value=!1)}),t(S,{label:"Submit",color:"negative",onClick:u,loading:y(i).processing},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},rn={key:0,class:"text-grey-7 text-center q-pa-md italic"},un={key:1,class:"flex flex-col gap-6"},dn={class:"flex flex-wrap justify-between items-center mb-4"},cn={class:""},fn={class:"text-gray-600"},mn={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg"},gn={class:"flex flex-col"},vn={class:"text-gray-500"},pn={class:"text-gray-800"},yn={class:"font-bold"},bn={class:"font-bold"},hn={class:"text-sm text-weight-bold q-mb-xs"},_n={class:"q-mt-sm text-body2"},xn={key:0,class:"absolute top-0 bottom-0 left-1/2 w-px bg-grey-4"},wn={class:"text-sm text-weight-bold q-mb-xs"},kn={key:3,class:"q-mt-md q-pa-sm bg-grey-1 rounded-borders"},qn={class:"text-sm text-weight-bold q-mb-sm"},Cn={__name:"RequestEdit",props:["data","documentTypes"],setup(e){const{formatDate:a,educationalQualifications:o}=Be(),c=e,i=De(),m=H(!1),v=ke({requested_changes:{name:"",date_of_birth:"",parent_name:"",educational_qln:"",technical_qln:""},documents:{}}),h=B(()=>{var L,O;return((O=(L=c.data.edit_requests)==null?void 0:L.slice(-1)[0])==null?void 0:O.approval_status)==="pending"});be(m,L=>{L||(v.reset(),v.clearErrors())});const u={date_of_birth:["Birth Certificate","Aadhar","EPIC","Educational Certificate"],name:["Birth Certificate","Aadhar","EPIC","Educational Certificate"],parent_name:["Birth Certificate"],educational_qln:["Educational Certificate"],technical_qln:["Technical Certificate"]},r={name:"Name",date_of_birth:"Date of Birth",parent_name:"Parent's Name",educational_qln:"Educational Qualification",technical_qln:"Technical Qualification"},s=()=>{v.reset(),v.clearErrors(),v.documents={}},d=B(()=>Object.values(v.requested_changes).some(L=>{var O;return L&&((O=L.trim)==null?void 0:O.call(L))!==""})),T=()=>{if(!d.value){i.notify({type:"warning",message:"Please enter at least one change before submitting."});return}const L=new FormData;Object.entries(v.requested_changes).forEach(([O,z])=>{z&&L.append(`requested_changes[${O}]`,z)}),Object.entries(v.documents).forEach(([O,z])=>{z&&[].concat(z).forEach(C=>{L.append(`documents[${O}][]`,C)})}),v.post(route("edit.request",c.data),{data:L,forceFormData:!0,onSuccess:()=>{m.value=!1,v.reset()},onError:O=>{Object.values(O).forEach(z=>{Array.isArray(z)?z.forEach(C=>{i.notify({type:"negative",message:C})}):i.notify({type:"negative",message:z})})}})},k=L=>{try{return JSON.parse(L)}catch{return{}}};return(L,O)=>(f(),E(X,null,[t(J,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:l(()=>[t(N,{class:"flex items-center justify-between"},{default:l(()=>[O[2]||(O[2]=n("div",{class:"stitle text-lg font-bold"},"Request Edit",-1)),t(S,{label:"Request Edit",color:"primary",disable:h.value,onClick:O[0]||(O[0]=z=>m.value=!0)},null,8,["disable"])]),_:1,__:[2]}),t(Ee),t(N,null,{default:l(()=>[e.data.edit_requests.length===0?(f(),E("div",rn," No edit requests found. ")):(f(),E("div",un,[(f(!0),E(X,null,oe(e.data.edit_requests,z=>(f(),R(J,{key:z.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:l(()=>[t(N,null,{default:l(()=>[n("div",dn,[n("div",cn,[O[3]||(O[3]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:ve(["ml-1 font-medium capitalize",{"text-yellow-600":z.approval_status==="pending","text-green-600":z.approval_status==="approved","text-red-600":z.approval_status==="rejected"}])},w(z.approval_status),3)]),n("div",fn,[O[4]||(O[4]=n("b",null,"Requested On:",-1)),p(" "+w(y(a)(z.request_date)),1)])]),n("div",null,[O[7]||(O[7]=n("b",{class:"block mb-3 text-gray-700"},"Requested Changes",-1)),n("div",mn,[(f(!0),E(X,null,oe(k(z.requested_changes),(C,b)=>(f(),E("div",{key:b},[n("div",gn,[n("span",vn,w(r[b]??b)+": ",1),n("span",pn,[O[5]||(O[5]=p(" From: ")),n("span",yn,w(b==="date_of_birth"?y(a)(k(z.previous_data)[b]):k(z.previous_data)[b]||"—"),1),O[6]||(O[6]=p(" To: ")),n("span",bn,w(b==="date_of_birth"||b==="date_of_engagement"?y(a)(C):C),1)])])]))),128))])])]),_:2},1024)]),_:2},1024))),128))]))]),_:1})]),_:1}),t(Pe,{modelValue:m.value,"onUpdate:modelValue":O[1]||(O[1]=z=>m.value=z),persistent:""},{default:l(()=>[t(J,{class:"q-pa-md",style:{width:"95vw","max-width":"800px","max-height":"90vh","overflow-y":"auto"}},{default:l(()=>[t(N,null,{default:l(()=>O[8]||(O[8]=[n("div",{class:"text-h6 text-weight-bold text-primary"},"Request Edit",-1)])),_:1,__:[8]}),t(N,{class:"q-gutter-md"},{default:l(()=>[(f(),E(X,null,oe(r,(z,C)=>n("div",{key:C,class:"q-mb-lg"},[n("div",{class:ve(["grid gap-4 items-start relative",{"grid-cols-2":y(i).screen.gt.sm,"grid-cols-1":!y(i).screen.gt.sm}])},[n("div",null,[n("div",hn," Existing "+w(z)+": ",1),n("div",_n,w(C==="date_of_birth"?y(a)(c.data[C]):c.data[C]||"—"),1)]),y(i).screen.gt.sm?(f(),E("div",xn)):A("",!0),n("div",null,[n("div",wn," New "+w(z)+": ",1),C==="date_of_birth"?(f(),R(se,{key:0,modelValue:y(v).requested_changes[C],"onUpdate:modelValue":b=>y(v).requested_changes[C]=b,type:"date",outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])):C==="educational_qln"?(f(),R(Le,{key:1,modelValue:y(v).requested_changes[C],"onUpdate:modelValue":b=>y(v).requested_changes[C]=b,options:y(o),label:"Select Qualification",outlined:"",dense:"","emit-value":"","map-options":""},null,8,["modelValue","onUpdate:modelValue","options"])):(f(),R(se,{key:2,modelValue:y(v).requested_changes[C],"onUpdate:modelValue":b=>y(v).requested_changes[C]=b,outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])),y(v).requested_changes[C]?(f(),E("div",kn,[n("div",qn," Required Documents for "+w(z)+": ",1),(f(!0),E(X,null,oe(u[C],b=>(f(),E("div",{key:b,class:"q-mb-sm"},[t(ze,{filled:"",modelValue:y(v).documents[b],"onUpdate:modelValue":U=>y(v).documents[b]=U,label:b,accept:".pdf,.jpg,.jpeg,.png",clearable:"",dense:""},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))])):A("",!0)])],2),t(Ee,{spaced:"",class:"q-my-md"})])),64))]),_:1}),t(pe,{align:"right",class:"q-pt-none"},{default:l(()=>[t(S,{flat:"",label:"Clear",color:"negative",onClick:s}),Re(t(S,{flat:"",label:"Cancel",color:"grey"},null,512),[[Oe]]),t(S,{label:"Submit",color:"primary",loading:y(v).processing,disable:!d.value,onClick:T},null,8,["loading","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Dn={key:0,class:"text-grey-7 text-center q-pa-md italic"},$n={key:1,class:"flex flex-col gap-6"},Tn={class:"flex flex-wrap justify-between items-center mb-4"},Sn={class:"text-gray-600"},Rn={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p- rounded-lg"},En={class:"text-gray-500"},On={class:"text-gray-800 font-bold"},Pn={class:"text-gray-500"},Vn={class:"text-gray-800 font-bold"},jn={class:"text-gray-500"},An={__name:"RequestTransfer",props:["data","office"],setup(e){const{formatDate:a}=Be(),o=e,c=De(),i=H(!1),m=ke({requested_office_id:"",supporting_document:null});be(i,u=>{u||(m.reset(),m.clearErrors())});const v=B(()=>{var u,r;return((r=(u=o.data.transfer_requests)==null?void 0:u.slice(-1)[0])==null?void 0:r.approval_status)==="pending"}),h=()=>{if(!m.requested_office_id){c.notify({type:"negative",message:"Office is required",position:"bottom"});return}if(!m.supporting_document){c.notify({type:"negative",message:"Transfer Order is required",position:"bottom"});return}m.post(route("transfer.request",o.data),{onStart:()=>{c.loading.show()},onSuccess:()=>{c.loading.hide(),i.value=!1,m.reset(),c.notify({type:"positive",message:"Transfer Requested",position:"bottom"})},onFinish:()=>{c.loading.hide(),i.value=!1,m.reset()},onError:u=>{Object.values(u).forEach(r=>{c.notify({type:"negative",message:r,position:"bottom"})})}})};return(u,r)=>(f(),E(X,null,[t(J,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:l(()=>[t(N,{class:"flex items-center justify-between"},{default:l(()=>[r[4]||(r[4]=n("div",{class:"stitle text-lg font-bold"},"Request Transfer",-1)),t(S,{label:"Request Transfer",color:"primary",disable:v.value,onClick:r[0]||(r[0]=s=>i.value=!0)},null,8,["disable"])]),_:1,__:[4]}),t(Ee),t(N,null,{default:l(()=>[e.data.transfer_requests.length===0?(f(),E("div",Dn," No transfer requests found. ")):(f(),E("div",$n,[(f(!0),E(X,null,oe(e.data.transfer_requests,s=>(f(),R(J,{key:s.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:l(()=>[t(N,null,{default:l(()=>{var d,T;return[n("div",Tn,[n("div",null,[r[5]||(r[5]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:ve(["ml-1 font-medium capitalize",{"text-yellow-600":s.approval_status==="pending","text-green-600":s.approval_status==="approved","text-red-600":s.approval_status==="rejected"}])},w(s.approval_status),3)]),n("div",Sn,[r[6]||(r[6]=n("b",null,"Requested On:",-1)),p(" "+w(y(a)(s.request_date)),1)])]),n("div",null,[r[10]||(r[10]=n("b",{class:"block mb-3 text-gray-700"},"Transfer Details:",-1)),n("div",Rn,[n("div",null,[n("div",En,[r[7]||(r[7]=p(" Current Office: ")),n("span",On,w(((d=s.current_office)==null?void 0:d.name)||"—"),1)])]),n("div",null,[n("div",Pn,[r[8]||(r[8]=p(" Requested Office: ")),n("span",Vn,w(((T=s.requested_office)==null?void 0:T.name)||"—"),1)])]),n("div",null,[n("div",jn,[r[9]||(r[9]=p(" Transfer Order: ")),t(S,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${s.supporting_document}`,target:"_blank"},null,8,["href"]),t(S,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${s.supporting_document}`,target:"_blank",download:""},null,8,["href"])])])])])]}),_:2},1024)]),_:2},1024))),128))]))]),_:1})]),_:1}),t(Pe,{modelValue:i.value,"onUpdate:modelValue":r[3]||(r[3]=s=>i.value=s),persistent:""},{default:l(()=>[t(J,{style:{"min-width":"400px"}},{default:l(()=>[t(N,null,{default:l(()=>r[11]||(r[11]=[n("div",{class:"text-h6"},"Select Requested Office",-1)])),_:1,__:[11]}),t(N,null,{default:l(()=>[t(Le,{modelValue:y(m).requested_office_id,"onUpdate:modelValue":r[1]||(r[1]=s=>y(m).requested_office_id=s),options:e.office,"option-value":"id","option-label":"name",label:"Office",dense:"",outlined:"",error:!!y(m).errors.requested_office_id,"error-message":y(m).errors.requested_office_id,rules:[s=>!!s||"Office is required"]},null,8,["modelValue","options","error","error-message","rules"]),t(ze,{modelValue:y(m).supporting_document,"onUpdate:modelValue":r[2]||(r[2]=s=>y(m).supporting_document=s),label:"Transfer Order",outlined:"",class:"q-mt-md",error:!!y(m).errors.supporting_document,"error-message":y(m).errors.supporting_document,rules:[s=>!!s||"Transfer Order is required"],accept:".pdf,.jpg,.jpeg,.png"},null,8,["modelValue","error","error-message","rules"])]),_:1}),t(pe,{align:"right"},{default:l(()=>[Re(t(S,{flat:"",label:"Cancel",color:"negative"},null,512),[[Oe]]),t(S,{flat:"",label:"Submit",color:"primary",onClick:h})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Ln=Tt(An,[["__scopeId","data-v-6b8cea86"]]),Bn={class:"flex items-center justify-between q-pa-md bg-white"},Un={class:"flex q-gutter-sm"},Nn={key:0},zn={class:"flex items-center justify-between"},Fn={key:0},Mn={key:1,class:"text-grey-7 text-center q-pa-md italic"},Qn={key:0},In={key:1},Hn={__name:"Transfer",props:["data","office","canCreateTransfer","canDeleteTransfer"],setup(e){const a=e,o=De(),c=H(!1),i=H(!1),m=ke({old_office_id:null,new_office_id:null,transfer_date:"",is_present_transfer:!1,supporting_document:null}),v=B(()=>{var s;return[...((s=a.data)==null?void 0:s.transfers)||[]].sort((d,T)=>new Date(d.transfer_date)-new Date(T.transfer_date))});function h(s){return new Date(s).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}const u=s=>{if(!m.old_office_id){o.notify({type:"negative",message:"Old Office is required",position:"bottom"});return}if(!m.new_office_id){o.notify({type:"negative",message:"New Office is required",position:"bottom"});return}if(!m.transfer_date){o.notify({type:"negative",message:"Transfer Date is required",position:"bottom"});return}if(!m.supporting_document){o.notify({type:"negative",message:"Transfer Order is required",position:"bottom"});return}m.is_present_transfer=i.value,m.post(route("transfer.store",a.data),{onStart:()=>{o.loading.show({boxClass:"bg-grey-2 text-grey-9",spinnerColor:"primary",message:"Creating Transfer..."}),m.reset()},onFinish:()=>{o.loading.hide(),c.value=!1,m.reset()},onError:d=>{o.loading.hide(),Object.values(d).forEach(T=>{o.notify({type:"negative",message:T,position:"bottom"})})}})},r=s=>{o.dialog({title:"Confirmation",message:"Do you want to delete?",ok:"Yes",cancel:"No"}).onOk(()=>{ut.delete(route("transfer.destroy",s),{onStart:d=>o.loading.show(),onFinish:d=>o.loading.hide(),preserveState:!1})})};return be(i,s=>{s?(m.old_office_id=a.data.office,m.transfer_date=new Date().toISOString().split("T")[0]):(m.old_office_id=null,m.transfer_date="")}),(s,d)=>(f(),E(X,null,[t(J,{class:"q-mt-md"},{default:l(()=>[n("div",Bn,[d[8]||(d[8]=n("div",null,[n("div",{class:"stitle"},"Transfer History")],-1)),n("div",Un,[e.canCreateTransfer?(f(),R(S,{key:0,onClick:d[0]||(d[0]=T=>c.value=!0),color:"btn-primary",icon:"add"})):A("",!0)])]),t(N,null,{default:l(()=>[v.value.length>0?(f(),E("div",Nn,[t(wl,{color:"primary",class:"q-pa-md"},{default:l(()=>[(f(!0),E(X,null,oe(v.value,(T,k)=>(f(),R(kl,{key:T.id,title:h(T.transfer_date),icon:k===v.value.length-1?"flag":"swap_horiz"},{subtitle:l(()=>[n("div",zn,[n("span",null,"Transfer #"+w(k+1),1),e.canDeleteTransfer?(f(),R(S,{key:0,icon:"delete",color:"red",flat:"",dense:"",size:"m",onClick:L=>r(T.id),title:"Delete Transfer"},null,8,["onClick"])):A("",!0)])]),default:l(()=>{var L,O;return[n("div",null,[d[9]||(d[9]=p(" From ")),n("strong",null,w(((L=T.old_office)==null?void 0:L.name)||"Unknown Office"),1),d[10]||(d[10]=p(" to ")),n("strong",null,w(((O=T.new_office)==null?void 0:O.name)||"Unknown Office"),1)]),T.supporting_document?(f(),E("div",Fn,[d[11]||(d[11]=p(" Transfer Order: ")),t(S,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${T.supporting_document}`,target:"_blank"},null,8,["href"]),t(S,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${T.supporting_document}`,target:"_blank",download:""},null,8,["href"])])):A("",!0)]}),_:2},1032,["title","icon"]))),128))]),_:1})])):(f(),E("div",Mn," No transfer history found "))]),_:1})]),_:1}),t(Pe,{modelValue:c.value,"onUpdate:modelValue":d[7]||(d[7]=T=>c.value=T)},{default:l(()=>[t(J,{style:{"min-width":"400px"}},{default:l(()=>[t(N,null,{default:l(()=>d[12]||(d[12]=[n("div",{class:"stitle"},"Add Transfer",-1)])),_:1,__:[12]}),t(N,{class:"q-gutter-md"},{default:l(()=>[t(el,{modelValue:i.value,"onUpdate:modelValue":d[1]||(d[1]=T=>i.value=T),label:"Is Present Transfer?",color:"primary"},null,8,["modelValue"]),i.value?(f(),E("div",Qn,[t(se,{modelValue:e.data.office.name,"onUpdate:modelValue":d[2]||(d[2]=T=>e.data.office.name=T),label:"Old Office",dense:"",outlined:"",readonly:""},null,8,["modelValue"])])):(f(),E("div",In,[t(Le,{modelValue:y(m).old_office_id,"onUpdate:modelValue":d[3]||(d[3]=T=>y(m).old_office_id=T),options:e.office,"option-value":"id","option-label":"name",label:"Old Office",dense:"",clearable:"",outlined:""},null,8,["modelValue","options"])])),t(Le,{modelValue:y(m).new_office_id,"onUpdate:modelValue":d[4]||(d[4]=T=>y(m).new_office_id=T),options:e.office,"option-value":"id","option-label":"name",label:"New Office",dense:"",clearable:"",outlined:""},null,8,["modelValue","options"]),t(se,{modelValue:y(m).transfer_date,"onUpdate:modelValue":d[5]||(d[5]=T=>y(m).transfer_date=T),type:"date",label:"Transfer Date",dense:"",clearable:"",outlined:""},null,8,["modelValue"]),t(ze,{modelValue:y(m).supporting_document,"onUpdate:modelValue":d[6]||(d[6]=T=>y(m).supporting_document=T),label:"Transfer Order",outlined:"",clearable:"",error:!!y(m).errors.supporting_document,"error-message":y(m).errors.supporting_document,accept:".pdf,.jpg,.jpeg,.png"},null,8,["modelValue","error","error-message"])]),_:1}),t(pe,{align:"right"},{default:l(()=>[Re(t(S,{flat:"",label:"Cancel"},null,512),[[Oe]]),t(S,{flat:"",label:"Submit",color:"primary",onClick:u})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Wn=Ye({name:"QSpace",setup(){const e=Q("div",{class:"q-space"});return()=>e}}),Kn={__name:"DeletionDialog",props:{modelValue:Boolean,employee:Object},emits:["update:modelValue"],setup(e,{emit:a}){const o=De(),c=tt(),i=e,m=a,v=H(i.modelValue);be(()=>i.modelValue,r=>v.value=r),be(v,r=>m("update:modelValue",r));const h=ke({seniority_list:"",reason:"",year:new Date().getFullYear(),remark:"",supporting_document:null});function u(){h.post(route("deletion.store",i.employee),{preserveScroll:!0,onSuccess:()=>{v.value=!1,h.reset(),c.props.flash.success==="Employee moved to Trash."?o.notify({type:"negative",message:"Employee Moved to trash."}):o.notify({type:"positive",message:"Employee Deleted successfully."})}})}return(r,s)=>(f(),R(Pe,{modelValue:v.value,"onUpdate:modelValue":s[5]||(s[5]=d=>v.value=d)},{default:l(()=>[t(J,{style:{"min-width":"400px"}},{default:l(()=>[t(N,{class:"row items-center q-pa-sm bg-negative text-white"},{default:l(()=>[s[6]||(s[6]=n("div",{class:"text-h6"},"Employee Deletion Details",-1)),t(Wn),Re(t(S,{icon:"close",flat:"",round:"",dense:""},null,512),[[Oe]])]),_:1,__:[6]}),t(St,{onSubmit:$t(u,["prevent"])},{default:l(()=>[t(N,{class:"q-gutter-md"},{default:l(()=>[t(Le,{modelValue:y(h).reason,"onUpdate:modelValue":s[0]||(s[0]=d=>y(h).reason=d),label:"Reason",outlined:"",dense:"",required:"",options:["Expired","Resigned","Dismissed","Regularised","Others (Specify the reasons to Remarks)","Overage (Retired)"],error:!!y(h).errors.reason,"error-message":y(h).errors.reason,rules:[d=>!!d||"Reason is required"]},null,8,["modelValue","error","error-message","rules"]),t(se,{modelValue:y(h).seniority_list,"onUpdate:modelValue":s[1]||(s[1]=d=>y(h).seniority_list=d),label:"Seniority List",dense:"",outlined:"",type:"number"},null,8,["modelValue"]),t(se,{modelValue:y(h).year,"onUpdate:modelValue":s[2]||(s[2]=d=>y(h).year=d),label:"Year",dense:"",outlined:"",type:"number"},null,8,["modelValue"]),t(se,{modelValue:y(h).remark,"onUpdate:modelValue":s[3]||(s[3]=d=>y(h).remark=d),label:"Remark",type:"textarea",dense:"",outlined:""},null,8,["modelValue"]),t(ze,{modelValue:y(h).supporting_document,"onUpdate:modelValue":s[4]||(s[4]=d=>y(h).supporting_document=d),label:"Supporting Document",dense:"",outlined:"",required:"",error:!!y(h).errors.supporting_document,"error-message":y(h).errors.supporting_document,rules:[d=>!!d||"Supporting Document is required"]},null,8,["modelValue","error","error-message","rules"])]),_:1}),t(pe,{align:"right",class:"q-pa-sm"},{default:l(()=>[Re(t(S,{flat:"",label:"Cancel"},null,512),[[Oe]]),t(S,{color:"negative",label:"Submit Deletion",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},Yn={class:"flex items-center justify-between q-pa-md bg-white"},Jn={class:"flex q-gutter-sm"},Gn={__name:"Deletion",props:["deletion","canEditDelete"],setup(e){const a=De(),o=e,c=H(!1),i=ke({reason:o.deletion.reason||"",seniority_list:o.deletion.seniority_list||"",year:o.deletion.year||new Date().getFullYear(),remark:o.deletion.remark||"",supporting_document:null}),m=()=>{i.post(route("deletion.update",o.deletion),{preserveScroll:!0,onSuccess:()=>{c.value=!1,a.notify({type:"positive",message:"Deleted details updated successfully."})}})},v=h=>{window.open(h,"_blank")};return(h,u)=>(f(),E(X,null,[t(J,{class:"q-mt-md"},{default:l(()=>[n("div",Yn,[u[8]||(u[8]=n("div",null,[n("div",{class:"stitle text-red"},"Deletion Detail")],-1)),n("div",Jn,[e.canEditDelete?(f(),R(S,{key:0,onClick:u[0]||(u[0]=r=>c.value=!0),color:"btn-primary",icon:"edit"})):A("",!0)])]),t(N,null,{default:l(()=>[t(gt,{class:"q-mt-sm"},{default:l(()=>[t(I,null,{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>u[9]||(u[9]=[p("Reason:")])),_:1,__:[9]}),t($,{class:"text-label"},{default:l(()=>[p(w(e.deletion.reason),1)]),_:1})]),_:1}),t(I,null,{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>u[10]||(u[10]=[p("Seniority List:")])),_:1,__:[10]}),t($,{class:"text-label"},{default:l(()=>[p(w(e.deletion.seniority_list),1)]),_:1})]),_:1}),t(I,null,{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>u[11]||(u[11]=[p("Year:")])),_:1,__:[11]}),t($,{class:"text-label"},{default:l(()=>[p(w(e.deletion.year),1)]),_:1})]),_:1}),e.deletion.remark?(f(),R(I,{key:0},{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>u[12]||(u[12]=[p("Remark:")])),_:1,__:[12]}),t($,{class:"text-label"},{default:l(()=>[p(w(e.deletion.remark),1)]),_:1})]),_:1})):A("",!0),e.deletion.supporting_document?(f(),R(I,{key:1},{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>u[13]||(u[13]=[p("Supporting Document:")])),_:1,__:[13]}),t($,{class:"text-label"},{default:l(()=>[t(S,{dense:"",flat:"",icon:"visibility",href:`/storage/${e.deletion.supporting_document}`,target:"_blank"},null,8,["href"])]),_:1})]),_:1})):A("",!0)]),_:1})]),_:1})]),_:1}),t(Pe,{modelValue:c.value,"onUpdate:modelValue":u[7]||(u[7]=r=>c.value=r)},{default:l(()=>[t(J,{style:{"min-width":"500px","max-width":"90vw"}},{default:l(()=>[t(N,{class:"bg-negative text-white"},{default:l(()=>u[14]||(u[14]=[n("div",{class:"text-h6"},"Edit Deletion Detail",-1)])),_:1,__:[14]}),t(St,{onSubmit:$t(m,["prevent"])},{default:l(()=>[t(N,{class:"q-gutter-md"},{default:l(()=>[t(Le,{modelValue:y(i).reason,"onUpdate:modelValue":u[1]||(u[1]=r=>y(i).reason=r),label:"Reason",outlined:"",dense:"",required:"",options:["Expired","Resigned","Dismissed","Regularised","Others (Specify the reasons to Remarks)","Overage (Retired)"],error:!!y(i).errors.reason,"error-message":y(i).errors.reason,rules:[r=>!!r||"Reason is required"]},null,8,["modelValue","error","error-message","rules"]),t(se,{modelValue:y(i).seniority_list,"onUpdate:modelValue":u[2]||(u[2]=r=>y(i).seniority_list=r),label:"Seniority List",outlined:"",dense:""},null,8,["modelValue"]),t(se,{modelValue:y(i).year,"onUpdate:modelValue":u[3]||(u[3]=r=>y(i).year=r),label:"Year",outlined:"",dense:"",type:"number"},null,8,["modelValue"]),t(se,{modelValue:y(i).remark,"onUpdate:modelValue":u[4]||(u[4]=r=>y(i).remark=r),label:"Remark",outlined:"",dense:"",type:"textarea"},null,8,["modelValue"]),t(ze,{modelValue:y(i).supporting_document,"onUpdate:modelValue":u[6]||(u[6]=r=>y(i).supporting_document=r),label:"Supporting Document",outlined:"",dense:"",accept:".pdf,.png,.jpg,.jpeg"},tl({_:2},[e.deletion.supporting_document?{name:"append",fn:l(()=>[t(S,{round:"",dense:"",flat:"",icon:"visibility",href:`/storage/${e.deletion.supporting_document}`,onClick:u[5]||(u[5]=r=>v(`/storage/${e.deletion.supporting_document}`)),class:"q-ml-sm"},null,8,["href"])]),key:"0"}:void 0]),1032,["modelValue"])]),_:1}),t(pe,{align:"right"},{default:l(()=>[Re(t(S,{flat:"",label:"Cancel"},null,512),[[Oe]]),t(S,{color:"primary",label:"Update",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Xn={class:"flex items-center justify-between q-pa-md bg-white"},Zn={class:"flex q-gutter-sm"},eo={key:0,class:"text-grey-7 text-center q-pa-md italic"},to={class:"text-h6"},lo={__name:"Remuneration",props:{data:Object,canCreateRemuneration:Boolean},setup(e){const a=De(),{pay_matrix:o,formatDate:c}=Be(),i=e,m=H(!1),v=H(!1),h=H(!1),u=ke({remuneration:"",pay_matrix:"",next_increment_date:""}),r=(T=!1)=>{v.value=T,T&&i.data.remuneration_detail?(u.remuneration=i.data.remuneration_detail.remuneration,u.pay_matrix=i.data.remuneration_detail.pay_matrix,u.next_increment_date=i.data.remuneration_detail.next_increment_date):u.reset(),m.value=!0,h.value=!1},s=()=>{h.value=!0},d=()=>{if(!u.remuneration){a.notify({type:"negative",message:"Remuneration amount is required",position:"bottom"});return}if(!u.next_increment_date){a.notify({type:"negative",message:"Next Increment Date is required",position:"bottom"});return}v.value?u.put(route("remuneration.update",i.data.id),{onSuccess:()=>{m.value=!1},onError:T=>{Object.values(T).forEach(k=>{a.notify({type:"negative",message:k,position:"bottom"})})}}):u.post(route("remuneration.store",i.data.id),{onSuccess:()=>{m.value=!1,u.reset()},onError:T=>{Object.values(T).forEach(k=>{a.notify({type:"negative",message:k,position:"bottom"})})}})};return(T,k)=>(f(),E(X,null,[t(J,{class:"q-mt-md"},{default:l(()=>[n("div",Xn,[k[5]||(k[5]=n("div",null,[n("div",{class:"stitle"},"Remuneration Detail")],-1)),n("div",Zn,[e.canCreateRemuneration?(f(),R(S,{key:0,onClick:k[0]||(k[0]=L=>r(!!e.data.remuneration_detail)),color:"btn-primary",icon:e.data.remuneration_detail?"edit":"add"},null,8,["icon"])):A("",!0)])]),t(N,null,{default:l(()=>[e.data.remuneration_detail?(f(),R(gt,{key:1,class:"q-mt-sm"},{default:l(()=>[t(I,null,{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>k[6]||(k[6]=[p("Remuneration:")])),_:1,__:[6]}),t($,{class:"text-label"},{default:l(()=>[p(" ₹ "+w(e.data.remuneration_detail.remuneration.toLocaleString()),1)]),_:1})]),_:1}),t(I,null,{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>k[7]||(k[7]=[p("Pay Matrix:")])),_:1,__:[7]}),t($,{class:"text-label"},{default:l(()=>[p(w(e.data.remuneration_detail.pay_matrix??"N/A"),1)]),_:1})]),_:1}),t(I,null,{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>k[8]||(k[8]=[p("Medical Allowance (%):")])),_:1,__:[8]}),t($,{class:"text-label"},{default:l(()=>[p(w(e.data.remuneration_detail.medical_percentage),1)]),_:1})]),_:1}),t(I,null,{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>k[9]||(k[9]=[p("Medical Allowance:")])),_:1,__:[9]}),t($,{class:"text-label"},{default:l(()=>[p(" ₹ "+w(e.data.remuneration_detail.medical_amount.toLocaleString()),1)]),_:1})]),_:1}),t(I,null,{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>k[10]||(k[10]=[p("Total:")])),_:1,__:[10]}),t($,{class:"text-label"},{default:l(()=>[p(" ₹ "+w(e.data.remuneration_detail.total.toLocaleString()),1)]),_:1})]),_:1}),t(I,null,{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>k[11]||(k[11]=[p("Monthly Remuneration:")])),_:1,__:[11]}),t($,{class:"text-label"},{default:l(()=>[p(" ₹ "+w(e.data.remuneration_detail.round_total.toLocaleString()),1)]),_:1})]),_:1}),t(Ee,{spaced:""}),t(I,null,{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>k[12]||(k[12]=[p("Date of next Increment:")])),_:1,__:[12]}),t($,{class:"text-label"},{default:l(()=>[p(w(y(c)(e.data.remuneration_detail.next_increment_date)),1)]),_:1})]),_:1})]),_:1})):(f(),E("div",eo," No remuneration data available. "))]),_:1})]),_:1}),t(Pe,{modelValue:m.value,"onUpdate:modelValue":k[4]||(k[4]=L=>m.value=L)},{default:l(()=>[t(J,{style:{"min-width":"400px"}},{default:l(()=>[t(N,null,{default:l(()=>[n("div",to,w(v.value?"Edit":"Add")+" Remuneration",1)]),_:1}),t(N,{class:"q-gutter-md"},{default:l(()=>[t(se,{label:"Remuneration",type:"number",modelValue:y(u).remuneration,"onUpdate:modelValue":k[1]||(k[1]=L=>y(u).remuneration=L),outlined:"",dense:"",readonly:!h.value},{append:l(()=>[t(Ae,{name:"edit",class:"cursor-pointer",onClick:s})]),_:1},8,["modelValue","readonly"]),t(Le,{label:"Pay Matrix",options:y(o),modelValue:y(u).pay_matrix,"onUpdate:modelValue":k[2]||(k[2]=L=>y(u).pay_matrix=L),outlined:"",dense:"",readonly:!h.value},null,8,["options","modelValue","readonly"]),t(se,{label:"Next Increment Date",type:"date",modelValue:y(u).next_increment_date,"onUpdate:modelValue":k[3]||(k[3]=L=>y(u).next_increment_date=L),outlined:"",dense:"",readonly:!h.value},null,8,["modelValue","readonly"])]),_:1}),t(pe,{align:"right"},{default:l(()=>[Re(t(S,{flat:"",label:"Cancel"},null,512),[[Oe]]),t(S,{color:"primary",label:v.value?"Update":"Save",disable:!h.value,onClick:d},null,8,["label","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};function Rt(e,a){if(a&&e===a)return null;const o=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(o)===!0)return e;const c=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,i=c.display;return i==="block"||i==="table"?e:Rt(e.parentNode)}function st(e,a,o){return!e||e===document.body?!1:o===!0&&e===a||(a===document?document.body:a).contains(e.parentNode)}function Et(e,a,o){if(o||(o=document.createRange(),o.selectNode(e),o.setStart(e,0)),a.count===0)o.setEnd(e,a.count);else if(a.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<a.count?a.count-=e.textContent.length:(o.setEnd(e,a.count),a.count=0);else for(let c=0;a.count!==0&&c<e.childNodes.length;c++)o=Et(e.childNodes[c],a,o);return o}const ao=/^https?:\/\//;class no{constructor(a,o){this.el=a,this.eVm=o,this._range=null}get selection(){if(this.el){const a=document.getSelection();if(st(a.anchorNode,this.el,!0)&&st(a.focusNode,this.el,!0))return a}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length!==0:!1}get range(){const a=this.selection;return a!=null&&a.rangeCount?a.getRangeAt(0):this._range}get parent(){const a=this.range;if(a!==null){const o=a.startContainer;return o.nodeType===document.ELEMENT_NODE?o:o.parentNode}return null}get blockParent(){const a=this.parent;return a!==null?Rt(a,this.el):null}save(a=this.range){a!==null&&(this._range=a)}restore(a=this._range){const o=document.createRange(),c=document.getSelection();a!==null?(o.setStart(a.startContainer,a.startOffset),o.setEnd(a.endContainer,a.endOffset),c.removeAllRanges(),c.addRange(o)):(c.selectAllChildren(this.el),c.collapseToEnd())}savePosition(){let a=-1,o;const c=document.getSelection(),i=this.el.parentNode;if(c.focusNode&&st(c.focusNode,i))for(o=c.focusNode,a=c.focusOffset;o&&o!==i;)o!==this.el&&o.previousSibling?(o=o.previousSibling,a+=o.textContent.length):o=o.parentNode;this.savedPos=a}restorePosition(a=0){if(this.savedPos>0&&this.savedPos<a){const o=window.getSelection(),c=Et(this.el,{count:this.savedPos});c&&(c.collapse(!1),o.removeAllRanges(),o.addRange(c))}}hasParent(a,o){const c=o?this.parent:this.blockParent;return c!==null?c.nodeName.toLowerCase()===a.toLowerCase():!1}hasParents(a,o,c=this.parent){return c===null?!1:a.includes(c.nodeName.toLowerCase())===!0?!0:o===!0?this.hasParents(a,o,c.parentNode):!1}is(a,o){if(this.selection===null)return!1;switch(a){case"formatBlock":return o==="DIV"&&this.parent===this.el||this.hasParent(o,o==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(a)===o;case"fontName":const c=document.queryCommandValue(a);return c===`"${o}"`||c===o;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const i=document.queryCommandState(a);return o!==void 0?i===o:i}}getParentAttribute(a){return this.parent!==null?this.parent.getAttribute(a):null}can(a){if(a==="outdent")return this.hasParents(["blockquote","li"],!0);if(a==="indent")return this.hasParents(["li"],!0);if(a==="link")return this.selection!==null||this.is("link")}apply(a,o,c=ll){if(a==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(o)&&this.is(a,o)&&(a="outdent",o=null),o==="PRE"&&this.is(a,"PRE")&&(o="P");else if(a==="print"){c();const i=window.open();i.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),i.print(),i.close();return}else if(a==="link"){const i=this.getParentAttribute("href");if(i===null){const m=this.selectWord(this.selection),v=m?m.toString():"";if(!v.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=ao.test(v)?v:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(m.getRangeAt(0))}else this.eVm.editLinkUrl.value=i,this.range.selectNodeContents(this.parent),this.save();return}else if(a==="fullscreen"){this.eVm.toggleFullscreen(),c();return}else if(a==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),c();return}document.execCommand(a,!1,o),c()}selectWord(a){if(a===null||a.isCollapsed!==!0||a.modify===void 0)return a;const o=document.createRange();o.setStart(a.anchorNode,a.anchorOffset),o.setEnd(a.focusNode,a.focusOffset);const c=o.collapsed?["backward","forward"]:["forward","backward"];o.detach();const i=a.focusNode,m=a.focusOffset;return a.collapse(a.anchorNode,a.anchorOffset),a.modify("move",c[0],"character"),a.modify("move",c[1],"word"),a.extend(i,m),a.modify("extend",c[1],"character"),a.modify("extend",c[0],"word"),a}}function Ot(e,a,o){a.handler?a.handler(e,o,o.caret):o.runCmd(a.cmd,a.param)}function vt(e){return Q("div",{class:"q-editor__toolbar-group"},e)}function Pt(e,a,o,c=!1){const i=c||(a.type==="toggle"?a.toggled?a.toggled(e):a.cmd&&e.caret.is(a.cmd,a.param):!1),m=[];if(a.tip&&e.$q.platform.is.desktop){const v=a.key?Q("div",[Q("small",`(CTRL + ${String.fromCharCode(a.key)})`)]):null;m.push(Q(dt,{delay:1e3},()=>[Q("div",{innerHTML:a.tip}),v]))}return Q(S,{...e.buttonProps.value,icon:a.icon!==null?a.icon:void 0,color:i?a.toggleColor||e.props.toolbarToggleColor:a.color||e.props.toolbarColor,textColor:i&&!e.props.toolbarPush?null:a.textColor||e.props.toolbarTextColor,label:a.label,disable:a.disable?typeof a.disable=="function"?a.disable(e):!0:!1,size:"sm",onClick(v){o==null||o(),Ot(v,a,e)}},()=>m)}function oo(e,a){const o=a.list==="only-icons";let c=a.label,i=a.icon!==null?a.icon:void 0,m,v;function h(){r.component.proxy.hide()}if(o)v=a.options.map(s=>{const d=s.type===void 0?e.caret.is(s.cmd,s.param):!1;return d&&(c=s.tip,i=s.icon!==null?s.icon:void 0),Pt(e,s,h,d)}),m=e.toolbarBackgroundClass.value,v=[vt(v)];else{const s=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,d=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,T=a.list==="no-icons";v=a.options.map(k=>{const L=k.disable?k.disable(e):!1,O=k.type===void 0?e.caret.is(k.cmd,k.param):!1;O&&(c=k.tip,i=k.icon!==null?k.icon:void 0);const z=k.htmlTip;return Q(I,{active:O,activeClass:s,clickable:!0,disable:L,dense:!0,onClick(C){var b;h(),(C==null?void 0:C.qAvoidFocus)!==!0&&((b=e.contentRef.value)==null||b.focus()),e.caret.restore(),Ot(C,k,e)}},()=>[T===!0?null:Q($,{class:O?s:d,side:!0},()=>Q(Ae,{name:k.icon!==null?k.icon:void 0})),Q($,z?()=>Q("div",{class:"text-no-wrap",innerHTML:k.htmlTip}):k.tip?()=>Q("div",{class:"text-no-wrap"},k.tip):void 0)])}),m=[e.toolbarBackgroundClass.value,d]}const u=a.highlight&&c!==a.label,r=Q(hl,{...e.buttonProps.value,noCaps:!0,noWrap:!0,color:u?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:u&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:a.fixedLabel?a.label:c,icon:a.fixedIcon?a.icon!==null?a.icon:void 0:i,contentClass:m,onShow:s=>e.emit("dropdownShow",s),onHide:s=>e.emit("dropdownHide",s),onBeforeShow:s=>e.emit("dropdownBeforeShow",s),onBeforeHide:s=>e.emit("dropdownBeforeHide",s)},()=>v);return r}function so(e){if(e.caret)return e.buttons.value.filter(a=>!e.isViewingSource.value||a.find(o=>o.cmd==="viewsource")).map(a=>vt(a.map(o=>e.isViewingSource.value&&o.cmd!=="viewsource"?!1:o.type==="slot"?mt(e.slots[o.slot]):o.type==="dropdown"?oo(e,o):Pt(e,o))))}function io(e,a,o,c={}){const i=Object.keys(c);if(i.length===0)return{};const m={default_font:{cmd:"fontName",param:e,icon:o,tip:a}};return i.forEach(v=>{const h=c[v];m[v]={cmd:"fontName",param:h,icon:o,tip:h,htmlTip:`<font face="${h}">${h}</font>`}}),m}function ro(e){if(e.caret){const a=e.props.toolbarColor||e.props.toolbarTextColor;let o=e.editLinkUrl.value;const c=()=>{e.caret.restore(),o!==e.editLinkUrl.value&&document.execCommand("createLink",!1,o===""?" ":o),e.editLinkUrl.value=null};return[Q("div",{class:`q-mx-xs text-${a}`},`${e.$q.lang.editor.url}: `),Q("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:o,onInput:i=>{al(i),o=i.target.value},onKeydown:i=>{if(ct(i)!==!0)switch(i.keyCode){case 13:return ht(i),c();case 27:ht(i),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),vt([Q(S,{key:"qedt_btm_rem",tabindex:-1,...e.buttonProps.value,label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}}),Q(S,{key:"qedt_btm_upd",...e.buttonProps.value,label:e.$q.lang.label.update,noCaps:!0,onClick:c})])]}}const uo=Object.prototype.toString,it=Object.prototype.hasOwnProperty,co=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(e=>"[object "+e+"]"));function qt(e){if(e!==Object(e)||co.has(uo.call(e))===!0||e.constructor&&it.call(e,"constructor")===!1&&it.call(e.constructor.prototype,"isPrototypeOf")===!1)return!1;let a;for(a in e);return a===void 0||it.call(e,a)}function Vt(){let e,a,o,c,i,m,v=arguments[0]||{},h=1,u=!1;const r=arguments.length;for(typeof v=="boolean"&&(u=v,v=arguments[1]||{},h=2),Object(v)!==v&&typeof v!="function"&&(v={}),r===h&&(v=this,h--);h<r;h++)if((e=arguments[h])!==null)for(a in e)o=v[a],c=e[a],v!==c&&(u===!0&&c&&((i=Array.isArray(c))||qt(c)===!0)?(i===!0?m=Array.isArray(o)===!0?o:[]:m=qt(o)===!0?o:{},v[a]=Vt(u,m,c)):c!==void 0&&(v[a]=c));return v}const fo=Ye({name:"QEditor",props:{...nl,...Cl,modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(a=>a.length),default:()=>[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},emits:[...ql,"update:modelValue","keydown","click","focus","blur","dropdownShow","dropdownHide","dropdownBeforeShow","dropdownBeforeHide","linkShow","linkHide"],setup(e,{slots:a,emit:o}){const{proxy:c}=lt(),{$q:i}=c,m=ol(e,i),{inFullscreen:v,toggleFullscreen:h}=Dl(),u=sl(),r=H(null),s=H(null),d=H(null),T=H(!1),k=B(()=>!e.readonly&&!e.disable);let L,O,z=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),L=window.getComputedStyle(document.body).fontFamily;const C=B(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),b=B(()=>({type:"a",flat:e.toolbarOutline!==!0&&e.toolbarPush!==!0,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!k.value,size:"sm"})),U=B(()=>{const g=i.lang.editor,x=i.iconSet.editor;return{bold:{cmd:"bold",icon:x.bold,tip:g.bold,key:66},italic:{cmd:"italic",icon:x.italic,tip:g.italic,key:73},strike:{cmd:"strikeThrough",icon:x.strikethrough,tip:g.strikethrough,key:83},underline:{cmd:"underline",icon:x.underline,tip:g.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:x.unorderedList,tip:g.unorderedList},ordered:{cmd:"insertOrderedList",icon:x.orderedList,tip:g.orderedList},subscript:{cmd:"subscript",icon:x.subscript,tip:g.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:x.superscript,tip:g.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:W=>W.caret&&!W.caret.can("link"),icon:x.hyperlink,tip:g.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:x.toggleFullscreen,tip:g.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:x.viewSource,tip:g.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:x.quote,tip:g.quote,key:81},left:{cmd:"justifyLeft",icon:x.left,tip:g.left},center:{cmd:"justifyCenter",icon:x.center,tip:g.center},right:{cmd:"justifyRight",icon:x.right,tip:g.right},justify:{cmd:"justifyFull",icon:x.justify,tip:g.justify},print:{type:"no-state",cmd:"print",icon:x.print,tip:g.print,key:80},outdent:{type:"no-state",disable:W=>W.caret&&!W.caret.can("outdent"),cmd:"outdent",icon:x.outdent,tip:g.outdent},indent:{type:"no-state",disable:W=>W.caret&&!W.caret.can("indent"),cmd:"indent",icon:x.indent,tip:g.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:x.removeFormat,tip:g.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:x.hr,tip:g.hr},undo:{type:"no-state",cmd:"undo",icon:x.undo,tip:g.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:x.redo,tip:g.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:x.heading1||x.heading,tip:g.heading1,htmlTip:`<h1 class="q-ma-none">${g.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:x.heading2||x.heading,tip:g.heading2,htmlTip:`<h2 class="q-ma-none">${g.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:x.heading3||x.heading,tip:g.heading3,htmlTip:`<h3 class="q-ma-none">${g.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:x.heading4||x.heading,tip:g.heading4,htmlTip:`<h4 class="q-ma-none">${g.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:x.heading5||x.heading,tip:g.heading5,htmlTip:`<h5 class="q-ma-none">${g.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:x.heading6||x.heading,tip:g.heading6,htmlTip:`<h6 class="q-ma-none">${g.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:x.heading,tip:g.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:x.code,htmlTip:`<code>${g.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:x.size1||x.size,tip:g.size1,htmlTip:`<font size="1">${g.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:x.size2||x.size,tip:g.size2,htmlTip:`<font size="2">${g.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:x.size3||x.size,tip:g.size3,htmlTip:`<font size="3">${g.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:x.size4||x.size,tip:g.size4,htmlTip:`<font size="4">${g.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:x.size5||x.size,tip:g.size5,htmlTip:`<font size="5">${g.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:x.size6||x.size,tip:g.size6,htmlTip:`<font size="6">${g.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:x.size7||x.size,tip:g.size7,htmlTip:`<font size="7">${g.size7}</font>`}}}),V=B(()=>{const g=e.definitions||{},x=e.definitions||e.fonts?Vt(!0,{},U.value,g,io(L,i.lang.editor.defaultFont,i.iconSet.editor.font,e.fonts)):U.value;return e.toolbar.map(W=>W.map(le=>{if(le.options)return{type:"dropdown",icon:le.icon,label:le.label,size:"sm",dense:!0,fixedLabel:le.fixedLabel,fixedIcon:le.fixedIcon,highlight:le.highlight,list:le.list,options:le.options.map(Fe=>x[Fe])};const ce=x[le];return ce?ce.type==="no-state"||g[le]&&(ce.cmd===void 0||U.value[ce.cmd]&&U.value[ce.cmd].type==="no-state")?ce:Object.assign({type:"toggle"},ce):{type:"slot",slot:le}}))}),_={$q:i,props:e,slots:a,emit:o,inFullscreen:v,toggleFullscreen:h,runCmd:ue,isViewingSource:T,editLinkUrl:d,toolbarBackgroundClass:C,buttonProps:b,contentRef:s,buttons:V,setContent:re};be(()=>e.modelValue,g=>{z!==g&&(z=g,re(g,!0))}),be(d,g=>{o(`link${g?"Show":"Hide"}`)});const D=B(()=>e.toolbar&&e.toolbar.length!==0),M=B(()=>{const g={},x=W=>{W.key&&(g[W.key]={cmd:W.cmd,param:W.param})};return V.value.forEach(W=>{W.forEach(le=>{le.options?le.options.forEach(x):x(le)})}),g}),te=B(()=>v.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),ne=B(()=>`q-editor q-editor--${T.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(v.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(m.value===!0?" q-editor--dark q-dark":"")),he=B(()=>[e.contentClass,"q-editor__content",{col:v.value,"overflow-auto":v.value||e.maxHeight}]),_e=B(()=>e.disable===!0?{"aria-disabled":"true"}:{});function qe(){if(s.value!==null){const g=`inner${T.value===!0?"Text":"HTML"}`,x=s.value[g];x!==e.modelValue&&(z=x,o("update:modelValue",x))}}function Ce(g){if(o("keydown",g),g.ctrlKey!==!0||ct(g)===!0){G();return}const x=g.keyCode,W=M.value[x];if(W!==void 0){const{cmd:le,param:ce}=W;ft(g),ue(le,ce,!1)}}function fe(g){G(),o("click",g)}function xe(g){if(s.value!==null){const{scrollTop:x,scrollHeight:W}=s.value;O=W-x}_.caret.save(),o("blur",g)}function me(g){il(()=>{s.value!==null&&O!==void 0&&(s.value.scrollTop=s.value.scrollHeight-O)}),o("focus",g)}function ie(g){const x=r.value;if(x!==null&&x.contains(g.target)===!0&&(g.relatedTarget===null||x.contains(g.relatedTarget)!==!0)){const W=`inner${T.value===!0?"Text":"HTML"}`;_.caret.restorePosition(s.value[W].length),G()}}function ge(g){const x=r.value;x!==null&&x.contains(g.target)===!0&&(g.relatedTarget===null||x.contains(g.relatedTarget)!==!0)&&(_.caret.savePosition(),G())}function $e(){O=void 0}function Te(g){_.caret.save()}function re(g,x){if(s.value!==null){x===!0&&_.caret.savePosition();const W=`inner${T.value===!0?"Text":"HTML"}`;s.value[W]=g,x===!0&&(_.caret.restorePosition(s.value[W].length),G())}}function ue(g,x,W=!0){ye(),_.caret.restore(),_.caret.apply(g,x,()=>{ye(),_.caret.save(),W&&G()})}function G(){setTimeout(()=>{d.value=null,c.$forceUpdate()},1)}function ye(){rl(()=>{var g;(g=s.value)==null||g.focus({preventScroll:!0})})}function de(){return s.value}return Dt(()=>{_.caret=c.caret=new no(s.value,_),re(e.modelValue),G(),document.addEventListener("selectionchange",Te)}),Ke(()=>{document.removeEventListener("selectionchange",Te)}),Object.assign(c,{runCmd:ue,refreshToolbar:G,focus:ye,getContentEl:de}),()=>{let g;if(D.value){const x=[Q("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+C.value},so(_))];d.value!==null&&x.push(Q("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+C.value},ro(_))),g=Q("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},x)}return Q("div",{ref:r,class:ne.value,style:{height:v.value===!0?"100%":null},..._e.value,onFocusin:ie,onFocusout:ge},[g,Q("div",{ref:s,style:te.value,class:he.value,contenteditable:k.value,placeholder:e.placeholder,...u.listeners.value,onInput:qe,onKeydown:Ce,onClick:fe,onBlur:xe,onFocus:me,onMousedown:$e,onTouchstartPassive:$e})])}}}),mo={key:0},go={class:"subtitle"},vo={class:"text-label"},po={class:"row items-center q-gutter-sm"},yo={key:1,class:"text-grey-7 text-center q-pa-md italic"},bo={__name:"EngagementCard",props:{data:Object,canCreateEngagementCard:Boolean,canDownloadEngagementCard:Boolean,canDeleteEngagementCard:Boolean},setup(e){const a=H(!1),o=H(null),c=ke({html_content:""}),i=De(),m=async(u=null)=>{o.value=u,u?c.html_content=u.content:c.html_content="",a.value=!0},v=()=>{c.post(route("engagement-card.update",o.value),{preserveScroll:!0,onSuccess:()=>{a.value=!1,i.notify({type:"positive",message:"Card updated successfully!"})}})},h=async u=>{try{const r=await ul.get(route("engagement-card.download",u.id),{responseType:"blob"}),s=window.URL.createObjectURL(new Blob([r.data],{type:"application/pdf"})),d=document.createElement("a");d.href=s,d.setAttribute("download",`EngagementCard_${u.card_no}.pdf`),document.body.appendChild(d),d.click(),d.remove()}catch{i.notify({type:"negative",message:"Failed to download PDF."})}};return(u,r)=>(f(),E("div",null,[t(J,{class:"q-mt-md"},{default:l(()=>[r[2]||(r[2]=n("div",{class:"flex items-center justify-between q-pa-md bg-white"},[n("div",null,[n("div",{class:"stitle"},"Engagement Cards")])],-1)),t(N,null,{default:l(()=>[e.data.engagement_card&&e.data.engagement_card.length?(f(),E("div",mo,[(f(!0),E(X,null,oe(e.data.engagement_card,s=>(f(),R(I,{key:s.id,class:"q-mb-md"},{default:l(()=>[t($,null,{default:l(()=>[n("div",go,"Card No: "+w(s.card_no),1),n("div",vo,"Fiscal: "+w(s.fiscal_year),1)]),_:2},1024),t($,{side:""},{default:l(()=>[n("div",po,[e.canCreateEngagementCard?(f(),R(S,{key:0,dense:"",color:"primary",icon:"edit",onClick:d=>m(s)},null,8,["onClick"])):A("",!0),e.canDownloadEngagementCard?(f(),R(S,{key:1,dense:"",color:"primary",icon:"download",onClick:d=>h(s)},null,8,["onClick"])):A("",!0),e.canDeleteEngagementCard?(f(),R(S,{key:2,dense:"",color:"red",icon:"delete",onClick:d=>u.$inertia.delete(u.route("engagement-card.destroy",s.id))},null,8,["onClick"])):A("",!0)])]),_:2},1024)]),_:2},1024))),128))])):(f(),E("div",yo," No engagement card generated. "))]),_:1})]),_:1,__:[2]}),t(Pe,{modelValue:a.value,"onUpdate:modelValue":r[1]||(r[1]=s=>a.value=s),persistent:""},{default:l(()=>[t(J,{style:{width:"1000px","max-width":"100vw"}},{default:l(()=>[t(N,{class:"row items-center justify-between bg-primary text-white"},{default:l(()=>[r[3]||(r[3]=n("div",{class:"text-h6"},"Engagement Card",-1)),Re(t(S,{dense:"",flat:"",icon:"close"},null,512),[[Oe]])]),_:1,__:[3]}),t(N,{style:{"flex-grow":"1",overflow:"auto",padding:"0"}},{default:l(()=>[t(fo,{modelValue:y(c).html_content,"onUpdate:modelValue":r[0]||(r[0]=s=>y(c).html_content=s),style:{width:"100%","max-height":"1100px"}},null,8,["modelValue"])]),_:1}),t(pe,{align:"right",style:{"flex-shrink":"0"}},{default:l(()=>[t(S,{color:"primary",label:"Save",onClick:v})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},ho={class:"flex items-center justify-between q-pa-md bg-white"},_o={class:"row q-col-gutter-md"},xo={class:"col-12 col-md-4"},wo={class:"column items-center q-gutter-sm"},ko={class:"stitle"},qo={class:"q-mt-lg full-width"},Co={class:"q-mt-lg flex items-center justify-center"},Do={class:"col-12 col-md-8"},$o={class:"row q-col-gutter-md"},To={class:"col-12 col-md-6"},So={class:"col-12 col-md-6"},Ko=Object.assign({layout:_l},{__name:"Show",props:["data","office","documentTypes","canCreate","canEdit","canDelete","canCreateRemuneration","canCreateTransfer","canDeleteDocument","canDeleteTransfer","canCreateEngagementCard","canDownloadEngagementCard","canDeleteEngagementCard","canRequestEditMr","canRequestDocumentEditMr","canRequestEditPe","canRequestDocumentEditPe","canRequestEditWc","canRequestDocumentEditWc","canRequestDelete","canRequestTransfer","canApproveEdit","canApproveTransfer","canApproveDelete","canEditDelete","canApproveDocumentEdit","canRequestDocumentDelete","canApproveDocumentDelete"],setup(e){const{formatDate:a}=Be(),o=e,c=H("document"),i=H(!1),m=B(()=>{var C;return!!((C=tt().props.roles)!=null&&C.find(b=>b==="Admin"))}),v=B(()=>{var C;return!!((C=tt().props.roles)!=null&&C.find(b=>b==="Manager"))}),h=B(()=>{const C=o.data.edit_requests;return C&&C.length?C[C.length-1]:null}),u=B(()=>{const C=o.data.deletion_requests;return C&&C.length?C[C.length-1]:null}),r=B(()=>{const C=o.data.transfer_requests;return C&&C.length?C[C.length-1]:null}),s=B(()=>{const C=o.data.document_request;return C&&C.length?C[C.length-1]:null});function d(C){if(!C)return!0;const b=new Date,U=new Date(C);return(b-U)/(1e3*60*60*24)<=15}const T=B(()=>h.value?m.value?h.value.approval_status==="pending":v.value?h.value.approval_status!=="pending"&&d(h.value.approval_date):!1:!1),k=B(()=>u.value?m.value?u.value.approval_status==="pending":v.value?u.value.approval_status!=="pending"&&d(u.value.approval_date):!1:!1),L=B(()=>r.value?m.value?r.value.approval_status==="pending":v.value?r.value.approval_status!=="pending"&&d(r.value.approval_date):!1:!1),O=B(()=>s.value?m.value?s.value.approval_status==="pending":v.value?s.value.approval_status!=="pending"&&d(s.value.approval_date):!1:!1),z=()=>{window.history.back()};return(C,b)=>(f(),R(Bt,{class:"container",padding:""},{default:l(()=>[n("div",ho,[n("div",null,[b[5]||(b[5]=n("div",{class:"stitle"},"Employee Detail",-1)),t(jt,{class:"text-dark"},{default:l(()=>[t(pt,{class:"cursor-pointer",onClick:b[0]||(b[0]=U=>C.$inertia.get(C.route("dashboard"))),icon:"dashboard",label:"Dashboard"}),t(pt,{class:"cursor-pointer",label:"Go Back",onClick:z})]),_:1})])]),b[28]||(b[28]=n("br",null,null,-1)),t(J,{flat:""},{default:l(()=>[t(N,null,{default:l(()=>{var U,V,_,D,M,te;return[n("div",_o,[n("div",xo,[t(J,{class:"q-pa-md"},{default:l(()=>{var ne,he,_e,qe,Ce,fe,xe,me;return[n("div",wo,[t(dl,{size:"96px"},{default:l(()=>{var ie,ge;return[(ie=e.data)!=null&&ie.avatar?(f(),R(Lt,{key:0,src:`/storage/${(ge=e.data)==null?void 0:ge.avatar}`},null,8,["src"])):(f(),R(Ae,{key:1,name:"person",color:"primary"}))]}),_:1}),n("div",ko,w(e.data.name),1),t(cl,{color:((he=(ne=e.data)==null?void 0:ne.employment_type)==null?void 0:he.trim())==="Deleted"?"red-6":"grey-6","text-color":"white",class:"stitle",label:((qe=(_e=e.data)==null?void 0:_e.employment_type)==null?void 0:qe.trim())==="MR"?"Muster Roll Employee":((fe=(Ce=e.data)==null?void 0:Ce.employment_type)==null?void 0:fe.trim())==="PE"?"Provisional Employee":((me=(xe=e.data)==null?void 0:xe.employment_type)==null?void 0:me.trim())==="WC"?"Work Charge Employee":"Deleted Employee",style:{padding:"8px"},rounded:""},null,8,["color","label"]),n("div",qo,[t(gt,{class:"rounded-borders"},{default:l(()=>{var ie,ge,$e,Te,re,ue,G,ye,de,g,x,W,le,ce,Fe,Je,Ge,Ve,Qe,Xe,Ze,Ie,He,We,Ue,q,j,F,Z,ee,Y,K,ae,we,Me;return[t(I,null,{default:l(()=>[t($,{class:"text-label"},{default:l(()=>b[6]||(b[6]=[p("Details")])),_:1,__:[6]})]),_:1}),t(I,null,{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>b[7]||(b[7]=[p("Employee Code:")])),_:1,__:[7]}),t($,{class:"text-label"},{default:l(()=>{var P;return[p(w((P=e.data)==null?void 0:P.employee_code),1)]}),_:1})]),_:1}),t(I,null,{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>b[8]||(b[8]=[p("Name:")])),_:1,__:[8]}),t($,{class:"text-label"},{default:l(()=>{var P;return[p(w((P=e.data)==null?void 0:P.name),1)]}),_:1})]),_:1}),t(I,null,{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>b[9]||(b[9]=[p("Email:")])),_:1,__:[9]}),t($,{class:"text-label"},{default:l(()=>[p(w(e.data.email),1)]),_:1})]),_:1}),t(I,null,{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>b[10]||(b[10]=[p("Contact:")])),_:1,__:[10]}),t($,{class:"text-label"},{default:l(()=>{var P;return[p(w((P=e.data)==null?void 0:P.mobile),1)]}),_:1})]),_:1}),t(I,null,{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>b[11]||(b[11]=[p("Parent Name:")])),_:1,__:[11]}),t($,{class:"text-label"},{default:l(()=>{var P;return[p(w((P=e.data)==null?void 0:P.parent_name),1)]}),_:1})]),_:1}),t(I,null,{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>b[12]||(b[12]=[p("Date of Birth:")])),_:1,__:[12]}),t($,{class:"text-label"},{default:l(()=>[p(w(y(a)(e.data.date_of_birth)),1)]),_:1})]),_:1}),t(I,null,{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>b[13]||(b[13]=[p("Address:")])),_:1,__:[13]}),t($,{class:"text-label"},{default:l(()=>{var P;return[p(w(((P=e.data)==null?void 0:P.address)??"N/A"),1)]}),_:1})]),_:1}),t(I,null,{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>b[14]||(b[14]=[p("Education Qln.:")])),_:1,__:[14]}),t($,{class:"text-label"},{default:l(()=>{var P;return[p(w((P=e.data)==null?void 0:P.educational_qln),1)]}),_:1})]),_:1}),t(I,null,{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>b[15]||(b[15]=[p("Technical Qln.:")])),_:1,__:[15]}),t($,{class:"text-label"},{default:l(()=>{var P;return[p(w((P=e.data)==null?void 0:P.technical_qln),1)]}),_:1})]),_:1}),((ge=(ie=e.data)==null?void 0:ie.employment_type)==null?void 0:ge.trim())==="PE"||((Te=($e=e.data)==null?void 0:$e.employment_type)==null?void 0:Te.trim())==="WC"||(re=e.data)!=null&&re.designation&&((ue=e.data)==null?void 0:ue.designation)!=="null"?(f(),R(I,{key:0},{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>b[16]||(b[16]=[p("Designation:")])),_:1,__:[16]}),t($,{class:"text-label"},{default:l(()=>{var P;return[p(w((P=e.data)==null?void 0:P.designation),1)]}),_:1})]),_:1})):A("",!0),((ye=(G=e.data)==null?void 0:G.employment_type)==null?void 0:ye.trim())==="MR"||(de=e.data)!=null&&de.post_assigned&&((g=e.data)==null?void 0:g.post_assigned)!=="null"?(f(),R(I,{key:1},{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>b[17]||(b[17]=[p("Post/Work Assigned:")])),_:1,__:[17]}),t($,{class:"text-label"},{default:l(()=>{var P;return[p(w((P=e.data)==null?void 0:P.post_assigned),1)]}),_:1})]),_:1})):A("",!0),t(I,null,{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>b[18]||(b[18]=[p("Office:")])),_:1,__:[18]}),t($,{class:"text-label"},{default:l(()=>{var P,Se;return[p(w((Se=(P=e.data)==null?void 0:P.office)==null?void 0:Se.name),1)]}),_:1})]),_:1}),t(I,null,{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>b[19]||(b[19]=[p("Office Type:")])),_:1,__:[19]}),t($,{class:"text-label"},{default:l(()=>{var P,Se;return[p(w((Se=(P=e.data)==null?void 0:P.office)==null?void 0:Se.type),1)]}),_:1})]),_:1}),t(I,null,{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>b[20]||(b[20]=[p("Workplace:")])),_:1,__:[20]}),t($,{class:"text-label"},{default:l(()=>{var P;return[p(w((P=e.data)==null?void 0:P.name_of_workplace),1)]}),_:1})]),_:1}),t(I,null,{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>b[21]||(b[21]=[p("Date of Initial Engagement:")])),_:1,__:[21]}),t($,{class:"text-label"},{default:l(()=>{var P;return[p(w(y(a)((P=e.data)==null?void 0:P.date_of_engagement)||"N/A"),1)]}),_:1})]),_:1}),((W=(x=e.data)==null?void 0:x.employment_type)==null?void 0:W.trim())==="WC"||(le=e.data)!=null&&le.date_of_retirement&&((ce=e.data)==null?void 0:ce.date_of_retirement)!=="null"?(f(),R(I,{key:2},{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>b[22]||(b[22]=[p("Date of Retirement:")])),_:1,__:[22]}),t($,{class:"text-label"},{default:l(()=>{var P;return[p(w(y(a)((P=e.data)==null?void 0:P.date_of_retirement)||"N/A"),1)]}),_:1})]),_:1})):A("",!0),((Je=(Fe=e.data)==null?void 0:Fe.employment_type)==null?void 0:Je.trim())==="PE"||(Ge=e.data)!=null&&Ge.engagement_card_no&&((Ve=e.data)==null?void 0:Ve.engagement_card_no)!=="null"?(f(),R(I,{key:3},{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>b[23]||(b[23]=[p("Engagement Card No. :")])),_:1,__:[23]}),t($,{class:"text-label"},{default:l(()=>{var P;return[p(w((P=e.data)==null?void 0:P.engagement_card_no),1)]}),_:1})]),_:1})):A("",!0),((Xe=(Qe=e.data)==null?void 0:Qe.employment_type)==null?void 0:Xe.trim())==="MR"||(Ze=e.data)!=null&&Ze.post_assigned&&((Ie=e.data)==null?void 0:Ie.post_assigned)!=="null"?(f(),R(I,{key:4},{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>b[24]||(b[24]=[p("Post Selected:")])),_:1,__:[24]}),t($,{class:"text-label"},{default:l(()=>{var P;return[p(w((P=e.data)==null?void 0:P.post_per_qualification),1)]}),_:1})]),_:1})):A("",!0),((We=(He=e.data)==null?void 0:He.employment_type)==null?void 0:We.trim())==="MR"||(Ue=e.data)!=null&&Ue.post_assigned&&((q=e.data)==null?void 0:q.post_assigned)!=="null"?(f(),R(I,{key:5},{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>b[25]||(b[25]=[p("Skill Category:")])),_:1,__:[25]}),t($,{class:"text-label"},{default:l(()=>{var P;return[p(w((P=e.data)==null?void 0:P.skill_category),1)]}),_:1})]),_:1})):A("",!0),((F=(j=e.data)==null?void 0:j.employment_type)==null?void 0:F.trim())==="MR"||(Z=e.data)!=null&&Z.post_assigned&&((ee=e.data)==null?void 0:ee.post_assigned)!=="null"?(f(),R(I,{key:6},{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>b[26]||(b[26]=[p("Skill at Present:")])),_:1,__:[26]}),t($,{class:"text-label"},{default:l(()=>{var P;return[p(w((P=e.data)==null?void 0:P.skill_at_present),1)]}),_:1})]),_:1})):A("",!0),((K=(Y=e.data)==null?void 0:Y.employment_type)==null?void 0:K.trim())==="MR"&&((ae=e.data)!=null&&ae.scheme_id)||(we=e.data)!=null&&we.post_assigned&&((Me=e.data)==null?void 0:Me.post_assigned)!=="null"?(f(),R(I,{key:7},{default:l(()=>[t($,{side:"",class:"subtitle"},{default:l(()=>b[27]||(b[27]=[p("Scheme:")])),_:1,__:[27]}),t($,{class:"text-label"},{default:l(()=>{var P,Se;return[p(w((Se=(P=e.data)==null?void 0:P.scheme)==null?void 0:Se.name),1)]}),_:1})]),_:1})):A("",!0)]}),_:1}),n("div",Co,[e.canEdit?(f(),R(S,{key:0,label:"Edit",onClick:b[1]||(b[1]=ie=>C.$inertia.get(C.route("employee.edit",e.data))),class:"q-mr-md",color:"primary"})):A("",!0),e.canDelete&&e.data.employment_type!=="Deleted"?(f(),R(S,{key:1,label:"Delete",color:"negative",unelevated:"",onClick:b[2]||(b[2]=ie=>i.value=!0)})):A("",!0)])])])]}),_:1})]),t(Kn,{modelValue:i.value,"onUpdate:modelValue":b[3]||(b[3]=ne=>i.value=ne),employee:e.data},null,8,["modelValue","employee"]),n("div",Do,[t(Pl,{modelValue:c.value,"onUpdate:modelValue":b[4]||(b[4]=ne=>c.value=ne),class:"text-primary bg-white shadow-1 q-pa-sm",dense:"",align:"center"},{default:l(()=>{var ne,he,_e,qe,Ce,fe;return[t(Ne,{name:"document",label:"Documents",icon:"drive_folder_upload",alert:O.value,"alert-icon":"circle","alert-color":"red",class:ve(O.value?"text-red":"")},null,8,["alert","class"]),e.canApproveEdit?(f(),R(Ne,{key:0,name:"edit",label:"Edit Request",icon:"edit",alert:T.value,"alert-icon":"circle","alert-color":"red",class:ve(T.value?"text-red":"")},null,8,["alert","class"])):A("",!0),e.canApproveTransfer?(f(),R(Ne,{key:1,name:"transfer_request",label:"Transfer Request",icon:"input",alert:L.value,"alert-icon":"circle","alert-color":"red",class:ve(L.value?"text-red":"")},null,8,["alert","class"])):A("",!0),e.canApproveDelete?(f(),R(Ne,{key:2,name:"deletion",label:"Deletion Request",icon:"delete_sweep",alert:k.value,"alert-icon":"circle","alert-color":"red",class:ve(k.value?"text-red":"")},null,8,["alert","class"])):A("",!0),((he=(ne=e.data)==null?void 0:ne.employment_type)==null?void 0:he.trim())==="MR"&&e.canRequestEditMr||((qe=(_e=e.data)==null?void 0:_e.employment_type)==null?void 0:qe.trim())==="PE"&&e.canRequestEditPe||((fe=(Ce=e.data)==null?void 0:Ce.employment_type)==null?void 0:fe.trim())==="WC"&&e.canRequestEditWc?(f(),R(Ne,{key:3,name:"request_edit",label:"Request Edit",icon:"edit",alert:T.value,"alert-icon":"circle","alert-color":"red",class:ve(T.value?"text-red":"")},null,8,["alert","class"])):A("",!0),e.canRequestTransfer?(f(),R(Ne,{key:4,name:"request_transfer",label:"Request Transfer",icon:"input"})):A("",!0),e.canRequestDelete?(f(),R(Ne,{key:5,name:"request_deletion",label:"Request Deletion",icon:"delete_sweep"})):A("",!0)]}),_:1},8,["modelValue"]),c.value==="document"?(f(),R(ea,{key:0,data:e.data,documentTypes:e.documentTypes,canDeleteDocument:e.canDeleteDocument,canApproveDocumentEdit:e.canApproveDocumentEdit,canRequestDocumentEdit:((V=(U=e.data)==null?void 0:U.employment_type)==null?void 0:V.trim())==="MR"&&e.canRequestDocumentEditMr||((D=(_=e.data)==null?void 0:_.employment_type)==null?void 0:D.trim())==="PE"&&e.canRequestDocumentEditPe||((te=(M=e.data)==null?void 0:M.employment_type)==null?void 0:te.trim())==="WC"&&e.canRequestDocumentEditWc,canRequestDocumentDelete:e.canRequestDocumentDelete,canApproveDocumentDelete:e.canApproveDocumentDelete},null,8,["data","documentTypes","canDeleteDocument","canApproveDocumentEdit","canRequestDocumentEdit","canRequestDocumentDelete","canApproveDocumentDelete"])):A("",!0),c.value==="edit"?(f(),R(Ta,{key:1,data:e.data},null,8,["data"])):A("",!0),c.value==="transfer_request"?(f(),R(fa,{key:2,data:e.data,office:e.office},null,8,["data","office"])):A("",!0),c.value==="deletion"?(f(),R(Qa,{key:3,data:e.data},null,8,["data"])):A("",!0),c.value==="request_edit"?(f(),R(Cn,{key:4,data:e.data,documentTypes:e.documentTypes},null,8,["data","documentTypes"])):A("",!0),c.value==="request_transfer"?(f(),R(Ln,{key:5,data:e.data,office:e.office},null,8,["data","office"])):A("",!0),c.value==="request_deletion"?(f(),R(sn,{key:6,data:e.data},null,8,["data"])):A("",!0),n("div",$o,[n("div",To,[e.data.employment_type==="PE"?(f(),R(lo,{key:0,data:e.data,canCreateRemuneration:e.canCreateRemuneration},null,8,["data","canCreateRemuneration"])):A("",!0),t(Hn,{data:e.data,office:e.office,canCreateTransfer:e.canCreateTransfer,canDeleteTransfer:e.canDeleteTransfer},null,8,["data","office","canCreateTransfer","canDeleteTransfer"])]),n("div",So,[e.data.employment_type==="PE"?(f(),R(bo,{key:0,canDeleteEngagementCard:e.canDeleteEngagementCard,data:e.data,canCreateEngagementCard:e.canCreateEngagementCard,canDownloadEngagementCard:e.canDownloadEngagementCard},null,8,["canDeleteEngagementCard","data","canCreateEngagementCard","canDownloadEngagementCard"])):A("",!0),e.data.employment_type==="Deleted"?(f(),R(Gn,{key:1,deletion:e.data.deletion_detail,canEditDelete:e.canEditDelete},null,8,["deletion","canEditDelete"])):A("",!0)])])])])]}),_:1})]),_:1})]),_:1,__:[28]}))}});export{Ko as default};
