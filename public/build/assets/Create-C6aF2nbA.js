import{Q as I,a as m}from"./QBreadcrumbs-DraDP7zF.js";import{x as H,c as J,d as K,o as R,w as u,e as r,i,f as L,g as T,Q as d,u as o,F as W,p as X,q as j}from"./app-BXWKz8m6.js";import{Q as z}from"./QSelect-BZBUBe8J.js";import{Q as Y}from"./QForm-C3r1xNUI.js";import{Q as Z}from"./QLayout-T0AkPtrj.js";import{_}from"./BackendLayout-DOW1lWmD.js";import{u as h}from"./use-quasar-CM7wr-kL.js";/* empty css            */import"./format-C-gRaPJk.js";import"./touch-nhsbzi5z.js";import"./QSlideTransition-d_caXKTk.js";const ee={class:"flex items-center justify-between q-pa-md bg-white"},se={style:{"max-width":"720px"},class:"row q-col-gutter-sm"},oe={class:"col-xs-12 col-sm-9"},re={class:"col-xs-12 col-sm-9"},le={class:"col-xs-12 col-sm-9"},ie={class:"col-xs-12 col-sm-9"},te={class:"col-xs-12 col-sm-9"},ae={class:"col-xs-12 col-sm-9"},de={class:"col-xs-12 col-sm-9"},ne={class:"col-xs-12 col-sm-9"},me={class:"col-xs-12"},ue={class:"col-xs-12 flex q-gutter-sm"},ke=Object.assign({layout:_},{__name:"Create",props:["userRoles","offices"],setup(p){const c=h(),s=H({name:"",email:"",mobile:"",roles:[],office:null,designation:"",password:"",password_confirmation:""}),D=J(()=>s.roles.some(t=>t.value==="Manager"||t.value==="Viewer")),A=t=>{s.transform(e=>{var a;return{...e,office_id:(a=e==null?void 0:e.office)==null?void 0:a.value,roles:e.roles.map(n=>n.value)}}).post(route("user.store"),{onStart:e=>c.loading.show(),onFinish:e=>c.loading.hide()})},G=t=>{window.history.back()};return(t,e)=>(R(),K(Z,{class:"container",padding:""},{default:u(()=>[r("div",ee,[r("div",null,[e[11]||(e[11]=r("div",{class:"stitle"},"Create User",-1)),i(I,{class:"text-dark"},{default:u(()=>[i(m,{class:"cursor-pointer",icon:"dashboard",label:"Dashboard",onClick:e[0]||(e[0]=a=>t.$inertia.get(t.route("dashboard")))}),i(m,{class:"cursor-pointer",label:"User Accounts",onClick:e[1]||(e[1]=a=>t.$inertia.get(t.route("user.index")))}),i(m,{class:"cursor-pointer",label:"Go Back",onClick:G})]),_:1})])]),e[20]||(e[20]=r("br",null,null,-1)),i(Y,{onSubmit:A,class:"bg-white q-pa-md"},{default:u(()=>{var a,n,g,f,v,b,w,x,V,q,Q,k,S,y,C,U,B,$,P,N,E,F,O,M;return[r("div",se,[e[13]||(e[13]=r("div",{class:"col-xs-12 col-sm-3"},[r("div",{class:"text-label q-mt-md"},"Name")],-1)),r("div",oe,[i(d,{modelValue:o(s).name,"onUpdate:modelValue":e[2]||(e[2]=l=>o(s).name=l),error:!!((a=o(s).errors)!=null&&a.name),"error-message":(g=(n=o(s).errors)==null?void 0:n.name)==null?void 0:g.toString(),outlined:"",dense:"","item-aligned":"",rules:[l=>l!==""||"Name is required"]},null,8,["modelValue","error","error-message","rules"])]),e[14]||(e[14]=r("div",{class:"col-xs-12 col-sm-3"},[r("div",{class:"text-label q-mt-md"},"Designation")],-1)),r("div",re,[i(d,{modelValue:o(s).designation,"onUpdate:modelValue":e[3]||(e[3]=l=>o(s).designation=l),error:!!((f=o(s).errors)!=null&&f.designation),"error-message":(b=(v=o(s).errors)==null?void 0:v.designation)==null?void 0:b.toString(),outlined:"",dense:"","item-aligned":""},null,8,["modelValue","error","error-message"])]),e[15]||(e[15]=r("div",{class:"col-xs-12 col-sm-3"},[r("div",{class:"text-label q-mt-md"},"Mobile")],-1)),r("div",le,[i(d,{modelValue:o(s).mobile,"onUpdate:modelValue":e[4]||(e[4]=l=>o(s).mobile=l),mask:"##########",error:!!((w=o(s).errors)!=null&&w.mobile),"error-message":(V=(x=o(s).errors)==null?void 0:x.mobile)==null?void 0:V.toString(),outlined:"",dense:"","item-aligned":"",rules:[l=>l!==""||"Mobile is required"]},null,8,["modelValue","error","error-message","rules"])]),e[16]||(e[16]=r("div",{class:"col-xs-12 col-sm-3"},[r("div",{class:"text-label q-mt-md"},"Email")],-1)),r("div",ie,[i(d,{modelValue:o(s).email,"onUpdate:modelValue":e[5]||(e[5]=l=>o(s).email=l),type:"email",error:!!((q=o(s).errors)!=null&&q.email),"error-message":(k=(Q=o(s).errors)==null?void 0:Q.email)==null?void 0:k.toString(),outlined:"",dense:"","item-aligned":"",rules:[l=>l!==""||"Email is required"]},null,8,["modelValue","error","error-message","rules"])]),e[17]||(e[17]=r("div",{class:"col-xs-12 col-sm-3"},[r("div",{class:"text-label q-mt-md"},"Role")],-1)),r("div",te,[i(z,{modelValue:o(s).roles,"onUpdate:modelValue":e[6]||(e[6]=l=>o(s).roles=l),error:!!((S=o(s).errors)!=null&&S.roles),options:p.userRoles,multiple:"","use-chips":"","error-message":(C=(y=o(s).errors)==null?void 0:y.roles)==null?void 0:C.toString(),outlined:"",dense:"","item-aligned":""},null,8,["modelValue","error","options","error-message"])]),D.value?(R(),L(W,{key:0},[e[12]||(e[12]=r("div",{class:"col-xs-12 col-sm-3"},[r("div",{class:"text-label q-mt-md"},"Office")],-1)),r("div",ae,[i(z,{modelValue:o(s).office,"onUpdate:modelValue":e[7]||(e[7]=l=>o(s).office=l),error:!!((U=o(s).errors)!=null&&U.office),"error-message":($=(B=o(s).errors)==null?void 0:B.office)==null?void 0:$.toString(),options:p.offices,rules:[l=>!!l||"Office is required"],clearable:"","no-error-icon":"",outlined:"",dense:"","item-aligned":""},null,8,["modelValue","error","error-message","options","rules"])])],64)):T("",!0),e[18]||(e[18]=r("div",{class:"col-xs-12 col-sm-3"},[r("div",{class:"text-label q-mt-md"},"Password")],-1)),r("div",de,[i(d,{modelValue:o(s).password,"onUpdate:modelValue":e[8]||(e[8]=l=>o(s).password=l),type:"password",error:!!((P=o(s).errors)!=null&&P.password),"error-message":(E=(N=o(s).errors)==null?void 0:N.password)==null?void 0:E.toString(),outlined:"",dense:"","item-aligned":"",rules:[l=>l!==""||"Password is required"]},null,8,["modelValue","error","error-message","rules"])]),e[19]||(e[19]=r("div",{class:"col-xs-12 col-sm-3"},[r("div",{class:"text-label q-mt-md"},"Password Confirmation")],-1)),r("div",ne,[i(d,{modelValue:o(s).password_confirmation,"onUpdate:modelValue":e[9]||(e[9]=l=>o(s).password_confirmation=l),type:"password",error:!!((F=o(s).errors)!=null&&F.password_confirmation),"error-message":(M=(O=o(s).errors)==null?void 0:O.password_confirmation)==null?void 0:M.toString(),outlined:"",dense:"","item-aligned":"",rules:[l=>l!==""||"Password Confirmation is required",l=>l===o(s).password||"Password confirmation does not match password"]},null,8,["modelValue","error","error-message","rules"])]),r("div",me,[i(X,{class:"q-my-md"})]),r("div",ue,[i(j,{class:"sized-btn",type:"submit",color:"btn-primary",label:"Save"}),i(j,{class:"sized-btn",color:"negative",outline:"",label:"Cancel",onClick:e[10]||(e[10]=l=>t.$inertia.get(t.route("user.index")))})])])]}),_:1})]),_:1,__:[20]}))}});export{ke as default};
