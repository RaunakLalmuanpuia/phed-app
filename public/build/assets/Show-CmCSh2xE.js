import{Q as _t,a as ut}from"./QBreadcrumbs-DraDP7zF.js";import{a as bt,Q as yt}from"./QLayout-T0AkPtrj.js";import{r as gt,c as rt,bw as vt,d as f,o as m,w as t,e as i,i as e,y as k,z as w,A as xt,D as kt,t as o,g as y,h as s,u as C,f as _,Q as wt,F as M,v as L,q as p,p as qt,bt as Dt}from"./app-BXWKz8m6.js";import{d as Qt,Q as mt,a as r,b as d}from"./format-C-gRaPJk.js";import{Q as Et}from"./QMarkupTable-BHOaC8hO.js";import{Q as Ct,a as pt}from"./QTimeline-Bao-lN-N.js";import{F as Nt}from"./FrontendLayout-mC6BJo4k.js";import{u as Tt}from"./useUtils-DvRR5i1J.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./date-C7kRv4CT.js";const St={class:"flex items-center justify-between q-pa-md bg-white"},Bt={class:"row q-col-gutter-md"},Mt={class:"col-12 col-md-4"},Lt={class:"column items-center q-gutter-sm"},Pt={class:"stitle"},Rt={class:"q-mt-lg full-width"},At={class:"col-12 col-md-8"},$t={key:0,class:"text-grey-7 text-center q-pa-md italic"},jt={key:1},Ft={class:"row q-col-gutter-md q-mt-sm"},Ut={class:"q-pa-sm"},Vt={class:"q-pa-sm"},It={class:"q-pa-sm"},Ot={class:"q-pa-sm"},zt={key:0},Ht={class:"row q-col-gutter-md"},Wt={class:"col-12 col-md-6"},Gt={key:0,class:"text-grey-7 text-center q-pa-md italic"},Jt={key:0},Kt={class:"flex items-center justify-between"},Xt={key:0},Yt={key:1,class:"text-grey-7 text-center q-pa-md italic"},Zt={class:"col-12 col-md-6"},ht={key:0},te={class:"subtitle"},ee={class:"text-label"},le={class:"row items-center q-gutter-sm"},ae={key:1,class:"text-grey-7 text-center q-pa-md italic"},be=Object.assign({layout:Nt},{__name:"Show",props:["data"],setup(a){const{formatDate:q}=Tt(),T=a,S=gt(""),N=rt(()=>{var c;return(c=T.data)!=null&&c.documents?T.data.documents.filter(l=>{var u,b,v;const g=S.value.toLowerCase();return((u=l.name)==null?void 0:u.toLowerCase().includes(g))||((v=(b=l.type)==null?void 0:b.name)==null?void 0:v.toLowerCase().includes(g))}):[]}),B=rt(()=>{var c;return[...((c=T.data)==null?void 0:c.transfers)||[]].sort((l,g)=>new Date(l.transfer_date)-new Date(g.transfer_date))}),ft=async c=>{try{const l=await Dt.get(route("bio.download-engagement-card",c.id),{responseType:"blob"}),g=window.URL.createObjectURL(new Blob([l.data],{type:"application/pdf"})),u=document.createElement("a");u.href=g,u.setAttribute("download",`EngagementCard_${c.card_no}.pdf`),document.body.appendChild(u),u.click(),u.remove()}catch{$q.notify({type:"negative",message:"Failed to download PDF."})}},ct=c=>{window.history.back()};return(c,l)=>{const g=vt("Deletion");return m(),f(yt,{class:"container q-pa-md",padding:""},{default:t(()=>[i("div",St,[i("div",null,[l[2]||(l[2]=i("div",{class:"stitle"},"Employee Bio",-1)),e(_t,{class:"text-dark"},{default:t(()=>[e(ut,{class:"cursor-pointer",onClick:l[0]||(l[0]=u=>c.$inertia.get(c.route("home"))),icon:"dashboard",label:"Home"}),e(ut,{class:"cursor-pointer",label:"Go Back",onClick:ct})]),_:1})])]),l[40]||(l[40]=i("br",null,null,-1)),e(k,{flat:""},{default:t(()=>[e(w,null,{default:t(()=>[i("div",Bt,[i("div",Mt,[e(k,{class:"q-pa-md"},{default:t(()=>{var u,b,v,D,P,R;return[i("div",Lt,[e(xt,{size:"96px"},{default:t(()=>{var Q,E;return[(Q=a.data)!=null&&Q.avatar?(m(),f(bt,{key:0,src:`/storage/${(E=a.data)==null?void 0:E.avatar}`},null,8,["src"])):(m(),f(kt,{key:1,name:"person",color:"primary"}))]}),_:1}),i("div",Pt,o(a.data.name),1),e(Qt,{color:((b=(u=a.data)==null?void 0:u.employment_type)==null?void 0:b.trim())==="Deleted"?"red-6":"grey-6","text-color":"white",class:"stitle",label:((D=(v=a.data)==null?void 0:v.employment_type)==null?void 0:D.trim())==="MR"?"Muster Roll Employee":((R=(P=a.data)==null?void 0:P.employment_type)==null?void 0:R.trim())==="PE"?"Provisional Employee":"Deleted Employee",style:{padding:"8px"},rounded:""},null,8,["color","label"]),i("div",Rt,[e(mt,{class:"rounded-borders"},{default:t(()=>{var Q,E,A,$,j,F,U,V,I,O,z,H,W,G,J,K,X,Y,Z,h,tt,et,lt,at,st,dt,nt,it,ot;return[e(r,null,{default:t(()=>[e(d,{class:"text-label"},{default:t(()=>l[3]||(l[3]=[s("Details")])),_:1,__:[3]})]),_:1}),e(r,null,{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[4]||(l[4]=[s("Employee Code:")])),_:1,__:[4]}),e(d,{class:"text-label"},{default:t(()=>{var n;return[s(o((n=a.data)==null?void 0:n.employee_code),1)]}),_:1})]),_:1}),e(r,null,{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[5]||(l[5]=[s("Name:")])),_:1,__:[5]}),e(d,{class:"text-label"},{default:t(()=>{var n;return[s(o((n=a.data)==null?void 0:n.name),1)]}),_:1})]),_:1}),e(r,null,{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[6]||(l[6]=[s("Email:")])),_:1,__:[6]}),e(d,{class:"text-label"},{default:t(()=>[s(o(a.data.email),1)]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[7]||(l[7]=[s("Contact:")])),_:1,__:[7]}),e(d,{class:"text-label"},{default:t(()=>{var n;return[s(o((n=a.data)==null?void 0:n.mobile),1)]}),_:1})]),_:1}),e(r,null,{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[8]||(l[8]=[s("Parent Name:")])),_:1,__:[8]}),e(d,{class:"text-label"},{default:t(()=>{var n;return[s(o((n=a.data)==null?void 0:n.parent_name),1)]}),_:1})]),_:1}),e(r,null,{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[9]||(l[9]=[s("Date of Birth:")])),_:1,__:[9]}),e(d,{class:"text-label"},{default:t(()=>[s(o(C(q)(a.data.date_of_birth)),1)]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[10]||(l[10]=[s("Address:")])),_:1,__:[10]}),e(d,{class:"text-label"},{default:t(()=>{var n;return[s(o(((n=a.data)==null?void 0:n.address)??"N/A"),1)]}),_:1})]),_:1}),e(r,null,{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[11]||(l[11]=[s("Education Qln.:")])),_:1,__:[11]}),e(d,{class:"text-label"},{default:t(()=>{var n;return[s(o((n=a.data)==null?void 0:n.educational_qln),1)]}),_:1})]),_:1}),e(r,null,{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[12]||(l[12]=[s("Technical Qln.:")])),_:1,__:[12]}),e(d,{class:"text-label"},{default:t(()=>{var n;return[s(o((n=a.data)==null?void 0:n.technical_qln),1)]}),_:1})]),_:1}),((E=(Q=a.data)==null?void 0:Q.employment_type)==null?void 0:E.trim())==="PE"||(A=a.data)!=null&&A.designation&&(($=a.data)==null?void 0:$.designation)!=="null"?(m(),f(r,{key:0},{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[13]||(l[13]=[s("Designation:")])),_:1,__:[13]}),e(d,{class:"text-label"},{default:t(()=>{var n;return[s(o((n=a.data)==null?void 0:n.designation),1)]}),_:1})]),_:1})):y("",!0),((F=(j=a.data)==null?void 0:j.employment_type)==null?void 0:F.trim())==="MR"||(U=a.data)!=null&&U.post_assigned&&((V=a.data)==null?void 0:V.post_assigned)!=="null"?(m(),f(r,{key:1},{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[14]||(l[14]=[s("Post/Work Assigned:")])),_:1,__:[14]}),e(d,{class:"text-label"},{default:t(()=>{var n;return[s(o((n=a.data)==null?void 0:n.post_assigned),1)]}),_:1})]),_:1})):y("",!0),e(r,null,{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[15]||(l[15]=[s("Office:")])),_:1,__:[15]}),e(d,{class:"text-label"},{default:t(()=>{var n,x;return[s(o((x=(n=a.data)==null?void 0:n.office)==null?void 0:x.name),1)]}),_:1})]),_:1}),e(r,null,{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[16]||(l[16]=[s("Office Type:")])),_:1,__:[16]}),e(d,{class:"text-label"},{default:t(()=>{var n,x;return[s(o((x=(n=a.data)==null?void 0:n.office)==null?void 0:x.type),1)]}),_:1})]),_:1}),e(r,null,{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[17]||(l[17]=[s("Workplace:")])),_:1,__:[17]}),e(d,{class:"text-label"},{default:t(()=>{var n;return[s(o((n=a.data)==null?void 0:n.name_of_workplace),1)]}),_:1})]),_:1}),e(r,null,{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[18]||(l[18]=[s("Date of Initial Engagement:")])),_:1,__:[18]}),e(d,{class:"text-label"},{default:t(()=>{var n;return[s(o(C(q)((n=a.data)==null?void 0:n.date_of_engagement)||"N/A"),1)]}),_:1})]),_:1}),((O=(I=a.data)==null?void 0:I.employment_type)==null?void 0:O.trim())==="PE"||(z=a.data)!=null&&z.designation&&((H=a.data)==null?void 0:H.designation)!=="null"?(m(),f(r,{key:2},{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[19]||(l[19]=[s("Engagement Card No. :")])),_:1,__:[19]}),e(d,{class:"text-label"},{default:t(()=>{var n;return[s(o((n=a.data)==null?void 0:n.engagement_card_no),1)]}),_:1})]),_:1})):y("",!0),((G=(W=a.data)==null?void 0:W.employment_type)==null?void 0:G.trim())==="MR"||(J=a.data)!=null&&J.post_assigned&&((K=a.data)==null?void 0:K.post_assigned)!=="null"?(m(),f(r,{key:3},{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[20]||(l[20]=[s("Post Selected:")])),_:1,__:[20]}),e(d,{class:"text-label"},{default:t(()=>{var n;return[s(o((n=a.data)==null?void 0:n.post_per_qualification),1)]}),_:1})]),_:1})):y("",!0),((Y=(X=a.data)==null?void 0:X.employment_type)==null?void 0:Y.trim())==="MR"||(Z=a.data)!=null&&Z.post_assigned&&((h=a.data)==null?void 0:h.post_assigned)!=="null"?(m(),f(r,{key:4},{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[21]||(l[21]=[s("Skill Category:")])),_:1,__:[21]}),e(d,{class:"text-label"},{default:t(()=>{var n;return[s(o((n=a.data)==null?void 0:n.skill_category),1)]}),_:1})]),_:1})):y("",!0),((et=(tt=a.data)==null?void 0:tt.employment_type)==null?void 0:et.trim())==="MR"||(lt=a.data)!=null&&lt.post_assigned&&((at=a.data)==null?void 0:at.post_assigned)!=="null"?(m(),f(r,{key:5},{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[22]||(l[22]=[s("Skill at Present:")])),_:1,__:[22]}),e(d,{class:"text-label"},{default:t(()=>{var n;return[s(o((n=a.data)==null?void 0:n.skill_at_present),1)]}),_:1})]),_:1})):y("",!0),((dt=(st=a.data)==null?void 0:st.employment_type)==null?void 0:dt.trim())==="MR"&&((nt=a.data)!=null&&nt.scheme_id)||(it=a.data)!=null&&it.post_assigned&&((ot=a.data)==null?void 0:ot.post_assigned)!=="null"?(m(),f(r,{key:6},{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[23]||(l[23]=[s("Scheme:")])),_:1,__:[23]}),e(d,{class:"text-label"},{default:t(()=>{var n,x;return[s(o((x=(n=a.data)==null?void 0:n.scheme)==null?void 0:x.name),1)]}),_:1})]),_:1})):y("",!0)]}),_:1})])])]}),_:1})]),i("div",At,[e(k,{class:"q-pa-md"},{default:t(()=>[e(w,{class:"flex items-center justify-between"},{default:t(()=>l[24]||(l[24]=[i("div",{class:"stitle text-lg font-bold"},"Uploaded Documents",-1)])),_:1,__:[24]}),e(w,null,{default:t(()=>[N.value.length===0?(m(),_("div",$t," No documents uploaded ")):y("",!0),N.value.length>0?(m(),_("div",jt,[i("div",Ft,[e(wt,{modelValue:S.value,"onUpdate:modelValue":l[1]||(l[1]=u=>S.value=u),dense:"",outlined:"",label:"Search by document type...",class:"col-12 col-sm-6"},null,8,["modelValue"])]),e(Et,{flat:"",dense:"",class:"q-ma-sm"},{default:t(()=>[l[26]||(l[26]=i("thead",null,[i("tr",{class:"text-left"},[i("th",null,"Type"),i("th",null,"Mime Type"),i("th",null,"Upload Date"),i("th",null,"Actions")])],-1)),i("tbody",null,[(m(!0),_(M,null,L(N.value,u=>{var b;return m(),_("tr",{key:u.id,class:"text-left"},[i("td",Ut,o(((b=u.type)==null?void 0:b.name)||"—"),1),i("td",Vt,o(u.mime),1),i("td",It,o(C(q)(u.upload_date)),1),i("td",Ot,[e(p,{icon:"visibility",flat:"",dense:"",color:"primary",round:"",href:`/storage/${u.path}`,target:"_blank",title:"View Document"},null,8,["href"]),e(p,{icon:"download",flat:"",dense:"",round:"",color:"primary",href:`/storage/${u.path}`,download:"",title:"Download Document"},null,8,["href"])])])}),128)),N.value.length===0?(m(),_("tr",zt,l[25]||(l[25]=[i("td",{colspan:"5",class:"text-center text-grey"},"No documents found",-1)]))):y("",!0)])]),_:1,__:[26]})])):y("",!0)]),_:1})]),_:1}),i("div",Ht,[i("div",Wt,[e(k,{class:"q-mt-md"},{default:t(()=>[l[34]||(l[34]=i("div",{class:"flex items-center justify-between q-pa-md bg-white"},[i("div",null,[i("div",{class:"stitle"},"Remuneration Detail")])],-1)),e(w,null,{default:t(()=>[a.data.remuneration_detail?(m(),f(mt,{key:1,class:"q-mt-sm"},{default:t(()=>[e(r,null,{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[27]||(l[27]=[s("Remuneration:")])),_:1,__:[27]}),e(d,{class:"text-label"},{default:t(()=>[s(" ₹ "+o(a.data.remuneration_detail.remuneration.toLocaleString()),1)]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[28]||(l[28]=[s("Pay Matrix:")])),_:1,__:[28]}),e(d,{class:"text-label"},{default:t(()=>[s(o(a.data.remuneration_detail.pay_matrix??"N/A"),1)]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[29]||(l[29]=[s("Medical Allowance (%):")])),_:1,__:[29]}),e(d,{class:"text-label"},{default:t(()=>[s(o(a.data.remuneration_detail.medical_percentage),1)]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[30]||(l[30]=[s("Medical Allowance:")])),_:1,__:[30]}),e(d,{class:"text-label"},{default:t(()=>[s(" ₹ "+o(a.data.remuneration_detail.medical_amount.toLocaleString()),1)]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[31]||(l[31]=[s("Total:")])),_:1,__:[31]}),e(d,{class:"text-label"},{default:t(()=>[s(" ₹ "+o(a.data.remuneration_detail.total.toLocaleString()),1)]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[32]||(l[32]=[s("Monthly Remuneration:")])),_:1,__:[32]}),e(d,{class:"text-label"},{default:t(()=>[s(" ₹ "+o(a.data.remuneration_detail.round_total.toLocaleString()),1)]),_:1})]),_:1}),e(qt,{spaced:""}),e(r,null,{default:t(()=>[e(d,{side:"",class:"subtitle"},{default:t(()=>l[33]||(l[33]=[s("Date of next Increment:")])),_:1,__:[33]}),e(d,{class:"text-label"},{default:t(()=>[s(o(C(q)(a.data.remuneration_detail.next_increment_date)),1)]),_:1})]),_:1})]),_:1})):(m(),_("div",Gt," No remuneration data available. "))]),_:1})]),_:1,__:[34]}),e(k,{class:"q-mt-md"},{default:t(()=>[l[38]||(l[38]=i("div",{class:"flex items-center justify-between q-pa-md bg-white"},[i("div",null,[i("div",{class:"stitle"},"Transfer History")])],-1)),e(w,null,{default:t(()=>[B.value.length>0?(m(),_("div",Jt,[e(Ct,{color:"primary",class:"q-pa-md"},{default:t(()=>[(m(!0),_(M,null,L(B.value,(u,b)=>(m(),f(pt,{key:u.id,title:C(q)(u.transfer_date),icon:b===B.value.length-1?"flag":"swap_horiz"},{subtitle:t(()=>[i("div",Kt,[i("span",null,"Transfer #"+o(b+1),1)])]),default:t(()=>{var v,D;return[i("div",null,[l[35]||(l[35]=s(" From ")),i("strong",null,o(((v=u.old_office)==null?void 0:v.name)||"Unknown Office"),1),l[36]||(l[36]=s(" to ")),i("strong",null,o(((D=u.new_office)==null?void 0:D.name)||"Unknown Office"),1)]),u.supporting_document?(m(),_("div",Xt,[l[37]||(l[37]=s(" Transfer Order: ")),e(p,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${u.supporting_document}`,target:"_blank"},null,8,["href"]),e(p,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${u.supporting_document}`,target:"_blank",download:""},null,8,["href"])])):y("",!0)]}),_:2},1032,["title","icon"]))),128))]),_:1})])):(m(),_("div",Yt," No transfer history found "))]),_:1})]),_:1,__:[38]})]),i("div",Zt,[e(k,{class:"q-mt-md"},{default:t(()=>[l[39]||(l[39]=i("div",{class:"flex items-center justify-between q-pa-md bg-white"},[i("div",null,[i("div",{class:"stitle"},"Engagement Cards")])],-1)),e(w,null,{default:t(()=>[a.data.engagement_card&&a.data.engagement_card.length?(m(),_("div",ht,[(m(!0),_(M,null,L(a.data.engagement_card,u=>(m(),f(r,{key:u.id,class:"q-mb-md"},{default:t(()=>[e(d,null,{default:t(()=>[i("div",te,"Card No: "+o(u.card_no),1),i("div",ee,"Fiscal: "+o(u.fiscal_year),1)]),_:2},1024),e(d,{side:""},{default:t(()=>[i("div",le,[e(p,{dense:"",color:"primary",icon:"download",onClick:b=>ft(u)},null,8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))])):(m(),_("div",ae," No engagement card generated. "))]),_:1})]),_:1,__:[39]}),a.data.employment_type==="Deleted"?(m(),f(g,{key:0,deletion:a.data.deletion_detail,canEditDelete:c.canEditDelete},null,8,["deletion","canEditDelete"])):y("",!0)])])])])]),_:1})]),_:1})]),_:1,__:[40]})}}});export{be as default};
