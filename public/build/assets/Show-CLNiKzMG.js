import{Q as Nt,a as ut}from"./QBreadcrumbs-CUvbUl_B.js";import{b as zt,a as Qt,Q as Ft}from"./QLayout-B-Z5v4n4.js";import{J as ht,K as Be,L as _t,M as Fe,r as Q,c as L,m as ze,l as xt,N as Ce,R as It,n as A,D as Te,O as Mt,P as Ht,S as tt,T as lt,H as Le,U as Me,V as Xe,k as ue,X as kt,Y as Wt,Z as Kt,I as Ue,x as he,f as R,o as f,i as t,w as a,z as U,e as n,d as V,g as B,q as E,Q as te,F as Y,v as oe,t as C,p as Se,y as H,_ as pe,h as b,$ as de,u as x,a0 as Ee,a1 as Yt,a2 as Jt,a3 as Ye,a4 as Gt,a5 as Xt,a6 as Zt,a7 as el,a8 as dt,a9 as ct,aa as tl,ab as ll,W as Ze,ac as wt,ad as al,ae as Ct,af as qt,ag as nl,E as $t,G as ol,ah as sl,ai as ft,aj as il,ak as rl,al as ul,am as dl,an as cl,b as mt,A as fl}from"./app-DDxW4MHl.js";import{C as De,v as ml,b as gt,u as gl,p as vt,c as vl,d as pl,e as yl,r as pt,s as bl,Q as at,a as F,f as S,g as hl,_ as _l,h as xl}from"./BackendLayout-BofK0v97.js";import{r as kl,Q as Qe}from"./QSelect-DjuhhCpR.js";import{Q as wl,u as Cl,a as ql,b as $l}from"./use-fullscreen-iipArlqA.js";import{Q as Ae}from"./QFile-BsXZ40Xz.js";import{u as _e}from"./use-quasar-n4g0NheL.js";import{u as Pe}from"./useUtils-CZLTdSjk.js";import{_ as Tt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as yt}from"./touch-BX5KY6oJ.js";import{Q as St}from"./QForm-O8JBlGR5.js";import"./date-De_v8V5X.js";let Tl=0;const Sl=["click","keydown"],Dl={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Tl++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function El(e,l,o,d){const u=ht(_t,Be);if(u===Be)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Be;const{proxy:g}=Fe(),c=Q(null),h=Q(null),r=Q(null),s=L(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),i=L(()=>u.currentModel.value===e.name),m=L(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(i.value===!0?" q-tab--active"+(u.tabProps.value.activeClass?" "+u.tabProps.value.activeClass:"")+(u.tabProps.value.activeColor?` text-${u.tabProps.value.activeColor}`:"")+(u.tabProps.value.activeBgColor?` bg-${u.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&u.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||u.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),D=L(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(u.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),q=L(()=>e.disable===!0||u.hasFocus.value===!0||i.value===!1&&u.hasActiveTab.value===!0?-1:e.tabindex||0);function T(P,J){var N;if(J!==!0&&(P==null?void 0:P.qAvoidFocus)!==!0&&((N=c.value)==null||N.focus()),e.disable!==!0){u.updateModel({name:e.name}),o("click",P);return}}function p(P){Ht(P,[13,32])?T(P,!0):tt(P)!==!0&&P.keyCode>=35&&P.keyCode<=40&&P.altKey!==!0&&P.metaKey!==!0&&u.onKbdNavigate(P.keyCode,g.$el)===!0&&lt(P),o("keydown",P)}function w(){const P=u.tabProps.value.narrowIndicator,J=[],N=A("div",{ref:r,class:["q-tab__indicator",u.tabProps.value.indicatorClass]});e.icon!==void 0&&J.push(A(Te,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&J.push(A("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&J.push(e.alertIcon!==void 0?A(Te,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):A("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),P===!0&&J.push(N);const ae=[A("div",{class:"q-focus-helper",tabindex:-1,ref:c}),A("div",{class:D.value},Mt(l.default,J))];return P===!1&&ae.push(N),ae}const _={name:L(()=>e.name),rootRef:h,tabIndicatorRef:r,routeData:d};ze(()=>{u.unregisterTab(_)}),xt(()=>{u.registerTab(_)});function y(P,J){const N={ref:h,class:m.value,tabindex:q.value,role:"tab","aria-selected":i.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:T,onKeydown:p,...J};return Ce(A(P,N,w()),[[It,s.value]])}return{renderTab:y,$tabs:u}}const je=Le({name:"QTab",props:Dl,emits:Sl,setup(e,{slots:l,emit:o}){const{renderTab:d}=El(e,l,o);return()=>d("div")}});function Rl(e,l,o){const d=o===!0?["left","right"]:["top","bottom"];return`absolute-${l===!0?d[0]:d[1]}${e?` text-${e}`:""}`}const Vl=["left","center","right","justify"],Ol=Le({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Vl.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:l,emit:o}){const{proxy:d}=Fe(),{$q:u}=d,{registerTick:g}=Me(),{registerTick:c}=Me(),{registerTick:h}=Me(),{registerTimeout:r,removeTimeout:s}=Xe(),{registerTimeout:i,removeTimeout:m}=Xe(),D=Q(null),q=Q(null),T=Q(e.modelValue),p=Q(!1),w=Q(!0),_=Q(!1),y=Q(!1),P=[],J=Q(0),N=Q(!1);let ae=null,ne=null,se;const ie=L(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Rl(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),ce=L(()=>{const $=J.value,j=T.value;for(let z=0;z<$;z++)if(P[z].name.value===j)return!0;return!1}),qe=L(()=>`q-tabs__content--align-${p.value===!0?"left":y.value===!0?"justify":e.align}`),Re=L(()=>`q-tabs row no-wrap items-center q-tabs--${p.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),Ve=L(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+qe.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),ye=L(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),fe=L(()=>e.vertical!==!0&&u.lang.rtl===!0),re=L(()=>kl===!1&&fe.value===!0);ue(fe,me),ue(()=>e.modelValue,$=>{xe({name:$,setCurrent:!0,skipEmit:!0})}),ue(()=>e.outsideArrows,be);function xe({name:$,setCurrent:j,skipEmit:z}){T.value!==$&&(z!==!0&&e["onUpdate:modelValue"]!==void 0&&o("update:modelValue",$),(j===!0||e["onUpdate:modelValue"]===void 0)&&(O(T.value,$),T.value=$))}function be(){g(()=>{D.value&&ke({width:D.value.offsetWidth,height:D.value.offsetHeight})})}function ke($){if(ye.value===void 0||q.value===null)return;const j=$[ye.value.container],z=Math.min(q.value[ye.value.scroll],Array.prototype.reduce.call(q.value.children,(Z,W)=>Z+(W[ye.value.content]||0),0)),X=j>0&&z>j;p.value=X,X===!0&&c(me),y.value=j<parseInt(e.breakpoint,10)}function O($,j){const z=$!=null&&$!==""?P.find(Z=>Z.name.value===$):null,X=j!=null&&j!==""?P.find(Z=>Z.name.value===j):null;if(Ie===!0)Ie=!1;else if(z&&X){const Z=z.tabIndicatorRef.value,W=X.tabIndicatorRef.value;ae!==null&&(clearTimeout(ae),ae=null),Z.style.transition="none",Z.style.transform="none",W.style.transition="none",W.style.transform="none";const M=Z.getBoundingClientRect(),le=W.getBoundingClientRect();W.style.transform=e.vertical===!0?`translate3d(0,${M.top-le.top}px,0) scale3d(1,${le.height?M.height/le.height:1},1)`:`translate3d(${M.left-le.left}px,0,0) scale3d(${le.width?M.width/le.width:1},1,1)`,h(()=>{ae=setTimeout(()=>{ae=null,W.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",W.style.transform="none"},70)})}X&&p.value===!0&&G(X.rootRef.value)}function G($){const{left:j,width:z,top:X,height:Z}=q.value.getBoundingClientRect(),W=$.getBoundingClientRect();let M=e.vertical===!0?W.top-X:W.left-j;if(M<0){q.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(M),me();return}M+=e.vertical===!0?W.height-Z:W.width-z,M>0&&(q.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(M),me())}function me(){const $=q.value;if($===null)return;const j=$.getBoundingClientRect(),z=e.vertical===!0?$.scrollTop:Math.abs($.scrollLeft);fe.value===!0?(w.value=Math.ceil(z+j.width)<$.scrollWidth-1,_.value=z>0):(w.value=z>0,_.value=e.vertical===!0?Math.ceil(z+j.height)<$.scrollHeight:Math.ceil(z+j.width)<$.scrollWidth)}function K($){ne!==null&&clearInterval(ne),ne=setInterval(()=>{ee($)===!0&&v()},5)}function we(){K(re.value===!0?Number.MAX_SAFE_INTEGER:0)}function ge(){K(re.value===!0?0:Number.MAX_SAFE_INTEGER)}function v(){ne!==null&&(clearInterval(ne),ne=null)}function k($,j){const z=Array.prototype.filter.call(q.value.children,le=>le===j||le.matches&&le.matches(".q-tab.q-focusable")===!0),X=z.length;if(X===0)return;if($===36)return G(z[0]),z[0].focus(),!0;if($===35)return G(z[X-1]),z[X-1].focus(),!0;const Z=$===(e.vertical===!0?38:37),W=$===(e.vertical===!0?40:39),M=Z===!0?-1:W===!0?1:void 0;if(M!==void 0){const le=fe.value===!0?-1:1,$e=z.indexOf(j)+M*le;return $e>=0&&$e<X&&(G(z[$e]),z[$e].focus({preventScroll:!0})),!0}}const I=L(()=>re.value===!0?{get:$=>Math.abs($.scrollLeft),set:($,j)=>{$.scrollLeft=-j}}:e.vertical===!0?{get:$=>$.scrollTop,set:($,j)=>{$.scrollTop=j}}:{get:$=>$.scrollLeft,set:($,j)=>{$.scrollLeft=j}});function ee($){const j=q.value,{get:z,set:X}=I.value;let Z=!1,W=z(j);const M=$<W?-1:1;return W+=M*5,W<0?(Z=!0,W=0):(M===-1&&W<=$||M===1&&W>=$)&&(Z=!0,W=$),X(j,W),me(),Z}function ve($,j){for(const z in $)if($[z]!==j[z])return!1;return!0}function He(){let $=null,j={matchedLen:0,queryDiff:9999,hrefLen:0};const z=P.filter(M=>{var le;return((le=M.routeData)==null?void 0:le.hasRouterLink.value)===!0}),{hash:X,query:Z}=d.$route,W=Object.keys(Z).length;for(const M of z){const le=M.routeData.exact.value===!0;if(M.routeData[le===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:$e,query:We,matched:Bt,href:Ut}=M.routeData.resolvedLink.value,Ke=Object.keys(We).length;if(le===!0){if($e!==X||Ke!==W||ve(Z,We)===!1)continue;$=M.name.value;break}if($e!==""&&$e!==X||Ke!==0&&ve(We,Z)===!1)continue;const Oe={matchedLen:Bt.length,queryDiff:W-Ke,hrefLen:Ut.length-$e.length};if(Oe.matchedLen>j.matchedLen){$=M.name.value,j=Oe;continue}else if(Oe.matchedLen!==j.matchedLen)continue;if(Oe.queryDiff<j.queryDiff)$=M.name.value,j=Oe;else if(Oe.queryDiff!==j.queryDiff)continue;Oe.hrefLen>j.hrefLen&&($=M.name.value,j=Oe)}if($===null&&P.some(M=>M.routeData===void 0&&M.name.value===T.value)===!0){Ie=!1;return}xe({name:$,setCurrent:!0})}function Pt($){if(s(),N.value!==!0&&D.value!==null&&$.target&&typeof $.target.closest=="function"){const j=$.target.closest(".q-tab");j&&D.value.contains(j)===!0&&(N.value=!0,p.value===!0&&G(j))}}function jt(){r(()=>{N.value=!1},30)}function Ne(){st.avoidRouteWatcher===!1?i(He):m()}function ot(){if(se===void 0){const $=ue(()=>d.$route.fullPath,Ne);se=()=>{$(),se=void 0}}}function Lt($){P.push($),J.value++,be(),$.routeData===void 0||d.$route===void 0?i(()=>{if(p.value===!0){const j=T.value,z=j!=null&&j!==""?P.find(X=>X.name.value===j):null;z&&G(z.rootRef.value)}}):(ot(),$.routeData.hasRouterLink.value===!0&&Ne())}function At($){P.splice(P.indexOf($),1),J.value--,be(),se!==void 0&&$.routeData!==void 0&&(P.every(j=>j.routeData===void 0)===!0&&se(),Ne())}const st={currentModel:T,tabProps:ie,hasFocus:N,hasActiveTab:ce,registerTab:Lt,unregisterTab:At,verifyRouteModel:Ne,updateModel:xe,onKbdNavigate:k,avoidRouteWatcher:!1};kt(_t,st);function it(){ae!==null&&clearTimeout(ae),v(),se==null||se()}let rt,Ie;return ze(it),Wt(()=>{rt=se!==void 0,it()}),Kt(()=>{rt===!0&&(ot(),Ie=!0,Ne()),be()}),()=>A("div",{ref:D,class:Re.value,role:"tablist",onFocusin:Pt,onFocusout:jt},[A(zt,{onResize:ke}),A("div",{ref:q,class:Ve.value,onScroll:me},Ue(l.default)),A(Te,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(w.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||u.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:we,onTouchstartPassive:we,onMouseupPassive:v,onMouseleavePassive:v,onTouchendPassive:v}),A(Te,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(_.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||u.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:ge,onTouchstartPassive:ge,onMouseupPassive:v,onMouseleavePassive:v,onTouchendPassive:v})])}}),Pl={key:0,class:"text-grey-7 text-center q-pa-md italic"},jl={key:1},Ll={class:"row q-col-gutter-md q-mt-sm"},Al={class:"q-pa-sm"},Bl={class:"q-pa-sm"},Ul={class:"q-pa-sm"},Nl={class:"q-pa-sm"},zl={key:0},Ql={key:0,class:"text-grey-7 text-center q-pa-md italic"},Fl={key:1,class:"flex flex-col gap-6"},Il={class:"flex flex-wrap justify-between items-center mb-4"},Ml={class:"text-gray-600"},Hl={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4"},Wl={class:"text-gray-500"},Kl={class:"font-semibold mb-1"},Yl={__name:"Document",props:["data","office","documentTypes","canDeleteDocument","canApproveDocumentEdit","canRequestDocumentEdit"],setup(e){const l=e,o=_e(),d=Q(""),u=Q(!1),g=L(()=>{var T;return(T=l.data)!=null&&T.documents?l.data.documents.filter(p=>{var _,y,P;const w=d.value.toLowerCase();return((_=p.name)==null?void 0:_.toLowerCase().includes(w))||((P=(y=p.type)==null?void 0:y.name)==null?void 0:P.toLowerCase().includes(w))}):[]}),c=L(()=>!Object.values(s.files).some(T=>T));function h(T){return new Date(T).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}const r=L(()=>{var T,p;return((p=(T=l.data.document_request)==null?void 0:T.slice(-1)[0])==null?void 0:p.approval_status)==="pending"}),s=he({files:{}}),i=()=>{s.post(route("document.request",l.data),{onSuccess:()=>{s.reset("files"),u.value=!1,o.notify({type:"positive",message:"Document Request Submitted",position:"bottom"})},onError:T=>{Object.values(T).forEach(p=>{o.notify({type:"negative",message:p,position:"bottom"})})}})},m=T=>{s.post(route("document.approve",T),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),u.value=!1,s.reset(),o.notify({type:"positive",message:"Document Approved",position:"bottom"})},onError:p=>{Object.values(p).forEach(w=>{o.notify({type:"negative",message:w,position:"bottom"})})}})},D=T=>{s.post(route("document.reject",T),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),u.value=!1,s.reset(),o.notify({type:"negative",message:"Transfer Rejected",position:"bottom"})},onError:p=>{Object.values(p).forEach(w=>{o.notify({type:"negative",message:w,position:"bottom"})})}})},q=T=>{var p;o.dialog({title:"Confirm",message:`Are you sure you want to delete "${(p=T.type)==null?void 0:p.name}"?`,cancel:!0,persistent:!0}).onOk(()=>{s.delete(route("document.destroy",T),{preserveScroll:!0,onSuccess:()=>{o.notify({type:"positive",message:"Document deleted successfully."})},onError:w=>{Object.values(w).forEach(_=>{o.notify({type:"negative",message:_,position:"bottom"})})}})})};return(T,p)=>(f(),R(Y,null,[t(H,{class:"q-mt-md"},{default:a(()=>[t(U,{class:"flex items-center justify-between"},{default:a(()=>[p[3]||(p[3]=n("div",{class:"stitle text-lg font-bold"},"Uploaded Documents",-1)),e.canRequestDocumentEdit?(f(),V(E,{key:0,label:"Request Document Update",color:"primary",disable:r.value,onClick:p[0]||(p[0]=w=>u.value=!0)},null,8,["disable"])):B("",!0)]),_:1,__:[3]}),t(U,null,{default:a(()=>[g.value.length===0?(f(),R("div",Pl," No documents uploaded ")):B("",!0),g.value.length>0?(f(),R("div",jl,[n("div",Ll,[t(te,{modelValue:d.value,"onUpdate:modelValue":p[1]||(p[1]=w=>d.value=w),dense:"",outlined:"",label:"Search by document type...",class:"col-12 col-sm-6"},null,8,["modelValue"])]),t(wl,{flat:"",dense:"",class:"q-ma-sm"},{default:a(()=>[p[5]||(p[5]=n("thead",null,[n("tr",{class:"text-left"},[n("th",null,"Type"),n("th",null,"Mime Type"),n("th",null,"Upload Date"),n("th",null,"Actions")])],-1)),n("tbody",null,[(f(!0),R(Y,null,oe(g.value,w=>{var _;return f(),R("tr",{key:w.id,class:"text-left"},[n("td",Al,C(((_=w.type)==null?void 0:_.name)||"—"),1),n("td",Bl,C(w.mime),1),n("td",Ul,C(h(w.upload_date)),1),n("td",Nl,[t(E,{icon:"visibility",flat:"",dense:"",color:"primary",round:"",href:`/storage/${w.path}`,target:"_blank",title:"View Document"},null,8,["href"]),t(E,{icon:"download",flat:"",dense:"",round:"",color:"primary",href:`/storage/${w.path}`,download:"",title:"Download Document"},null,8,["href"]),e.canDeleteDocument?(f(),V(E,{key:0,icon:"delete",flat:"",dense:"",round:"",color:"red",onClick:y=>q(w),download:"",title:"Download Document"},null,8,["onClick"])):B("",!0)])])}),128)),g.value.length===0?(f(),R("tr",zl,p[4]||(p[4]=[n("td",{colspan:"5",class:"text-center text-grey"},"No documents found",-1)]))):B("",!0)])]),_:1,__:[5]})])):B("",!0)]),_:1}),t(Se),t(U,null,{default:a(()=>[e.data.document_request.length===0?(f(),R("div",Ql," No Document update request found. ")):(f(),R("div",Fl,[(f(!0),R(Y,null,oe(e.data.document_request,w=>(f(),V(H,{key:w.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:a(()=>[t(U,null,{default:a(()=>[n("div",Il,[n("div",null,[p[6]||(p[6]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:pe(["ml-1 font-medium capitalize",{"text-yellow-600":w.approval_status==="pending","text-green-600":w.approval_status==="approved","text-red-600":w.approval_status==="rejected"}])},C(w.approval_status),3)]),n("div",Ml,[p[7]||(p[7]=n("b",null,"Requested On:",-1)),b(" "+C(h(w.request_date)),1)])]),n("div",null,[p[8]||(p[8]=n("b",{class:"block mb-3 text-gray-700"},"Documents",-1)),n("div",Hl,[(f(!0),R(Y,null,oe(w.files,_=>(f(),R("div",{key:_.id,class:"mb-2"},[n("div",Wl,[b(C(_.document_type.name)+": ",1),t(E,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${_.path}`,target:"_blank"},null,8,["href"]),t(E,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${_.path}`,target:"_blank",download:""},null,8,["href"])])]))),128))])])]),_:2},1024),w.approval_status==="pending"&&e.canApproveDocumentEdit?(f(),V(de,{key:0,align:"right",class:"px-4 pb-4"},{default:a(()=>[t(E,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:_=>m(w.id)},null,8,["onClick"]),t(E,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:_=>D(w.id)},null,8,["onClick"])]),_:2},1024)):B("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}),t(Ee,{modelValue:u.value,"onUpdate:modelValue":p[2]||(p[2]=w=>u.value=w)},{default:a(()=>[t(H,{style:{"min-width":"600px"}},{default:a(()=>[t(U,null,{default:a(()=>p[9]||(p[9]=[n("div",{class:"text-lg font-bold"},"Request Document Update",-1)])),_:1,__:[9]}),t(U,null,{default:a(()=>[(f(!0),R(Y,null,oe(e.documentTypes,w=>(f(),R("div",{key:w.id,class:"mb-4"},[n("div",Kl,C(w.name),1),t(Ae,{modelValue:x(s).files[w.id],"onUpdate:modelValue":_=>x(s).files[w.id]=_,filled:"",dense:"",label:"Choose file",accept:".pdf,.jpg,.jpeg,.png"},null,8,["modelValue","onUpdate:modelValue"])]))),128))]),_:1}),t(de,{align:"right"},{default:a(()=>[Ce(t(E,{flat:"",label:"Cancel",color:"grey"},null,512),[[De]]),t(E,{label:"Submit Request",color:"primary",loading:x(s).processing,disable:c.value,onClick:i},null,8,["loading","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Jl={key:0,class:"text-grey-7 text-center q-pa-md italic"},Gl={key:1,class:"flex flex-col gap-6"},Xl={class:"flex flex-wrap justify-between items-center mb-4"},Zl={class:"text-gray-600"},ea={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4"},ta={class:"text-gray-500"},la={class:"text-gray-800 font-bold"},aa={class:"text-gray-500"},na={class:"text-gray-800 font-bold"},oa={class:"text-gray-500"},sa={__name:"TransferRequest",props:["data","office"],setup(e){const{formatDate:l}=Pe(),o=_e(),d=Q(!1),u=he({}),g=h=>{u.post(route("transfer.approve",h),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),d.value=!1,u.reset(),o.notify({type:"success",message:"Transfer Approved",position:"bottom"})},onError:r=>{Object.values(r).forEach(s=>{o.notify({type:"negative",message:s,position:"bottom"})})}})},c=h=>{u.post(route("transfer.reject",h),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),d.value=!1,u.reset(),o.notify({type:"negative",message:"Transfer Rejected",position:"bottom"})},onError:r=>{Object.values(r).forEach(s=>{o.notify({type:"negative",message:s,position:"bottom"})})}})};return(h,r)=>(f(),V(H,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:a(()=>[t(U,{class:"flex items-center justify-between"},{default:a(()=>r[0]||(r[0]=[n("div",{class:"stitle text-lg font-bold"},"Transfer Request",-1)])),_:1,__:[0]}),t(Se),t(U,null,{default:a(()=>[e.data.transfer_requests.length===0?(f(),R("div",Jl," No transfer requests found. ")):(f(),R("div",Gl,[(f(!0),R(Y,null,oe(e.data.transfer_requests,s=>(f(),V(H,{key:s.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:a(()=>[t(U,null,{default:a(()=>{var i,m;return[n("div",Xl,[n("div",null,[r[1]||(r[1]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:pe(["ml-1 font-medium capitalize",{"text-yellow-600":s.approval_status==="pending","text-green-600":s.approval_status==="approved","text-red-600":s.approval_status==="rejected"}])},C(s.approval_status),3)]),n("div",Zl,[r[2]||(r[2]=n("b",null,"Requested On:",-1)),b(" "+C(x(l)(s.request_date)),1)])]),n("div",null,[r[6]||(r[6]=n("b",{class:"block mb-3 text-gray-700"},"Transfer Details",-1)),n("div",ea,[n("div",null,[n("div",ta,[r[3]||(r[3]=b(" Current Office: ")),n("span",la,C(((i=s.current_office)==null?void 0:i.name)||"—"),1)])]),n("div",null,[n("div",aa,[r[4]||(r[4]=b(" Requested Office: ")),n("span",na,C(((m=s.requested_office)==null?void 0:m.name)||"—"),1)])]),n("div",null,[n("div",oa,[r[5]||(r[5]=b(" Transfer Order: ")),t(E,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${s.supporting_document}`,target:"_blank"},null,8,["href"]),t(E,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${s.supporting_document}`,target:"_blank",download:""},null,8,["href"])])])])])]}),_:2},1024),s.approval_status==="pending"?(f(),V(de,{key:0,align:"right",class:"px-4 pb-4"},{default:a(()=>[t(E,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:i=>g(s.id)},null,8,["onClick"]),t(E,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:i=>c(s.id)},null,8,["onClick"])]),_:2},1024)):B("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}))}},ia=Tt(sa,[["__scopeId","data-v-89ce476a"]]),et=Le({name:"QTooltip",inheritAttrs:!1,props:{...gl,...Gt,...Ye,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...Ye.transitionShow,default:"jump-down"},transitionHide:{...Ye.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:gt},self:{type:String,default:"top middle",validator:gt},offset:{type:Array,default:()=>[14,14],validator:ml},scrollTarget:Jt,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Yt],setup(e,{slots:l,emit:o,attrs:d}){let u,g;const c=Fe(),{proxy:{$q:h}}=c,r=Q(null),s=Q(!1),i=L(()=>vt(e.anchor,h.lang.rtl)),m=L(()=>vt(e.self,h.lang.rtl)),D=L(()=>e.persistent!==!0),{registerTick:q,removeTick:T}=Me(),{registerTimeout:p}=Xe(),{transitionProps:w,transitionStyle:_}=Xt(e),{localScrollTarget:y,changeScrollEvent:P,unconfigureScrollTarget:J}=vl(e,O),{anchorEl:N,canShow:ae,anchorEvents:ne}=pl({showing:s,configureAnchorEl:ke}),{show:se,hide:ie}=Zt({showing:s,canShow:ae,handleShow:Ve,handleHide:ye,hideOnRouteChange:D,processOnMount:!0});Object.assign(ne,{delayShow:xe,delayHide:be});const{showPortal:ce,hidePortal:qe,renderPortal:Re}=el(c,r,me,"tooltip");if(h.platform.is.mobile===!0){const K={anchorEl:N,innerRef:r,onClickOutside(ge){return ie(ge),ge.target.classList.contains("q-dialog__backdrop")&&lt(ge),!0}},we=L(()=>e.modelValue===null&&e.persistent!==!0&&s.value===!0);ue(we,ge=>{(ge===!0?yl:pt)(K)}),ze(()=>{pt(K)})}function Ve(K){ce(),q(()=>{g=new MutationObserver(()=>re()),g.observe(r.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),re(),O()}),u===void 0&&(u=ue(()=>h.screen.width+"|"+h.screen.height+"|"+e.self+"|"+e.anchor+"|"+h.lang.rtl,re)),p(()=>{ce(!0),o("show",K)},e.transitionDuration)}function ye(K){T(),qe(),fe(),p(()=>{qe(!0),o("hide",K)},e.transitionDuration)}function fe(){g!==void 0&&(g.disconnect(),g=void 0),u!==void 0&&(u(),u=void 0),J(),dt(ne,"tooltipTemp")}function re(){bl({targetEl:r.value,offset:e.offset,anchorEl:N.value,anchorOrigin:i.value,selfOrigin:m.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function xe(K){if(h.platform.is.mobile===!0){yt(),document.body.classList.add("non-selectable");const we=N.value,ge=["touchmove","touchcancel","touchend","click"].map(v=>[we,v,"delayHide","passiveCapture"]);ct(ne,"tooltipTemp",ge)}p(()=>{se(K)},e.delay)}function be(K){h.platform.is.mobile===!0&&(dt(ne,"tooltipTemp"),yt(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),p(()=>{ie(K)},e.hideDelay)}function ke(){if(e.noParentEvent===!0||N.value===null)return;const K=h.platform.is.mobile===!0?[[N.value,"touchstart","delayShow","passive"]]:[[N.value,"mouseenter","delayShow","passive"],[N.value,"mouseleave","delayHide","passive"]];ct(ne,"anchor",K)}function O(){if(N.value!==null||e.scrollTarget!==void 0){y.value=tl(N.value,e.scrollTarget);const K=e.noParentEvent===!0?re:ie;P(y.value,K)}}function G(){return s.value===!0?A("div",{...d,ref:r,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",d.class],style:[d.style,_.value],role:"tooltip"},Ue(l.default)):null}function me(){return A(ll,w.value,G)}return ze(fe),Object.assign(c.proxy,{updatePosition:re}),Re}}),ra={key:0,class:"text-grey-7 text-center q-pa-md italic"},ua={key:1,class:"flex flex-col gap-6"},da={class:"flex flex-wrap justify-between items-center mb-4"},ca={class:""},fa={class:"text-gray-600"},ma={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg"},ga={class:"flex flex-col"},va={class:"font-bold"},pa={class:"text-gray-800"},ya={class:"font-bold"},ba={class:"font-bold"},ha={key:0,class:"mt-6"},_a={class:"space-y-2"},xa={class:"flex items-center space-x-2 text-gray-700"},ka={class:"flex space-x-1"},wa={__name:"EditRequest",props:["data"],setup(e){const{formatDate:l}=Pe(),o=h=>{Ze.post(route("edit.approve",h))},d=h=>{Ze.post(route("edit.reject",h))},u=h=>{try{return JSON.parse(h)}catch{return{}}},g={name:"Name",date_of_birth:"Date of Birth",parent_name:"Parent's Name",employment_type:"Employment Type",designation:"Designation",educational_qln:"Educational Qualification",technical_qln:"Technical Qualification",name_of_workplace:"Workplace Name",post_per_qualification:"Post per Qualification",date_of_engagement:"Date of Engagement",skill_category:"Skill Category",skill_at_present:"Skill at Present"},c=h=>{try{return h?JSON.parse(h):{}}catch{return{}}};return(h,r)=>(f(),V(H,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:a(()=>[t(U,null,{default:a(()=>r[0]||(r[0]=[n("div",{class:"stitle text-lg font-bold"},"Edit Requests",-1)])),_:1,__:[0]}),t(Se),t(U,null,{default:a(()=>[e.data.edit_requests.length===0?(f(),R("div",ra," No edit requests found. ")):(f(),R("div",ua,[(f(!0),R(Y,null,oe(e.data.edit_requests,s=>(f(),V(H,{key:s.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:a(()=>[t(U,null,{default:a(()=>[n("div",da,[n("div",ca,[r[1]||(r[1]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:pe(["ml-1 font-medium capitalize",{"text-yellow-600":s.approval_status==="pending","text-green-600":s.approval_status==="approved","text-red-600":s.approval_status==="rejected"}])},C(s.approval_status),3)]),n("div",fa,[r[2]||(r[2]=n("b",null,"Requested On:",-1)),b(" "+C(x(l)(s.request_date)),1)])]),n("div",null,[r[5]||(r[5]=n("b",{class:"block mb-3 text-gray-700"},"Requested Changes",-1)),n("div",ma,[(f(!0),R(Y,null,oe(u(s.requested_changes),(i,m)=>(f(),R("div",{key:m},[n("div",ga,[n("span",va,C(g[m]??m)+": ",1),n("span",pa,[r[3]||(r[3]=b(" From: ")),n("span",ya,C(m==="date_of_birth"?x(l)(c(s.previous_data)[m]):c(s.previous_data)[m]||"—"),1),r[4]||(r[4]=b(" To: ")),n("span",ba,C(m==="date_of_birth"||m==="date_of_engagement"?x(l)(i):i),1)])])]))),128))])]),s.attachments&&s.attachments.length>0?(f(),R("div",ha,[r[8]||(r[8]=n("b",{class:"block mb-3 text-gray-700"},"Attached Documents",-1)),n("div",_a,[(f(!0),R(Y,null,oe(s.attachments,i=>{var m;return f(),R("div",{key:i.id,class:"flex items-center justify-between p-3 border rounded-lg bg-gray-50 hover:bg-gray-100 transition"},[n("div",xa,[t(Te,{name:"attach_file",size:"16px",class:"text-gray-500"}),n("span",null,[n("b",null,C(((m=i.type)==null?void 0:m.name)||"Unknown Type"),1)])]),n("div",ka,[t(E,{flat:"",dense:"",round:"",color:"primary",icon:"visibility",href:`/storage/${i.path}`,target:"_blank"},{default:a(()=>[t(et,null,{default:a(()=>r[6]||(r[6]=[b("View")])),_:1,__:[6]})]),_:2},1032,["href"]),t(E,{flat:"",dense:"",round:"",color:"primary",icon:"download",href:`/storage/${i.path}`,download:""},{default:a(()=>[t(et,null,{default:a(()=>r[7]||(r[7]=[b("Download")])),_:1,__:[7]})]),_:2},1032,["href"])])])}),128))])])):B("",!0)]),_:2},1024),s.approval_status==="pending"?(f(),V(de,{key:0,align:"right",class:"px-4 pb-4"},{default:a(()=>[t(E,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:i=>o(s.id)},null,8,["onClick"]),t(E,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:i=>d(s.id)},null,8,["onClick"])]),_:2},1024)):B("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}))}},Ca={key:0,class:"text-grey-7 text-center q-pa-md italic"},qa={key:1,class:"flex flex-col gap-6"},$a={class:"flex flex-wrap justify-between items-center mb-4"},Ta={class:"text-gray-600"},Sa={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg"},Da={class:"text-gray-500"},Ea={class:"text-gray-800 font-bold"},Ra={class:"text-gray-500"},Va={class:"text-gray-800 font-bold"},Oa={class:"text-gray-500"},Pa={class:"text-gray-800 font-bold"},ja={class:"text-gray-500"},La={class:"text-gray-800 font-bold"},Aa={key:0},Ba={class:"text-gray-500"},Ua={__name:"DeletionRequest",props:["data"],setup(e){const{formatDate:l}=Pe(),o=_e(),d=he({});function u(h){try{return JSON.parse(h.reason)}catch{return{}}}const g=h=>{d.post(route("deletion.approve",h),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),d.reset(),o.notify({type:"success",message:"Deletion Approved",position:"bottom"})},onError:r=>{Object.values(r).forEach(s=>{o.notify({type:"negative",message:s,position:"bottom"})})}})},c=h=>{d.post(route("deletion.reject",h),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),d.reset(),o.notify({type:"negative",message:"Deletion Rejected",position:"bottom"})},onError:r=>{Object.values(r).forEach(s=>{o.notify({type:"negative",message:s,position:"bottom"})})}})};return(h,r)=>(f(),V(H,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:a(()=>[t(U,null,{default:a(()=>r[0]||(r[0]=[n("div",{class:"stitle text-lg font-bold"},"Deletion Requests",-1)])),_:1,__:[0]}),t(Se),t(U,null,{default:a(()=>[e.data.deletion_requests.length===0?(f(),R("div",Ca," No deletion requests found. ")):(f(),R("div",qa,[(f(!0),R(Y,null,oe(e.data.deletion_requests,s=>(f(),V(H,{key:s.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:a(()=>[t(U,null,{default:a(()=>[n("div",$a,[n("div",null,[r[1]||(r[1]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:pe(["ml-1 font-medium capitalize",{"text-yellow-600":s.approval_status==="pending","text-green-600":s.approval_status==="approved","text-red-600":s.approval_status==="rejected"}])},C(s.approval_status),3)]),n("div",Ta,[r[2]||(r[2]=n("b",null,"Requested On:",-1)),b(" "+C(x(l)(s.request_date)),1)])]),n("div",null,[r[8]||(r[8]=n("b",{class:"block mb-3 text-gray-700"},"Reason Details",-1)),n("div",Sa,[n("div",null,[n("div",Da,[r[3]||(r[3]=b(" Reason: ")),n("span",Ea,C(u(s).reason),1)])]),n("div",null,[n("div",Ra,[r[4]||(r[4]=b(" Year: ")),n("span",Va,C(u(s).year),1)])]),n("div",null,[n("div",Oa,[r[5]||(r[5]=b(" Remark: ")),n("span",Pa,C(u(s).remark),1)])]),n("div",null,[n("div",ja,[r[6]||(r[6]=b(" Seniority List: ")),n("span",La,C(u(s).seniority_list),1)])]),u(s).supporting_document?(f(),R("div",Aa,[n("div",Ba,[r[7]||(r[7]=b(" Supporting Document: ")),t(E,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${u(s).supporting_document}`,target:"_blank"},null,8,["href"]),t(E,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${u(s).supporting_document}`,target:"_blank",download:""},null,8,["href"])])])):B("",!0)])])]),_:2},1024),s.approval_status==="pending"?(f(),V(de,{key:0,align:"right",class:"px-4 pb-4"},{default:a(()=>[t(E,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:i=>g(s.id)},null,8,["onClick"]),t(E,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:i=>c(s.id)},null,8,["onClick"])]),_:2},1024)):B("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}))}},Na={key:0,class:"text-grey-7 text-center q-pa-md italic"},za={key:1,class:"flex flex-col gap-6"},Qa={class:"flex flex-wrap justify-between items-center mb-4"},Fa={class:"text-gray-600"},Ia={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg"},Ma={class:"text-gray-500"},Ha={class:"text-gray-800 font-bold"},Wa={class:"text-gray-500"},Ka={class:"text-gray-800 font-bold"},Ya={class:"text-gray-500"},Ja={class:"text-gray-800 font-bold"},Ga={class:"text-gray-500"},Xa={class:"text-gray-800 font-bold"},Za={key:0},en={class:"text-gray-500"},tn={__name:"RequestDeletion",props:["data"],setup(e){const{formatDate:l}=Pe(),o=e,d=_e(),u=he({reason:"",seniority_list:"",year:"",remark:"",supporting_document:null}),g=L(()=>{var s,i;return((i=(s=o.data.deletion_requests)==null?void 0:s.slice(-1)[0])==null?void 0:i.approval_status)==="pending"}),c=Q(!1);function h(s){try{return JSON.parse(s.reason)}catch{return{}}}function r(){if(!u.reason){d.notify({type:"negative",message:"Reason is required",position:"bottom"});return}u.post(route("deletion.request",o.data),{preserveScroll:!0,onSuccess:()=>{d.notify({type:"positive",message:"Deletion request submitted successfully"}),c.value=!1,u.reset()},onError:s=>{Object.values(s).forEach(i=>{d.notify({type:"negative",message:i,position:"bottom"})})}})}return(s,i)=>(f(),R(Y,null,[t(H,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:a(()=>[t(U,{class:"flex items-center justify-between"},{default:a(()=>[i[8]||(i[8]=n("div",{class:"stitle text-lg font-bold"},"Request Deletion",-1)),n("div",null,[e.data.employment_type!=="Deleted"?(f(),V(E,{key:0,label:"Request Deletion",color:"negative",disable:g.value,onClick:i[0]||(i[0]=m=>c.value=!0)},null,8,["disable"])):B("",!0)])]),_:1,__:[8]}),t(Se),t(U,null,{default:a(()=>[e.data.deletion_requests.length===0?(f(),R("div",Na," No deletion requests found. ")):(f(),R("div",za,[(f(!0),R(Y,null,oe(e.data.deletion_requests,m=>(f(),V(H,{key:m.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:a(()=>[t(U,null,{default:a(()=>[n("div",Qa,[n("div",null,[i[9]||(i[9]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:pe(["ml-1 font-medium capitalize",{"text-yellow-600":m.approval_status==="pending","text-green-600":m.approval_status==="approved","text-red-600":m.approval_status==="rejected"}])},C(m.approval_status),3)]),n("div",Fa,[i[10]||(i[10]=n("b",null,"Requested On:",-1)),b(" "+C(x(l)(m.request_date)),1)])]),n("div",null,[i[16]||(i[16]=n("b",{class:"block mb-3 text-gray-700"},"Reason Details",-1)),n("div",Ia,[n("div",null,[n("div",Ma,[i[11]||(i[11]=b(" Reason: ")),n("span",Ha,C(h(m).reason),1)])]),n("div",null,[n("div",Wa,[i[12]||(i[12]=b(" Year: ")),n("span",Ka,C(h(m).year),1)])]),n("div",null,[n("div",Ya,[i[13]||(i[13]=b(" Remark: ")),n("span",Ja,C(h(m).remark),1)])]),n("div",null,[n("div",Ga,[i[14]||(i[14]=b(" Seniority List: ")),n("span",Xa,C(h(m).seniority_list),1)])]),h(m).supporting_document?(f(),R("div",Za,[n("div",en,[i[15]||(i[15]=b(" Supporting Document: ")),t(E,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${h(m).supporting_document}`,target:"_blank"},null,8,["href"]),t(E,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${h(m).supporting_document}`,target:"_blank",download:""},null,8,["href"])])])):B("",!0)])])]),_:2},1024)]),_:2},1024))),128))]))]),_:1})]),_:1}),t(Ee,{modelValue:c.value,"onUpdate:modelValue":i[7]||(i[7]=m=>c.value=m)},{default:a(()=>[t(H,{style:{"min-width":"400px"}},{default:a(()=>[t(U,null,{default:a(()=>i[17]||(i[17]=[n("div",{class:"text-h6"},"Submit Deletion Request",-1)])),_:1,__:[17]}),t(U,null,{default:a(()=>[t(te,{modelValue:x(u).reason,"onUpdate:modelValue":i[1]||(i[1]=m=>x(u).reason=m),label:"Reason",type:"textarea",outlined:"",error:!!x(u).errors.reason,"error-message":x(u).errors.reason,rules:[m=>!!m||"Reason is required"]},null,8,["modelValue","error","error-message","rules"]),t(te,{modelValue:x(u).seniority_list,"onUpdate:modelValue":i[2]||(i[2]=m=>x(u).seniority_list=m),label:"Seniority List",outlined:"",class:"q-mt-sm"},null,8,["modelValue"]),t(te,{modelValue:x(u).year,"onUpdate:modelValue":i[3]||(i[3]=m=>x(u).year=m),label:"Year",type:"number",outlined:"",class:"q-mt-sm"},null,8,["modelValue"]),t(te,{modelValue:x(u).remark,"onUpdate:modelValue":i[4]||(i[4]=m=>x(u).remark=m),label:"Remark",type:"textarea",outlined:"",class:"q-mt-sm"},null,8,["modelValue"]),t(Ae,{modelValue:x(u).supporting_document,"onUpdate:modelValue":i[5]||(i[5]=m=>x(u).supporting_document=m),label:"Supporting Document",outlined:"",class:"q-mt-sm",accept:".pdf,.jpg,.jpeg,.png",error:!!x(u).errors.supporting_document,"error-message":x(u).errors.supporting_document},null,8,["modelValue","error","error-message"])]),_:1}),t(de,{align:"right"},{default:a(()=>[t(E,{flat:"",label:"Cancel",color:"grey",onClick:i[6]||(i[6]=m=>c.value=!1)}),t(E,{label:"Submit",color:"negative",onClick:r,loading:x(u).processing},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},ln={key:0,class:"text-grey-7 text-center q-pa-md italic"},an={key:1,class:"flex flex-col gap-6"},nn={class:"flex flex-wrap justify-between items-center mb-4"},on={class:""},sn={class:"text-gray-600"},rn={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg"},un={class:"flex flex-col"},dn={class:"text-gray-500"},cn={class:"text-gray-800"},fn={class:"font-bold"},mn={class:"font-bold"},gn={class:"grid grid-cols-2 gap-4 items-start relative"},vn={class:"text-sm font-bold mb-1"},pn={class:"q-mt-md"},yn={class:"text-sm font-bold mb-1"},bn={key:3,class:"border rounded p-4 bg-gray-50 q-mt-md"},hn={class:"text-sm font-bold mb-2"},_n={__name:"RequestEdit",props:["data","documentTypes"],setup(e){const{formatDate:l,educationalQualifications:o}=Pe(),d=e,u=_e(),g=Q(!1),c=he({requested_changes:{name:"",date_of_birth:"",parent_name:"",educational_qln:"",technical_qln:""},documents:{}}),h=L(()=>{var T,p;return((p=(T=d.data.edit_requests)==null?void 0:T.slice(-1)[0])==null?void 0:p.approval_status)==="pending"});ue(g,T=>{T||(c.reset(),c.clearErrors())});const r={date_of_birth:["Birth Certificate","Aadhar","EPIC","Educational Certificate"],name:["Birth Certificate","Aadhar","EPIC","Educational Certificate"],parent_name:["Birth Certificate"],educational_qln:["Educational Certificate"],technical_qln:["Technical Certificate"]},s={name:"Name",date_of_birth:"Date of Birth",parent_name:"Parent's Name",educational_qln:"Educational Qualification",technical_qln:"Technical Qualification"},i=()=>{c.reset(),c.clearErrors(),c.documents={}},m=L(()=>Object.values(c.requested_changes).some(T=>{var p;return T&&((p=T.trim)==null?void 0:p.call(T))!==""})),D=()=>{if(!m.value){u.notify({type:"warning",message:"Please enter at least one change before submitting."});return}const T=new FormData;Object.entries(c.requested_changes).forEach(([p,w])=>{w&&T.append(`requested_changes[${p}]`,w)}),Object.entries(c.documents).forEach(([p,w])=>{w&&[].concat(w).forEach(_=>{T.append(`documents[${p}][]`,_)})}),c.post(route("edit.request",d.data),{data:T,forceFormData:!0,onSuccess:()=>{g.value=!1,c.reset()},onError:p=>{Object.values(p).forEach(w=>{Array.isArray(w)?w.forEach(_=>{u.notify({type:"negative",message:_})}):u.notify({type:"negative",message:w})})}})},q=T=>{try{return JSON.parse(T)}catch{return{}}};return(T,p)=>(f(),R(Y,null,[t(H,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:a(()=>[t(U,{class:"flex items-center justify-between"},{default:a(()=>[p[2]||(p[2]=n("div",{class:"stitle text-lg font-bold"},"Request Edit",-1)),t(E,{label:"Request Edit",color:"primary",disable:h.value,onClick:p[0]||(p[0]=w=>g.value=!0)},null,8,["disable"])]),_:1,__:[2]}),t(Se),t(U,null,{default:a(()=>[e.data.edit_requests.length===0?(f(),R("div",ln," No edit requests found. ")):(f(),R("div",an,[(f(!0),R(Y,null,oe(e.data.edit_requests,w=>(f(),V(H,{key:w.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:a(()=>[t(U,null,{default:a(()=>[n("div",nn,[n("div",on,[p[3]||(p[3]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:pe(["ml-1 font-medium capitalize",{"text-yellow-600":w.approval_status==="pending","text-green-600":w.approval_status==="approved","text-red-600":w.approval_status==="rejected"}])},C(w.approval_status),3)]),n("div",sn,[p[4]||(p[4]=n("b",null,"Requested On:",-1)),b(" "+C(x(l)(w.request_date)),1)])]),n("div",null,[p[7]||(p[7]=n("b",{class:"block mb-3 text-gray-700"},"Requested Changes",-1)),n("div",rn,[(f(!0),R(Y,null,oe(q(w.requested_changes),(_,y)=>(f(),R("div",{key:y},[n("div",un,[n("span",dn,C(s[y]??y)+": ",1),n("span",cn,[p[5]||(p[5]=b(" From: ")),n("span",fn,C(y==="date_of_birth"?x(l)(q(w.previous_data)[y]):q(w.previous_data)[y]||"—"),1),p[6]||(p[6]=b(" To: ")),n("span",mn,C(y==="date_of_birth"||y==="date_of_engagement"?x(l)(_):_),1)])])]))),128))])])]),_:2},1024)]),_:2},1024))),128))]))]),_:1})]),_:1}),t(Ee,{modelValue:g.value,"onUpdate:modelValue":p[1]||(p[1]=w=>g.value=w)},{default:a(()=>[t(H,{style:{"min-width":"700px"}},{default:a(()=>[t(U,null,{default:a(()=>p[8]||(p[8]=[n("div",{class:"text-lg font-bold"},"Request Edit",-1)])),_:1,__:[8]}),t(U,null,{default:a(()=>[(f(),R(Y,null,oe(s,(w,_)=>n("div",{key:_,class:"mb-6"},[n("div",gn,[n("div",null,[n("div",vn,"Existing "+C(w)+":",1),n("div",pn,C(_==="date_of_birth"?x(l)(d.data[_]):d.data[_]||"—"),1)]),p[9]||(p[9]=n("div",{class:"absolute top-0 bottom-0 left-1/2 w-px bg-gray-300"},null,-1)),n("div",null,[n("div",yn,"New "+C(w)+":",1),_==="date_of_birth"?(f(),V(te,{key:0,modelValue:x(c).requested_changes[_],"onUpdate:modelValue":y=>x(c).requested_changes[_]=y,type:"date",outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])):_==="educational_qln"?(f(),V(Qe,{key:1,modelValue:x(c).requested_changes[_],"onUpdate:modelValue":y=>x(c).requested_changes[_]=y,options:x(o),label:"Select Qualification",outlined:"",dense:"","emit-value":"","map-options":""},null,8,["modelValue","onUpdate:modelValue","options"])):(f(),V(te,{key:2,modelValue:x(c).requested_changes[_],"onUpdate:modelValue":y=>x(c).requested_changes[_]=y,outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])),x(c).requested_changes[_]?(f(),R("div",bn,[n("div",hn," Required Documents for "+C(w)+": ",1),(f(!0),R(Y,null,oe(r[_],y=>(f(),R("div",{key:y,class:"mb-3"},[t(Ae,{filled:"",modelValue:x(c).documents[y],"onUpdate:modelValue":P=>x(c).documents[y]=P,label:y,accept:".pdf,.jpg,.jpeg,.png",clearable:"",class:"q-mt-md"},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))])):B("",!0)])]),t(Se,{spaced:"",class:"q-my-md"})])),64))]),_:1}),t(de,{align:"right"},{default:a(()=>[t(E,{flat:"",label:"Clear",color:"red",onClick:i}),Ce(t(E,{flat:"",label:"Cancel"},null,512),[[De]]),t(E,{label:"Submit",color:"primary",loading:x(c).processing,disable:!m.value,onClick:D},null,8,["loading","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},xn={key:0,class:"text-grey-7 text-center q-pa-md italic"},kn={key:1,class:"flex flex-col gap-6"},wn={class:"flex flex-wrap justify-between items-center mb-4"},Cn={class:"text-gray-600"},qn={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p- rounded-lg"},$n={class:"text-gray-500"},Tn={class:"text-gray-800 font-bold"},Sn={class:"text-gray-500"},Dn={class:"text-gray-800 font-bold"},En={class:"text-gray-500"},Rn={__name:"RequestTransfer",props:["data","office"],setup(e){const{formatDate:l}=Pe(),o=e,d=_e(),u=Q(!1),g=he({requested_office_id:"",supporting_document:null});ue(u,r=>{r||(g.reset(),g.clearErrors())});const c=L(()=>{var r,s;return((s=(r=o.data.transfer_requests)==null?void 0:r.slice(-1)[0])==null?void 0:s.approval_status)==="pending"}),h=()=>{if(!g.requested_office_id){d.notify({type:"negative",message:"Office is required",position:"bottom"});return}if(!g.supporting_document){d.notify({type:"negative",message:"Transfer Order is required",position:"bottom"});return}g.post(route("transfer.request",o.data),{onStart:()=>{d.loading.show()},onSuccess:()=>{d.loading.hide(),u.value=!1,g.reset(),d.notify({type:"positive",message:"Transfer Requested",position:"bottom"})},onFinish:()=>{d.loading.hide(),u.value=!1,g.reset()},onError:r=>{Object.values(r).forEach(s=>{d.notify({type:"negative",message:s,position:"bottom"})})}})};return(r,s)=>(f(),R(Y,null,[t(H,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:a(()=>[t(U,{class:"flex items-center justify-between"},{default:a(()=>[s[4]||(s[4]=n("div",{class:"stitle text-lg font-bold"},"Request Transfer",-1)),t(E,{label:"Request Transfer",color:"primary",disable:c.value,onClick:s[0]||(s[0]=i=>u.value=!0)},null,8,["disable"])]),_:1,__:[4]}),t(Se),t(U,null,{default:a(()=>[e.data.transfer_requests.length===0?(f(),R("div",xn," No transfer requests found. ")):(f(),R("div",kn,[(f(!0),R(Y,null,oe(e.data.transfer_requests,i=>(f(),V(H,{key:i.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:a(()=>[t(U,null,{default:a(()=>{var m,D;return[n("div",wn,[n("div",null,[s[5]||(s[5]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:pe(["ml-1 font-medium capitalize",{"text-yellow-600":i.approval_status==="pending","text-green-600":i.approval_status==="approved","text-red-600":i.approval_status==="rejected"}])},C(i.approval_status),3)]),n("div",Cn,[s[6]||(s[6]=n("b",null,"Requested On:",-1)),b(" "+C(x(l)(i.request_date)),1)])]),n("div",null,[s[10]||(s[10]=n("b",{class:"block mb-3 text-gray-700"},"Transfer Details:",-1)),n("div",qn,[n("div",null,[n("div",$n,[s[7]||(s[7]=b(" Current Office: ")),n("span",Tn,C(((m=i.current_office)==null?void 0:m.name)||"—"),1)])]),n("div",null,[n("div",Sn,[s[8]||(s[8]=b(" Requested Office: ")),n("span",Dn,C(((D=i.requested_office)==null?void 0:D.name)||"—"),1)])]),n("div",null,[n("div",En,[s[9]||(s[9]=b(" Transfer Order: ")),t(E,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${i.supporting_document}`,target:"_blank"},null,8,["href"]),t(E,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${i.supporting_document}`,target:"_blank",download:""},null,8,["href"])])])])])]}),_:2},1024)]),_:2},1024))),128))]))]),_:1})]),_:1}),t(Ee,{modelValue:u.value,"onUpdate:modelValue":s[3]||(s[3]=i=>u.value=i),persistent:""},{default:a(()=>[t(H,{style:{"min-width":"400px"}},{default:a(()=>[t(U,null,{default:a(()=>s[11]||(s[11]=[n("div",{class:"text-h6"},"Select Requested Office",-1)])),_:1,__:[11]}),t(U,null,{default:a(()=>[t(Qe,{modelValue:x(g).requested_office_id,"onUpdate:modelValue":s[1]||(s[1]=i=>x(g).requested_office_id=i),options:e.office,"option-value":"id","option-label":"name",label:"Office",dense:"",outlined:"",error:!!x(g).errors.requested_office_id,"error-message":x(g).errors.requested_office_id,rules:[i=>!!i||"Office is required"]},null,8,["modelValue","options","error","error-message","rules"]),t(Ae,{modelValue:x(g).supporting_document,"onUpdate:modelValue":s[2]||(s[2]=i=>x(g).supporting_document=i),label:"Transfer Order",outlined:"",class:"q-mt-md",error:!!x(g).errors.supporting_document,"error-message":x(g).errors.supporting_document,rules:[i=>!!i||"Transfer Order is required"],accept:".pdf,.jpg,.jpeg,.png"},null,8,["modelValue","error","error-message","rules"])]),_:1}),t(de,{align:"right"},{default:a(()=>[Ce(t(E,{flat:"",label:"Cancel",color:"negative"},null,512),[[De]]),t(E,{flat:"",label:"Submit",color:"primary",onClick:h})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Vn=Tt(Rn,[["__scopeId","data-v-6b8cea86"]]),On=Le({name:"QTimelineEntry",props:{heading:Boolean,tag:{type:String,default:"h3"},side:{type:String,default:"right",validator:e=>["left","right"].includes(e)},icon:String,avatar:String,color:String,title:String,subtitle:String,body:String},setup(e,{slots:l}){const o=ht(wt,Be);if(o===Be)return console.error("QTimelineEntry needs to be child of QTimeline"),Be;const d=L(()=>`q-timeline__entry q-timeline__entry--${e.side}`+(e.icon!==void 0||e.avatar!==void 0?" q-timeline__entry--icon":"")),u=L(()=>`q-timeline__dot text-${e.color||o.color}`),g=L(()=>o.layout==="comfortable"&&o.side==="left");return()=>{const c=al(l.default,[]);if(e.body!==void 0&&c.unshift(e.body),e.heading===!0){const s=[A("div"),A("div"),A(e.tag,{class:"q-timeline__heading-title"},c)];return A("div",{class:"q-timeline__heading"},g.value===!0?s.reverse():s)}let h;e.icon!==void 0?h=[A(Te,{class:"row items-center justify-center",name:e.icon})]:e.avatar!==void 0&&(h=[A("img",{class:"q-timeline__dot-img",src:e.avatar})]);const r=[A("div",{class:"q-timeline__subtitle"},[A("span",{},Ue(l.subtitle,[e.subtitle]))]),A("div",{class:u.value},h),A("div",{class:"q-timeline__content"},[A("h6",{class:"q-timeline__title"},Ue(l.title,[e.title]))].concat(c))];return A("li",{class:d.value},g.value===!0?r.reverse():r)}}}),Pn=Le({name:"QTimeline",props:{...Ct,color:{type:String,default:"primary"},side:{type:String,default:"right",validator:e=>["left","right"].includes(e)},layout:{type:String,default:"dense",validator:e=>["dense","comfortable","loose"].includes(e)}},setup(e,{slots:l}){const o=Fe(),d=qt(e,o.proxy.$q);kt(wt,e);const u=L(()=>`q-timeline q-timeline--${e.layout} q-timeline--${e.layout}--${e.side}`+(d.value===!0?" q-timeline--dark":""));return()=>A("ul",{class:u.value},Ue(l.default))}}),jn={class:"flex items-center justify-between q-pa-md bg-white"},Ln={class:"flex q-gutter-sm"},An={key:0},Bn={class:"flex items-center justify-between"},Un={key:0},Nn={key:1,class:"text-grey-7 text-center q-pa-md italic"},zn={key:0},Qn={key:1},Fn={__name:"Transfer",props:["data","office","canCreateTransfer","canDeleteTransfer"],setup(e){const l=e,o=_e(),d=Q(!1),u=Q(!1),g=he({old_office_id:null,new_office_id:null,transfer_date:"",is_present_transfer:!1,supporting_document:null}),c=L(()=>{var i;return[...((i=l.data)==null?void 0:i.transfers)||[]].sort((m,D)=>new Date(m.transfer_date)-new Date(D.transfer_date))});function h(i){return new Date(i).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}const r=i=>{if(!g.old_office_id){o.notify({type:"negative",message:"Old Office is required",position:"bottom"});return}if(!g.new_office_id){o.notify({type:"negative",message:"New Office is required",position:"bottom"});return}if(!g.transfer_date){o.notify({type:"negative",message:"Transfer Date is required",position:"bottom"});return}if(!g.supporting_document){o.notify({type:"negative",message:"Transfer Order is required",position:"bottom"});return}g.is_present_transfer=u.value,g.post(route("transfer.store",l.data),{onStart:()=>{o.loading.show({boxClass:"bg-grey-2 text-grey-9",spinnerColor:"primary",message:"Creating Transfer..."}),g.reset()},onFinish:()=>{o.loading.hide(),d.value=!1,g.reset()},onError:m=>{o.loading.hide(),Object.values(m).forEach(D=>{o.notify({type:"negative",message:D,position:"bottom"})})}})},s=i=>{o.dialog({title:"Confirmation",message:"Do you want to delete?",ok:"Yes",cancel:"No"}).onOk(()=>{Ze.delete(route("transfer.destroy",i),{onStart:m=>o.loading.show(),onFinish:m=>o.loading.hide(),preserveState:!1})})};return ue(u,i=>{i?(g.old_office_id=l.data.office,g.transfer_date=new Date().toISOString().split("T")[0]):(g.old_office_id=null,g.transfer_date="")}),(i,m)=>(f(),R(Y,null,[t(H,{class:"q-mt-md"},{default:a(()=>[n("div",jn,[m[8]||(m[8]=n("div",null,[n("div",{class:"stitle"},"Transfer History")],-1)),n("div",Ln,[e.canCreateTransfer?(f(),V(E,{key:0,onClick:m[0]||(m[0]=D=>d.value=!0),color:"btn-primary",icon:"add"})):B("",!0)])]),t(U,null,{default:a(()=>[c.value.length>0?(f(),R("div",An,[t(Pn,{color:"primary",class:"q-pa-md"},{default:a(()=>[(f(!0),R(Y,null,oe(c.value,(D,q)=>(f(),V(On,{key:D.id,title:h(D.transfer_date),icon:q===c.value.length-1?"flag":"swap_horiz"},{subtitle:a(()=>[n("div",Bn,[n("span",null,"Transfer #"+C(q+1),1),e.canDeleteTransfer?(f(),V(E,{key:0,icon:"delete",color:"red",flat:"",dense:"",size:"m",onClick:T=>s(D.id),title:"Delete Transfer"},null,8,["onClick"])):B("",!0)])]),default:a(()=>{var T,p;return[n("div",null,[m[9]||(m[9]=b(" From ")),n("strong",null,C(((T=D.old_office)==null?void 0:T.name)||"Unknown Office"),1),m[10]||(m[10]=b(" to ")),n("strong",null,C(((p=D.new_office)==null?void 0:p.name)||"Unknown Office"),1)]),D.supporting_document?(f(),R("div",Un,[m[11]||(m[11]=b(" Transfer Order: ")),t(E,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${D.supporting_document}`,target:"_blank"},null,8,["href"]),t(E,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${D.supporting_document}`,target:"_blank",download:""},null,8,["href"])])):B("",!0)]}),_:2},1032,["title","icon"]))),128))]),_:1})])):(f(),R("div",Nn," No transfer history found "))]),_:1})]),_:1}),t(Ee,{modelValue:d.value,"onUpdate:modelValue":m[7]||(m[7]=D=>d.value=D)},{default:a(()=>[t(H,{style:{"min-width":"400px"}},{default:a(()=>[t(U,null,{default:a(()=>m[12]||(m[12]=[n("div",{class:"stitle"},"Add Transfer",-1)])),_:1,__:[12]}),t(U,{class:"q-gutter-md"},{default:a(()=>[t(nl,{modelValue:u.value,"onUpdate:modelValue":m[1]||(m[1]=D=>u.value=D),label:"Is Present Transfer?",color:"primary"},null,8,["modelValue"]),u.value?(f(),R("div",zn,[t(te,{modelValue:e.data.office.name,"onUpdate:modelValue":m[2]||(m[2]=D=>e.data.office.name=D),label:"Old Office",dense:"",outlined:"",readonly:""},null,8,["modelValue"])])):(f(),R("div",Qn,[t(Qe,{modelValue:x(g).old_office_id,"onUpdate:modelValue":m[3]||(m[3]=D=>x(g).old_office_id=D),options:e.office,"option-value":"id","option-label":"name",label:"Old Office",dense:"",clearable:"",outlined:""},null,8,["modelValue","options"])])),t(Qe,{modelValue:x(g).new_office_id,"onUpdate:modelValue":m[4]||(m[4]=D=>x(g).new_office_id=D),options:e.office,"option-value":"id","option-label":"name",label:"New Office",dense:"",clearable:"",outlined:""},null,8,["modelValue","options"]),t(te,{modelValue:x(g).transfer_date,"onUpdate:modelValue":m[5]||(m[5]=D=>x(g).transfer_date=D),type:"date",label:"Transfer Date",dense:"",clearable:"",outlined:""},null,8,["modelValue"]),t(Ae,{modelValue:x(g).supporting_document,"onUpdate:modelValue":m[6]||(m[6]=D=>x(g).supporting_document=D),label:"Transfer Order",outlined:"",clearable:"",error:!!x(g).errors.supporting_document,"error-message":x(g).errors.supporting_document,accept:".pdf,.jpg,.jpeg,.png"},null,8,["modelValue","error","error-message"])]),_:1}),t(de,{align:"right"},{default:a(()=>[Ce(t(E,{flat:"",label:"Cancel"},null,512),[[De]]),t(E,{flat:"",label:"Submit",color:"primary",onClick:r})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},In=Le({name:"QSpace",setup(){const e=A("div",{class:"q-space"});return()=>e}}),Mn={__name:"DeletionDialog",props:{modelValue:Boolean,employee:Object},emits:["update:modelValue"],setup(e,{emit:l}){const o=_e(),d=e,u=l,g=Q(d.modelValue);ue(()=>d.modelValue,r=>g.value=r),ue(g,r=>u("update:modelValue",r));const c=he({seniority_list:"",reason:"",year:new Date().getFullYear(),remark:"",supporting_document:null});function h(){c.post(route("deletion.store",d.employee),{preserveScroll:!0,onSuccess:()=>{g.value=!1,c.reset(),o.notify({type:"positive",message:"Employee Deleted successfully."})}})}return(r,s)=>(f(),V(Ee,{modelValue:g.value,"onUpdate:modelValue":s[5]||(s[5]=i=>g.value=i)},{default:a(()=>[t(H,{style:{"min-width":"400px"}},{default:a(()=>[t(U,{class:"row items-center q-pa-sm bg-negative text-white"},{default:a(()=>[s[6]||(s[6]=n("div",{class:"text-h6"},"Employee Deletion Details",-1)),t(In),Ce(t(E,{icon:"close",flat:"",round:"",dense:""},null,512),[[De]])]),_:1,__:[6]}),t(St,{onSubmit:$t(h,["prevent"])},{default:a(()=>[t(U,{class:"q-gutter-md"},{default:a(()=>[t(te,{modelValue:x(c).seniority_list,"onUpdate:modelValue":s[0]||(s[0]=i=>x(c).seniority_list=i),label:"Seniority List",dense:"",outlined:"",type:"number"},null,8,["modelValue"]),t(te,{modelValue:x(c).reason,"onUpdate:modelValue":s[1]||(s[1]=i=>x(c).reason=i),label:"Reason",dense:"",outlined:"",required:""},null,8,["modelValue"]),t(te,{modelValue:x(c).year,"onUpdate:modelValue":s[2]||(s[2]=i=>x(c).year=i),label:"Year",dense:"",outlined:"",type:"number"},null,8,["modelValue"]),t(te,{modelValue:x(c).remark,"onUpdate:modelValue":s[3]||(s[3]=i=>x(c).remark=i),label:"Remark",type:"textarea",dense:"",outlined:""},null,8,["modelValue"]),t(Ae,{modelValue:x(c).supporting_document,"onUpdate:modelValue":s[4]||(s[4]=i=>x(c).supporting_document=i),label:"Supporting Document",dense:"",outlined:""},null,8,["modelValue"])]),_:1}),t(de,{align:"right",class:"q-pa-sm"},{default:a(()=>[Ce(t(E,{flat:"",label:"Cancel"},null,512),[[De]]),t(E,{color:"negative",label:"Submit Deletion",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},Hn={class:"flex items-center justify-between q-pa-md bg-white"},Wn={class:"flex q-gutter-sm"},Kn={__name:"Deletion",props:["deletion","canEditDelete"],setup(e){const l=_e(),o=e,d=Q(!1),u=he({reason:o.deletion.reason||"",seniority_list:o.deletion.seniority_list||"",year:o.deletion.year||"",remark:o.deletion.remark||"",supporting_document:null}),g=()=>{u.post(route("deletion.update",o.deletion),{preserveScroll:!0,onSuccess:()=>{d.value=!1,l.notify({type:"positive",message:"Deleted details updated successfully."})}})},c=h=>{window.open(h,"_blank")};return(h,r)=>(f(),R(Y,null,[t(H,{class:"q-mt-md"},{default:a(()=>[n("div",Hn,[r[8]||(r[8]=n("div",null,[n("div",{class:"stitle text-red"},"Deletion Detail")],-1)),n("div",Wn,[e.canEditDelete?(f(),V(E,{key:0,onClick:r[0]||(r[0]=s=>d.value=!0),color:"btn-primary",icon:"edit"})):B("",!0)])]),t(U,null,{default:a(()=>[t(at,{class:"q-mt-sm"},{default:a(()=>[t(F,null,{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>r[9]||(r[9]=[b("Reason:")])),_:1,__:[9]}),t(S,{class:"text-label"},{default:a(()=>[b(C(e.deletion.reason),1)]),_:1})]),_:1}),t(F,null,{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>r[10]||(r[10]=[b("Seniority List:")])),_:1,__:[10]}),t(S,{class:"text-label"},{default:a(()=>[b(C(e.deletion.seniority_list),1)]),_:1})]),_:1}),t(F,null,{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>r[11]||(r[11]=[b("Year:")])),_:1,__:[11]}),t(S,{class:"text-label"},{default:a(()=>[b(C(e.deletion.year),1)]),_:1})]),_:1}),e.deletion.remark?(f(),V(F,{key:0},{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>r[12]||(r[12]=[b("Remark:")])),_:1,__:[12]}),t(S,{class:"text-label"},{default:a(()=>[b(C(e.deletion.remark),1)]),_:1})]),_:1})):B("",!0),e.deletion.supporting_document?(f(),V(F,{key:1},{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>r[13]||(r[13]=[b("Supporting Document:")])),_:1,__:[13]}),t(S,{class:"text-label"},{default:a(()=>[t(E,{dense:"",flat:"",icon:"visibility",href:`/storage/${e.deletion.supporting_document}`,target:"_blank"},null,8,["href"])]),_:1})]),_:1})):B("",!0)]),_:1})]),_:1})]),_:1}),t(Ee,{modelValue:d.value,"onUpdate:modelValue":r[7]||(r[7]=s=>d.value=s)},{default:a(()=>[t(H,{style:{"min-width":"500px","max-width":"90vw"}},{default:a(()=>[t(U,{class:"bg-negative text-white"},{default:a(()=>r[14]||(r[14]=[n("div",{class:"text-h6"},"Edit Deletion Detail",-1)])),_:1,__:[14]}),t(St,{onSubmit:$t(g,["prevent"])},{default:a(()=>[t(U,{class:"q-gutter-md"},{default:a(()=>[t(te,{modelValue:x(u).reason,"onUpdate:modelValue":r[1]||(r[1]=s=>x(u).reason=s),label:"Reason",outlined:"",dense:"",required:""},null,8,["modelValue"]),t(te,{modelValue:x(u).seniority_list,"onUpdate:modelValue":r[2]||(r[2]=s=>x(u).seniority_list=s),label:"Seniority List",outlined:"",dense:""},null,8,["modelValue"]),t(te,{modelValue:x(u).year,"onUpdate:modelValue":r[3]||(r[3]=s=>x(u).year=s),label:"Year",outlined:"",dense:"",type:"number"},null,8,["modelValue"]),t(te,{modelValue:x(u).remark,"onUpdate:modelValue":r[4]||(r[4]=s=>x(u).remark=s),label:"Remark",outlined:"",dense:"",type:"textarea"},null,8,["modelValue"]),t(Ae,{modelValue:x(u).supporting_document,"onUpdate:modelValue":r[6]||(r[6]=s=>x(u).supporting_document=s),label:"Supporting Document",outlined:"",dense:"",accept:".pdf,.png,.jpg,.jpeg"},ol({_:2},[e.deletion.supporting_document?{name:"append",fn:a(()=>[t(E,{round:"",dense:"",flat:"",icon:"visibility",href:`/storage/${e.deletion.supporting_document}`,onClick:r[5]||(r[5]=s=>c(`/storage/${e.deletion.supporting_document}`)),class:"q-ml-sm"},null,8,["href"])]),key:"0"}:void 0]),1032,["modelValue"])]),_:1}),t(de,{align:"right"},{default:a(()=>[Ce(t(E,{flat:"",label:"Cancel"},null,512),[[De]]),t(E,{color:"primary",label:"Update",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Yn={class:"flex items-center justify-between q-pa-md bg-white"},Jn={class:"flex q-gutter-sm"},Gn={key:0,class:"text-grey-7 text-center q-pa-md italic"},Xn={class:"text-h6"},Zn={__name:"Remuneration",props:{data:Object,canCreateRemuneration:Boolean},setup(e){const l=_e(),{pay_matrix:o,formatDate:d}=Pe(),u=e,g=Q(!1),c=Q(!1),h=Q(!1),r=he({remuneration:"",pay_matrix:"",next_increment_date:""}),s=(D=!1)=>{c.value=D,D&&u.data.remuneration_detail?(r.remuneration=u.data.remuneration_detail.remuneration,r.pay_matrix=u.data.remuneration_detail.pay_matrix,r.next_increment_date=u.data.remuneration_detail.next_increment_date):r.reset(),g.value=!0,h.value=!1},i=()=>{h.value=!0},m=()=>{if(!r.remuneration){l.notify({type:"negative",message:"Remuneration amount is required",position:"bottom"});return}if(!r.next_increment_date){l.notify({type:"negative",message:"Next Increment Date is required",position:"bottom"});return}c.value?r.put(route("remuneration.update",u.data.id),{onSuccess:()=>{g.value=!1},onError:D=>{Object.values(D).forEach(q=>{l.notify({type:"negative",message:q,position:"bottom"})})}}):r.post(route("remuneration.store",u.data.id),{onSuccess:()=>{g.value=!1,r.reset()},onError:D=>{Object.values(D).forEach(q=>{l.notify({type:"negative",message:q,position:"bottom"})})}})};return(D,q)=>(f(),R(Y,null,[t(H,{class:"q-mt-md"},{default:a(()=>[n("div",Yn,[q[5]||(q[5]=n("div",null,[n("div",{class:"stitle"},"Remuneration Detail")],-1)),n("div",Jn,[e.canCreateRemuneration?(f(),V(E,{key:0,onClick:q[0]||(q[0]=T=>s(!!e.data.remuneration_detail)),color:"btn-primary",icon:e.data.remuneration_detail?"edit":"add"},null,8,["icon"])):B("",!0)])]),t(U,null,{default:a(()=>[e.data.remuneration_detail?(f(),V(at,{key:1,class:"q-mt-sm"},{default:a(()=>[t(F,null,{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>q[6]||(q[6]=[b("Remuneration:")])),_:1,__:[6]}),t(S,{class:"text-label"},{default:a(()=>[b(" ₹ "+C(e.data.remuneration_detail.remuneration.toLocaleString()),1)]),_:1})]),_:1}),t(F,null,{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>q[7]||(q[7]=[b("Pay Matrix:")])),_:1,__:[7]}),t(S,{class:"text-label"},{default:a(()=>[b(C(e.data.remuneration_detail.pay_matrix??"N/A"),1)]),_:1})]),_:1}),t(F,null,{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>q[8]||(q[8]=[b("Medical Allowance (%):")])),_:1,__:[8]}),t(S,{class:"text-label"},{default:a(()=>[b(C(e.data.remuneration_detail.medical_percentage),1)]),_:1})]),_:1}),t(F,null,{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>q[9]||(q[9]=[b("Medical Allowance:")])),_:1,__:[9]}),t(S,{class:"text-label"},{default:a(()=>[b(" ₹ "+C(e.data.remuneration_detail.medical_amount.toLocaleString()),1)]),_:1})]),_:1}),t(F,null,{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>q[10]||(q[10]=[b("Total:")])),_:1,__:[10]}),t(S,{class:"text-label"},{default:a(()=>[b(" ₹ "+C(e.data.remuneration_detail.total.toLocaleString()),1)]),_:1})]),_:1}),t(F,null,{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>q[11]||(q[11]=[b("Monthly Remuneration:")])),_:1,__:[11]}),t(S,{class:"text-label"},{default:a(()=>[b(" ₹ "+C(e.data.remuneration_detail.round_total.toLocaleString()),1)]),_:1})]),_:1}),t(Se,{spaced:""}),t(F,null,{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>q[12]||(q[12]=[b("Date of next Increment:")])),_:1,__:[12]}),t(S,{class:"text-label"},{default:a(()=>[b(C(x(d)(e.data.remuneration_detail.next_increment_date)),1)]),_:1})]),_:1})]),_:1})):(f(),R("div",Gn," No remuneration data available. "))]),_:1})]),_:1}),t(Ee,{modelValue:g.value,"onUpdate:modelValue":q[4]||(q[4]=T=>g.value=T)},{default:a(()=>[t(H,{style:{"min-width":"400px"}},{default:a(()=>[t(U,null,{default:a(()=>[n("div",Xn,C(c.value?"Edit":"Add")+" Remuneration",1)]),_:1}),t(U,{class:"q-gutter-md"},{default:a(()=>[t(te,{label:"Remuneration",type:"number",modelValue:x(r).remuneration,"onUpdate:modelValue":q[1]||(q[1]=T=>x(r).remuneration=T),outlined:"",dense:"",readonly:!h.value},{append:a(()=>[t(Te,{name:"edit",class:"cursor-pointer",onClick:i})]),_:1},8,["modelValue","readonly"]),t(Qe,{label:"Pay Matrix",options:x(o),modelValue:x(r).pay_matrix,"onUpdate:modelValue":q[2]||(q[2]=T=>x(r).pay_matrix=T),outlined:"",dense:"",readonly:!h.value},null,8,["options","modelValue","readonly"]),t(te,{label:"Next Increment Date",type:"date",modelValue:x(r).next_increment_date,"onUpdate:modelValue":q[3]||(q[3]=T=>x(r).next_increment_date=T),outlined:"",dense:"",readonly:!h.value},null,8,["modelValue","readonly"])]),_:1}),t(de,{align:"right"},{default:a(()=>[Ce(t(E,{flat:"",label:"Cancel"},null,512),[[De]]),t(E,{color:"primary",label:c.value?"Update":"Save",disable:!h.value,onClick:m},null,8,["label","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};function Dt(e,l){if(l&&e===l)return null;const o=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(o)===!0)return e;const d=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,u=d.display;return u==="block"||u==="table"?e:Dt(e.parentNode)}function Je(e,l,o){return!e||e===document.body?!1:o===!0&&e===l||(l===document?document.body:l).contains(e.parentNode)}function Et(e,l,o){if(o||(o=document.createRange(),o.selectNode(e),o.setStart(e,0)),l.count===0)o.setEnd(e,l.count);else if(l.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<l.count?l.count-=e.textContent.length:(o.setEnd(e,l.count),l.count=0);else for(let d=0;l.count!==0&&d<e.childNodes.length;d++)o=Et(e.childNodes[d],l,o);return o}const eo=/^https?:\/\//;class to{constructor(l,o){this.el=l,this.eVm=o,this._range=null}get selection(){if(this.el){const l=document.getSelection();if(Je(l.anchorNode,this.el,!0)&&Je(l.focusNode,this.el,!0))return l}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length!==0:!1}get range(){const l=this.selection;return l!=null&&l.rangeCount?l.getRangeAt(0):this._range}get parent(){const l=this.range;if(l!==null){const o=l.startContainer;return o.nodeType===document.ELEMENT_NODE?o:o.parentNode}return null}get blockParent(){const l=this.parent;return l!==null?Dt(l,this.el):null}save(l=this.range){l!==null&&(this._range=l)}restore(l=this._range){const o=document.createRange(),d=document.getSelection();l!==null?(o.setStart(l.startContainer,l.startOffset),o.setEnd(l.endContainer,l.endOffset),d.removeAllRanges(),d.addRange(o)):(d.selectAllChildren(this.el),d.collapseToEnd())}savePosition(){let l=-1,o;const d=document.getSelection(),u=this.el.parentNode;if(d.focusNode&&Je(d.focusNode,u))for(o=d.focusNode,l=d.focusOffset;o&&o!==u;)o!==this.el&&o.previousSibling?(o=o.previousSibling,l+=o.textContent.length):o=o.parentNode;this.savedPos=l}restorePosition(l=0){if(this.savedPos>0&&this.savedPos<l){const o=window.getSelection(),d=Et(this.el,{count:this.savedPos});d&&(d.collapse(!1),o.removeAllRanges(),o.addRange(d))}}hasParent(l,o){const d=o?this.parent:this.blockParent;return d!==null?d.nodeName.toLowerCase()===l.toLowerCase():!1}hasParents(l,o,d=this.parent){return d===null?!1:l.includes(d.nodeName.toLowerCase())===!0?!0:o===!0?this.hasParents(l,o,d.parentNode):!1}is(l,o){if(this.selection===null)return!1;switch(l){case"formatBlock":return o==="DIV"&&this.parent===this.el||this.hasParent(o,o==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(l)===o;case"fontName":const d=document.queryCommandValue(l);return d===`"${o}"`||d===o;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const u=document.queryCommandState(l);return o!==void 0?u===o:u}}getParentAttribute(l){return this.parent!==null?this.parent.getAttribute(l):null}can(l){if(l==="outdent")return this.hasParents(["blockquote","li"],!0);if(l==="indent")return this.hasParents(["li"],!0);if(l==="link")return this.selection!==null||this.is("link")}apply(l,o,d=sl){if(l==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(o)&&this.is(l,o)&&(l="outdent",o=null),o==="PRE"&&this.is(l,"PRE")&&(o="P");else if(l==="print"){d();const u=window.open();u.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),u.print(),u.close();return}else if(l==="link"){const u=this.getParentAttribute("href");if(u===null){const g=this.selectWord(this.selection),c=g?g.toString():"";if(!c.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=eo.test(c)?c:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(g.getRangeAt(0))}else this.eVm.editLinkUrl.value=u,this.range.selectNodeContents(this.parent),this.save();return}else if(l==="fullscreen"){this.eVm.toggleFullscreen(),d();return}else if(l==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),d();return}document.execCommand(l,!1,o),d()}selectWord(l){if(l===null||l.isCollapsed!==!0||l.modify===void 0)return l;const o=document.createRange();o.setStart(l.anchorNode,l.anchorOffset),o.setEnd(l.focusNode,l.focusOffset);const d=o.collapsed?["backward","forward"]:["forward","backward"];o.detach();const u=l.focusNode,g=l.focusOffset;return l.collapse(l.anchorNode,l.anchorOffset),l.modify("move",d[0],"character"),l.modify("move",d[1],"word"),l.extend(u,g),l.modify("extend",d[1],"character"),l.modify("extend",d[0],"word"),l}}function Rt(e,l,o){l.handler?l.handler(e,o,o.caret):o.runCmd(l.cmd,l.param)}function nt(e){return A("div",{class:"q-editor__toolbar-group"},e)}function Vt(e,l,o,d=!1){const u=d||(l.type==="toggle"?l.toggled?l.toggled(e):l.cmd&&e.caret.is(l.cmd,l.param):!1),g=[];if(l.tip&&e.$q.platform.is.desktop){const c=l.key?A("div",[A("small",`(CTRL + ${String.fromCharCode(l.key)})`)]):null;g.push(A(et,{delay:1e3},()=>[A("div",{innerHTML:l.tip}),c]))}return A(E,{...e.buttonProps.value,icon:l.icon!==null?l.icon:void 0,color:u?l.toggleColor||e.props.toolbarToggleColor:l.color||e.props.toolbarColor,textColor:u&&!e.props.toolbarPush?null:l.textColor||e.props.toolbarTextColor,label:l.label,disable:l.disable?typeof l.disable=="function"?l.disable(e):!0:!1,size:"sm",onClick(c){o==null||o(),Rt(c,l,e)}},()=>g)}function lo(e,l){const o=l.list==="only-icons";let d=l.label,u=l.icon!==null?l.icon:void 0,g,c;function h(){s.component.proxy.hide()}if(o)c=l.options.map(i=>{const m=i.type===void 0?e.caret.is(i.cmd,i.param):!1;return m&&(d=i.tip,u=i.icon!==null?i.icon:void 0),Vt(e,i,h,m)}),g=e.toolbarBackgroundClass.value,c=[nt(c)];else{const i=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,m=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,D=l.list==="no-icons";c=l.options.map(q=>{const T=q.disable?q.disable(e):!1,p=q.type===void 0?e.caret.is(q.cmd,q.param):!1;p&&(d=q.tip,u=q.icon!==null?q.icon:void 0);const w=q.htmlTip;return A(F,{active:p,activeClass:i,clickable:!0,disable:T,dense:!0,onClick(_){var y;h(),(_==null?void 0:_.qAvoidFocus)!==!0&&((y=e.contentRef.value)==null||y.focus()),e.caret.restore(),Rt(_,q,e)}},()=>[D===!0?null:A(S,{class:p?i:m,side:!0},()=>A(Te,{name:q.icon!==null?q.icon:void 0})),A(S,w?()=>A("div",{class:"text-no-wrap",innerHTML:q.htmlTip}):q.tip?()=>A("div",{class:"text-no-wrap"},q.tip):void 0)])}),g=[e.toolbarBackgroundClass.value,m]}const r=l.highlight&&d!==l.label,s=A(hl,{...e.buttonProps.value,noCaps:!0,noWrap:!0,color:r?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:r&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:l.fixedLabel?l.label:d,icon:l.fixedIcon?l.icon!==null?l.icon:void 0:u,contentClass:g,onShow:i=>e.emit("dropdownShow",i),onHide:i=>e.emit("dropdownHide",i),onBeforeShow:i=>e.emit("dropdownBeforeShow",i),onBeforeHide:i=>e.emit("dropdownBeforeHide",i)},()=>c);return s}function ao(e){if(e.caret)return e.buttons.value.filter(l=>!e.isViewingSource.value||l.find(o=>o.cmd==="viewsource")).map(l=>nt(l.map(o=>e.isViewingSource.value&&o.cmd!=="viewsource"?!1:o.type==="slot"?Ue(e.slots[o.slot]):o.type==="dropdown"?lo(e,o):Vt(e,o))))}function no(e,l,o,d={}){const u=Object.keys(d);if(u.length===0)return{};const g={default_font:{cmd:"fontName",param:e,icon:o,tip:l}};return u.forEach(c=>{const h=d[c];g[c]={cmd:"fontName",param:h,icon:o,tip:h,htmlTip:`<font face="${h}">${h}</font>`}}),g}function oo(e){if(e.caret){const l=e.props.toolbarColor||e.props.toolbarTextColor;let o=e.editLinkUrl.value;const d=()=>{e.caret.restore(),o!==e.editLinkUrl.value&&document.execCommand("createLink",!1,o===""?" ":o),e.editLinkUrl.value=null};return[A("div",{class:`q-mx-xs text-${l}`},`${e.$q.lang.editor.url}: `),A("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:o,onInput:u=>{il(u),o=u.target.value},onKeydown:u=>{if(tt(u)!==!0)switch(u.keyCode){case 13:return ft(u),d();case 27:ft(u),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),nt([A(E,{key:"qedt_btm_rem",tabindex:-1,...e.buttonProps.value,label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}}),A(E,{key:"qedt_btm_upd",...e.buttonProps.value,label:e.$q.lang.label.update,noCaps:!0,onClick:d})])]}}const so=Object.prototype.toString,Ge=Object.prototype.hasOwnProperty,io=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(e=>"[object "+e+"]"));function bt(e){if(e!==Object(e)||io.has(so.call(e))===!0||e.constructor&&Ge.call(e,"constructor")===!1&&Ge.call(e.constructor.prototype,"isPrototypeOf")===!1)return!1;let l;for(l in e);return l===void 0||Ge.call(e,l)}function Ot(){let e,l,o,d,u,g,c=arguments[0]||{},h=1,r=!1;const s=arguments.length;for(typeof c=="boolean"&&(r=c,c=arguments[1]||{},h=2),Object(c)!==c&&typeof c!="function"&&(c={}),s===h&&(c=this,h--);h<s;h++)if((e=arguments[h])!==null)for(l in e)o=c[l],d=e[l],c!==d&&(r===!0&&d&&((u=Array.isArray(d))||bt(d)===!0)?(u===!0?g=Array.isArray(o)===!0?o:[]:g=bt(o)===!0?o:{},c[l]=Ot(r,g,d)):d!==void 0&&(c[l]=d));return c}const ro=Le({name:"QEditor",props:{...Ct,...ql,modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(l=>l.length),default:()=>[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},emits:[...Cl,"update:modelValue","keydown","click","focus","blur","dropdownShow","dropdownHide","dropdownBeforeShow","dropdownBeforeHide","linkShow","linkHide"],setup(e,{slots:l,emit:o}){const{proxy:d}=Fe(),{$q:u}=d,g=qt(e,u),{inFullscreen:c,toggleFullscreen:h}=$l(),r=rl(),s=Q(null),i=Q(null),m=Q(null),D=Q(!1),q=L(()=>!e.readonly&&!e.disable);let T,p,w=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),T=window.getComputedStyle(document.body).fontFamily;const _=L(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),y=L(()=>({type:"a",flat:e.toolbarOutline!==!0&&e.toolbarPush!==!0,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!q.value,size:"sm"})),P=L(()=>{const v=u.lang.editor,k=u.iconSet.editor;return{bold:{cmd:"bold",icon:k.bold,tip:v.bold,key:66},italic:{cmd:"italic",icon:k.italic,tip:v.italic,key:73},strike:{cmd:"strikeThrough",icon:k.strikethrough,tip:v.strikethrough,key:83},underline:{cmd:"underline",icon:k.underline,tip:v.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:k.unorderedList,tip:v.unorderedList},ordered:{cmd:"insertOrderedList",icon:k.orderedList,tip:v.orderedList},subscript:{cmd:"subscript",icon:k.subscript,tip:v.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:k.superscript,tip:v.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:I=>I.caret&&!I.caret.can("link"),icon:k.hyperlink,tip:v.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:k.toggleFullscreen,tip:v.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:k.viewSource,tip:v.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:k.quote,tip:v.quote,key:81},left:{cmd:"justifyLeft",icon:k.left,tip:v.left},center:{cmd:"justifyCenter",icon:k.center,tip:v.center},right:{cmd:"justifyRight",icon:k.right,tip:v.right},justify:{cmd:"justifyFull",icon:k.justify,tip:v.justify},print:{type:"no-state",cmd:"print",icon:k.print,tip:v.print,key:80},outdent:{type:"no-state",disable:I=>I.caret&&!I.caret.can("outdent"),cmd:"outdent",icon:k.outdent,tip:v.outdent},indent:{type:"no-state",disable:I=>I.caret&&!I.caret.can("indent"),cmd:"indent",icon:k.indent,tip:v.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:k.removeFormat,tip:v.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:k.hr,tip:v.hr},undo:{type:"no-state",cmd:"undo",icon:k.undo,tip:v.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:k.redo,tip:v.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:k.heading1||k.heading,tip:v.heading1,htmlTip:`<h1 class="q-ma-none">${v.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:k.heading2||k.heading,tip:v.heading2,htmlTip:`<h2 class="q-ma-none">${v.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:k.heading3||k.heading,tip:v.heading3,htmlTip:`<h3 class="q-ma-none">${v.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:k.heading4||k.heading,tip:v.heading4,htmlTip:`<h4 class="q-ma-none">${v.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:k.heading5||k.heading,tip:v.heading5,htmlTip:`<h5 class="q-ma-none">${v.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:k.heading6||k.heading,tip:v.heading6,htmlTip:`<h6 class="q-ma-none">${v.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:k.heading,tip:v.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:k.code,htmlTip:`<code>${v.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:k.size1||k.size,tip:v.size1,htmlTip:`<font size="1">${v.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:k.size2||k.size,tip:v.size2,htmlTip:`<font size="2">${v.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:k.size3||k.size,tip:v.size3,htmlTip:`<font size="3">${v.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:k.size4||k.size,tip:v.size4,htmlTip:`<font size="4">${v.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:k.size5||k.size,tip:v.size5,htmlTip:`<font size="5">${v.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:k.size6||k.size,tip:v.size6,htmlTip:`<font size="6">${v.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:k.size7||k.size,tip:v.size7,htmlTip:`<font size="7">${v.size7}</font>`}}}),J=L(()=>{const v=e.definitions||{},k=e.definitions||e.fonts?Ot(!0,{},P.value,v,no(T,u.lang.editor.defaultFont,u.iconSet.editor.font,e.fonts)):P.value;return e.toolbar.map(I=>I.map(ee=>{if(ee.options)return{type:"dropdown",icon:ee.icon,label:ee.label,size:"sm",dense:!0,fixedLabel:ee.fixedLabel,fixedIcon:ee.fixedIcon,highlight:ee.highlight,list:ee.list,options:ee.options.map(He=>k[He])};const ve=k[ee];return ve?ve.type==="no-state"||v[ee]&&(ve.cmd===void 0||P.value[ve.cmd]&&P.value[ve.cmd].type==="no-state")?ve:Object.assign({type:"toggle"},ve):{type:"slot",slot:ee}}))}),N={$q:u,props:e,slots:l,emit:o,inFullscreen:c,toggleFullscreen:h,runCmd:me,isViewingSource:D,editLinkUrl:m,toolbarBackgroundClass:_,buttonProps:y,contentRef:i,buttons:J,setContent:G};ue(()=>e.modelValue,v=>{w!==v&&(w=v,G(v,!0))}),ue(m,v=>{o(`link${v?"Show":"Hide"}`)});const ae=L(()=>e.toolbar&&e.toolbar.length!==0),ne=L(()=>{const v={},k=I=>{I.key&&(v[I.key]={cmd:I.cmd,param:I.param})};return J.value.forEach(I=>{I.forEach(ee=>{ee.options?ee.options.forEach(k):k(ee)})}),v}),se=L(()=>c.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),ie=L(()=>`q-editor q-editor--${D.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(c.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(g.value===!0?" q-editor--dark q-dark":"")),ce=L(()=>[e.contentClass,"q-editor__content",{col:c.value,"overflow-auto":c.value||e.maxHeight}]),qe=L(()=>e.disable===!0?{"aria-disabled":"true"}:{});function Re(){if(i.value!==null){const v=`inner${D.value===!0?"Text":"HTML"}`,k=i.value[v];k!==e.modelValue&&(w=k,o("update:modelValue",k))}}function Ve(v){if(o("keydown",v),v.ctrlKey!==!0||tt(v)===!0){K();return}const k=v.keyCode,I=ne.value[k];if(I!==void 0){const{cmd:ee,param:ve}=I;lt(v),me(ee,ve,!1)}}function ye(v){K(),o("click",v)}function fe(v){if(i.value!==null){const{scrollTop:k,scrollHeight:I}=i.value;p=I-k}N.caret.save(),o("blur",v)}function re(v){ul(()=>{i.value!==null&&p!==void 0&&(i.value.scrollTop=i.value.scrollHeight-p)}),o("focus",v)}function xe(v){const k=s.value;if(k!==null&&k.contains(v.target)===!0&&(v.relatedTarget===null||k.contains(v.relatedTarget)!==!0)){const I=`inner${D.value===!0?"Text":"HTML"}`;N.caret.restorePosition(i.value[I].length),K()}}function be(v){const k=s.value;k!==null&&k.contains(v.target)===!0&&(v.relatedTarget===null||k.contains(v.relatedTarget)!==!0)&&(N.caret.savePosition(),K())}function ke(){p=void 0}function O(v){N.caret.save()}function G(v,k){if(i.value!==null){k===!0&&N.caret.savePosition();const I=`inner${D.value===!0?"Text":"HTML"}`;i.value[I]=v,k===!0&&(N.caret.restorePosition(i.value[I].length),K())}}function me(v,k,I=!0){we(),N.caret.restore(),N.caret.apply(v,k,()=>{we(),N.caret.save(),I&&K()})}function K(){setTimeout(()=>{m.value=null,d.$forceUpdate()},1)}function we(){dl(()=>{var v;(v=i.value)==null||v.focus({preventScroll:!0})})}function ge(){return i.value}return xt(()=>{N.caret=d.caret=new to(i.value,N),G(e.modelValue),K(),document.addEventListener("selectionchange",O)}),ze(()=>{document.removeEventListener("selectionchange",O)}),Object.assign(d,{runCmd:me,refreshToolbar:K,focus:we,getContentEl:ge}),()=>{let v;if(ae.value){const k=[A("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+_.value},ao(N))];m.value!==null&&k.push(A("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+_.value},oo(N))),v=A("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},k)}return A("div",{ref:s,class:ie.value,style:{height:c.value===!0?"100%":null},...qe.value,onFocusin:xe,onFocusout:be},[v,A("div",{ref:i,style:se.value,class:ce.value,contenteditable:q.value,placeholder:e.placeholder,...r.listeners.value,onInput:Re,onKeydown:Ve,onClick:ye,onBlur:fe,onFocus:re,onMousedown:ke,onTouchstartPassive:ke})])}}}),uo={key:0},co={class:"subtitle"},fo={class:"text-label"},mo={class:"row items-center q-gutter-sm"},go={key:1,class:"text-grey-7 text-center q-pa-md italic"},vo={__name:"EngagementCard",props:{data:Object,canCreateEngagementCard:Boolean,canDownloadEngagementCard:Boolean,canDeleteEngagementCard:Boolean},setup(e){const l=Q(!1),o=Q(null),d=he({html_content:""}),u=_e(),g=async(r=null)=>{o.value=r,r?d.html_content=r.content:d.html_content="",l.value=!0},c=()=>{d.post(route("engagement-card.update",o.value),{preserveScroll:!0,onSuccess:()=>{l.value=!1,u.notify({type:"positive",message:"Card updated successfully!"})}})},h=async r=>{try{const s=await cl.get(route("engagement-card.download",r.id),{responseType:"blob"}),i=window.URL.createObjectURL(new Blob([s.data],{type:"application/pdf"})),m=document.createElement("a");m.href=i,m.setAttribute("download",`EngagementCard_${r.card_no}.pdf`),document.body.appendChild(m),m.click(),m.remove()}catch{u.notify({type:"negative",message:"Failed to download PDF."})}};return(r,s)=>(f(),R("div",null,[t(H,{class:"q-mt-md"},{default:a(()=>[s[2]||(s[2]=n("div",{class:"flex items-center justify-between q-pa-md bg-white"},[n("div",null,[n("div",{class:"stitle"},"Engagement Cards")])],-1)),t(U,null,{default:a(()=>[e.data.engagement_card&&e.data.engagement_card.length?(f(),R("div",uo,[(f(!0),R(Y,null,oe(e.data.engagement_card,i=>(f(),V(F,{key:i.id,class:"q-mb-md"},{default:a(()=>[t(S,null,{default:a(()=>[n("div",co,"Card No: "+C(i.card_no),1),n("div",fo,"Fiscal: "+C(i.fiscal_year),1)]),_:2},1024),t(S,{side:""},{default:a(()=>[n("div",mo,[e.canCreateEngagementCard?(f(),V(E,{key:0,dense:"",color:"primary",icon:"edit",onClick:m=>g(i)},null,8,["onClick"])):B("",!0),e.canDownloadEngagementCard?(f(),V(E,{key:1,dense:"",color:"primary",icon:"download",onClick:m=>h(i)},null,8,["onClick"])):B("",!0),e.canDeleteEngagementCard?(f(),V(E,{key:2,dense:"",color:"red",icon:"delete",onClick:m=>r.$inertia.delete(r.route("engagement-card.destroy",i.id))},null,8,["onClick"])):B("",!0)])]),_:2},1024)]),_:2},1024))),128))])):(f(),R("div",go," No engagement card generated. "))]),_:1})]),_:1,__:[2]}),t(Ee,{modelValue:l.value,"onUpdate:modelValue":s[1]||(s[1]=i=>l.value=i),persistent:""},{default:a(()=>[t(H,{style:{width:"1000px","max-width":"100vw"}},{default:a(()=>[t(U,{class:"row items-center justify-between bg-primary text-white"},{default:a(()=>[s[3]||(s[3]=n("div",{class:"text-h6"},"Engagement Card",-1)),Ce(t(E,{dense:"",flat:"",icon:"close"},null,512),[[De]])]),_:1,__:[3]}),t(U,{style:{"flex-grow":"1",overflow:"auto",padding:"0"}},{default:a(()=>[t(ro,{modelValue:x(d).html_content,"onUpdate:modelValue":s[0]||(s[0]=i=>x(d).html_content=i),style:{width:"100%","max-height":"1100px"}},null,8,["modelValue"])]),_:1}),t(de,{align:"right",style:{"flex-shrink":"0"}},{default:a(()=>[t(E,{color:"primary",label:"Save",onClick:c})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},po={class:"flex items-center justify-between q-pa-md bg-white"},yo={class:"row q-col-gutter-md"},bo={class:"col-12 col-md-4"},ho={class:"column items-center q-gutter-sm"},_o={class:"stitle"},xo={class:"q-mt-lg full-width"},ko={class:"q-mt-lg flex items-center justify-center"},wo={class:"col-12 col-md-8"},Co={class:"row q-col-gutter-md"},qo={class:"col-12 col-md-6"},$o={class:"col-12 col-md-6"},No=Object.assign({layout:_l},{__name:"Show",props:["data","office","documentTypes","canCreate","canEdit","canDelete","canCreateRemuneration","canCreateTransfer","canDeleteDocument","canDeleteTransfer","canCreateEngagementCard","canDownloadEngagementCard","canDeleteEngagementCard","canRequestEdit","canRequestDelete","canRequestTransfer","canApproveEdit","canApproveTransfer","canApproveDelete","canEditDelete","canRequestDocumentEdit","canApproveDocumentEdit"],setup(e){const{formatDate:l}=Pe(),o=e,d=Q("document"),u=Q(!1),g=L(()=>{var _;return!!((_=mt().props.roles)!=null&&_.find(y=>y==="Admin"))}),c=L(()=>{var _;return!!((_=mt().props.roles)!=null&&_.find(y=>y==="Manager"))}),h=L(()=>{const _=o.data.edit_requests;return _&&_.length?_[_.length-1]:null}),r=L(()=>{const _=o.data.deletion_requests;return _&&_.length?_[_.length-1]:null}),s=L(()=>{const _=o.data.transfer_requests;return _&&_.length?_[_.length-1]:null}),i=L(()=>{const _=o.data.document_request;return _&&_.length?_[_.length-1]:null});function m(_){if(!_)return!0;const y=new Date,P=new Date(_);return(y-P)/(1e3*60*60*24)<=15}const D=L(()=>h.value?g.value?h.value.approval_status==="pending":c.value?h.value.approval_status!=="pending"&&m(h.value.approval_date):!1:!1),q=L(()=>r.value?g.value?r.value.approval_status==="pending":c.value?r.value.approval_status!=="pending"&&m(r.value.approval_date):!1:!1),T=L(()=>s.value?g.value?s.value.approval_status==="pending":c.value?s.value.approval_status!=="pending"&&m(s.value.approval_date):!1:!1),p=L(()=>i.value?g.value?i.value.approval_status==="pending":c.value?i.value.approval_status!=="pending"&&m(i.value.approval_date):!1:!1),w=()=>{window.history.back()};return(_,y)=>(f(),V(Ft,{class:"container",padding:""},{default:a(()=>[n("div",po,[n("div",null,[y[5]||(y[5]=n("div",{class:"stitle"},"Employee Detail",-1)),t(Nt,{class:"text-dark"},{default:a(()=>[t(ut,{class:"cursor-pointer",onClick:y[0]||(y[0]=P=>_.$inertia.get(_.route("dashboard"))),icon:"dashboard",label:"Dashboard"}),t(ut,{class:"cursor-pointer",label:"Go Back",onClick:w})]),_:1})])]),y[26]||(y[26]=n("br",null,null,-1)),t(H,{flat:""},{default:a(()=>[t(U,null,{default:a(()=>[n("div",yo,[n("div",bo,[t(H,{class:"q-pa-md"},{default:a(()=>{var P,J,N,ae,ne,se;return[n("div",ho,[t(fl,{size:"96px"},{default:a(()=>{var ie,ce;return[(ie=e.data)!=null&&ie.avatar?(f(),V(Qt,{key:0,src:`/storage/${(ce=e.data)==null?void 0:ce.avatar}`},null,8,["src"])):(f(),V(Te,{key:1,name:"person",color:"primary"}))]}),_:1}),n("div",_o,C(e.data.name),1),t(xl,{color:((J=(P=e.data)==null?void 0:P.employment_type)==null?void 0:J.trim())==="Deleted"?"red-6":"grey-6","text-color":"white",class:"stitle",label:((ae=(N=e.data)==null?void 0:N.employment_type)==null?void 0:ae.trim())==="MR"?"Muster Roll Employee":((se=(ne=e.data)==null?void 0:ne.employment_type)==null?void 0:se.trim())==="PE"?"Provisional Employee":"Deleted Employee",style:{padding:"8px"},rounded:""},null,8,["color","label"]),n("div",xo,[t(at,{class:"rounded-borders"},{default:a(()=>{var ie,ce,qe,Re,Ve,ye,fe,re,xe,be,ke;return[t(F,null,{default:a(()=>[t(S,{class:"text-label"},{default:a(()=>y[6]||(y[6]=[b("Details")])),_:1,__:[6]})]),_:1}),t(F,null,{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>y[7]||(y[7]=[b("Employee Code:")])),_:1,__:[7]}),t(S,{class:"text-label"},{default:a(()=>{var O;return[b(C((O=e.data)==null?void 0:O.employee_code),1)]}),_:1})]),_:1}),t(F,null,{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>y[8]||(y[8]=[b("Name:")])),_:1,__:[8]}),t(S,{class:"text-label"},{default:a(()=>{var O;return[b(C((O=e.data)==null?void 0:O.name),1)]}),_:1})]),_:1}),t(F,null,{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>y[9]||(y[9]=[b("Email:")])),_:1,__:[9]}),t(S,{class:"text-label"},{default:a(()=>[b(C(e.data.email),1)]),_:1})]),_:1}),t(F,null,{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>y[10]||(y[10]=[b("Contact:")])),_:1,__:[10]}),t(S,{class:"text-label"},{default:a(()=>{var O;return[b(C((O=e.data)==null?void 0:O.mobile),1)]}),_:1})]),_:1}),t(F,null,{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>y[11]||(y[11]=[b("Parent Name:")])),_:1,__:[11]}),t(S,{class:"text-label"},{default:a(()=>{var O;return[b(C((O=e.data)==null?void 0:O.parent_name),1)]}),_:1})]),_:1}),t(F,null,{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>y[12]||(y[12]=[b("Date of Birth:")])),_:1,__:[12]}),t(S,{class:"text-label"},{default:a(()=>[b(C(x(l)(e.data.date_of_birth)),1)]),_:1})]),_:1}),t(F,null,{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>y[13]||(y[13]=[b("Address:")])),_:1,__:[13]}),t(S,{class:"text-label"},{default:a(()=>{var O;return[b(C(((O=e.data)==null?void 0:O.address)??"N/A"),1)]}),_:1})]),_:1}),t(F,null,{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>y[14]||(y[14]=[b("Education Qln.:")])),_:1,__:[14]}),t(S,{class:"text-label"},{default:a(()=>{var O;return[b(C((O=e.data)==null?void 0:O.educational_qln),1)]}),_:1})]),_:1}),t(F,null,{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>y[15]||(y[15]=[b("Technical Qln.:")])),_:1,__:[15]}),t(S,{class:"text-label"},{default:a(()=>{var O;return[b(C((O=e.data)==null?void 0:O.technical_qln),1)]}),_:1})]),_:1}),t(F,null,{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>y[16]||(y[16]=[b("Designation:")])),_:1,__:[16]}),t(S,{class:"text-label"},{default:a(()=>{var O;return[b(C((O=e.data)==null?void 0:O.designation),1)]}),_:1})]),_:1}),t(F,null,{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>y[17]||(y[17]=[b("Office:")])),_:1,__:[17]}),t(S,{class:"text-label"},{default:a(()=>{var O,G;return[b(C((G=(O=e.data)==null?void 0:O.office)==null?void 0:G.name),1)]}),_:1})]),_:1}),t(F,null,{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>y[18]||(y[18]=[b("Office Type:")])),_:1,__:[18]}),t(S,{class:"text-label"},{default:a(()=>{var O,G;return[b(C((G=(O=e.data)==null?void 0:O.office)==null?void 0:G.type),1)]}),_:1})]),_:1}),t(F,null,{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>y[19]||(y[19]=[b("Workplace:")])),_:1,__:[19]}),t(S,{class:"text-label"},{default:a(()=>{var O;return[b(C((O=e.data)==null?void 0:O.name_of_workplace),1)]}),_:1})]),_:1}),t(F,null,{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>y[20]||(y[20]=[b("Date of Initial Engagement:")])),_:1,__:[20]}),t(S,{class:"text-label"},{default:a(()=>{var O;return[b(C(x(l)((O=e.data)==null?void 0:O.date_of_engagement)||"N/A"),1)]}),_:1})]),_:1}),((ce=(ie=e.data)==null?void 0:ie.employment_type)==null?void 0:ce.trim())==="PE"?(f(),V(F,{key:0},{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>y[21]||(y[21]=[b("Engagement Card No. :")])),_:1,__:[21]}),t(S,{class:"text-label"},{default:a(()=>{var O;return[b(C((O=e.data)==null?void 0:O.engagement_card_no),1)]}),_:1})]),_:1})):B("",!0),((Re=(qe=e.data)==null?void 0:qe.employment_type)==null?void 0:Re.trim())==="MR"?(f(),V(F,{key:1},{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>y[22]||(y[22]=[b("Post Selected:")])),_:1,__:[22]}),t(S,{class:"text-label"},{default:a(()=>{var O;return[b(C((O=e.data)==null?void 0:O.post_per_qualification),1)]}),_:1})]),_:1})):B("",!0),((ye=(Ve=e.data)==null?void 0:Ve.employment_type)==null?void 0:ye.trim())==="MR"?(f(),V(F,{key:2},{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>y[23]||(y[23]=[b("Skill Category:")])),_:1,__:[23]}),t(S,{class:"text-label"},{default:a(()=>{var O;return[b(C((O=e.data)==null?void 0:O.skill_category),1)]}),_:1})]),_:1})):B("",!0),((re=(fe=e.data)==null?void 0:fe.employment_type)==null?void 0:re.trim())==="MR"?(f(),V(F,{key:3},{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>y[24]||(y[24]=[b("Skill at Present:")])),_:1,__:[24]}),t(S,{class:"text-label"},{default:a(()=>{var O;return[b(C((O=e.data)==null?void 0:O.skill_at_present),1)]}),_:1})]),_:1})):B("",!0),((be=(xe=e.data)==null?void 0:xe.employment_type)==null?void 0:be.trim())==="MR"&&((ke=e.data)!=null&&ke.scheme_id)?(f(),V(F,{key:4},{default:a(()=>[t(S,{side:"",class:"subtitle"},{default:a(()=>y[25]||(y[25]=[b("Scheme:")])),_:1,__:[25]}),t(S,{class:"text-label"},{default:a(()=>{var O,G;return[b(C((G=(O=e.data)==null?void 0:O.scheme)==null?void 0:G.name),1)]}),_:1})]),_:1})):B("",!0)]}),_:1}),n("div",ko,[e.canEdit?(f(),V(E,{key:0,label:"Edit",onClick:y[1]||(y[1]=ie=>_.$inertia.get(_.route("employee.edit",e.data))),class:"q-mr-md",color:"primary"})):B("",!0),e.canDelete&&e.data.employment_type!=="Deleted"?(f(),V(E,{key:1,label:"Delete",color:"negative",unelevated:"",onClick:y[2]||(y[2]=ie=>u.value=!0)})):B("",!0)])])])]}),_:1})]),t(Mn,{modelValue:u.value,"onUpdate:modelValue":y[3]||(y[3]=P=>u.value=P),employee:e.data},null,8,["modelValue","employee"]),n("div",wo,[t(Ol,{modelValue:d.value,"onUpdate:modelValue":y[4]||(y[4]=P=>d.value=P),class:"text-primary bg-white shadow-1 q-pa-sm",dense:"",align:"center"},{default:a(()=>[t(je,{name:"document",label:"Documents",icon:"drive_folder_upload",alert:p.value,"alert-icon":"circle","alert-color":"red",class:pe(p.value?"text-red":"")},null,8,["alert","class"]),g.value&&e.canApproveEdit?(f(),V(je,{key:0,name:"edit",label:"Edit Request",icon:"edit",alert:D.value,"alert-icon":"circle","alert-color":"red",class:pe(D.value?"text-red":"")},null,8,["alert","class"])):B("",!0),g.value&&e.canApproveTransfer?(f(),V(je,{key:1,name:"transfer_request",label:"Transfer Request",icon:"input",alert:T.value,"alert-icon":"circle","alert-color":"red",class:pe(T.value?"text-red":"")},null,8,["alert","class"])):B("",!0),g.value&&e.canApproveDelete?(f(),V(je,{key:2,name:"deletion",label:"Deletion Request",icon:"delete_sweep",alert:q.value,"alert-icon":"circle","alert-color":"red",class:pe(q.value?"text-red":"")},null,8,["alert","class"])):B("",!0),c.value&&e.canRequestEdit?(f(),V(je,{key:3,name:"request_edit",label:"Request Edit",icon:"edit",alert:D.value,"alert-icon":"circle","alert-color":"red",class:pe(D.value?"text-red":"")},null,8,["alert","class"])):B("",!0),c.value&&e.canRequestTransfer?(f(),V(je,{key:4,name:"request_transfer",label:"Request Transfer",icon:"input"})):B("",!0),c.value&&e.canRequestDelete?(f(),V(je,{key:5,name:"request_deletion",label:"Request Deletion",icon:"delete_sweep"})):B("",!0)]),_:1},8,["modelValue"]),d.value==="document"?(f(),V(Yl,{key:0,data:e.data,documentTypes:e.documentTypes,canDeleteDocument:e.canDeleteDocument,canApproveDocumentEdit:e.canApproveDocumentEdit,canRequestDocumentEdit:e.canRequestDocumentEdit},null,8,["data","documentTypes","canDeleteDocument","canApproveDocumentEdit","canRequestDocumentEdit"])):B("",!0),d.value==="edit"?(f(),V(wa,{key:1,data:e.data},null,8,["data"])):B("",!0),d.value==="transfer_request"?(f(),V(ia,{key:2,data:e.data,office:e.office},null,8,["data","office"])):B("",!0),d.value==="deletion"?(f(),V(Ua,{key:3,data:e.data},null,8,["data"])):B("",!0),d.value==="request_edit"?(f(),V(_n,{key:4,data:e.data,documentTypes:e.documentTypes},null,8,["data","documentTypes"])):B("",!0),d.value==="request_transfer"?(f(),V(Vn,{key:5,data:e.data,office:e.office},null,8,["data","office"])):B("",!0),d.value==="request_deletion"?(f(),V(tn,{key:6,data:e.data},null,8,["data"])):B("",!0),n("div",Co,[n("div",qo,[e.data.employment_type==="PE"?(f(),V(Zn,{key:0,data:e.data,canCreateRemuneration:e.canCreateRemuneration},null,8,["data","canCreateRemuneration"])):B("",!0),t(Fn,{data:e.data,office:e.office,canCreateTransfer:e.canCreateTransfer,canDeleteTransfer:e.canDeleteTransfer},null,8,["data","office","canCreateTransfer","canDeleteTransfer"])]),n("div",$o,[e.data.employment_type==="PE"?(f(),V(vo,{key:0,canDeleteEngagementCard:e.canDeleteEngagementCard,data:e.data,canCreateEngagementCard:e.canCreateEngagementCard,canDownloadEngagementCard:e.canDownloadEngagementCard},null,8,["canDeleteEngagementCard","data","canCreateEngagementCard","canDownloadEngagementCard"])):B("",!0),e.data.employment_type==="Deleted"?(f(),V(Kn,{key:1,deletion:e.data.deletion_detail,canEditDelete:e.canEditDelete},null,8,["deletion","canEditDelete"])):B("",!0)])])])])]),_:1})]),_:1})]),_:1,__:[26]}))}});export{No as default};
