import{Q as W,a as c}from"./QBreadcrumbs-Da9WI5np.js";import{x as X,D as Y,c as Z,o as I,w as f,b as r,f as i,d as _,e as h,Q as m,u as o,F as ee,l as se,m as H}from"./app-vw_gcHO4.js";import{Q as J}from"./QSelect-Dl01ftoz.js";import{Q as oe}from"./QForm-Bwme3vxo.js";import{Q as re}from"./QLayout-ChVj2Ub4.js";import{_ as le}from"./BackendLayout-Buk0kZHH.js";import{u as ie}from"./use-quasar-BMdw7hzZ.js";/* empty css            */import"./touch-AyXoMRZW.js";const ae={class:"flex items-center justify-between q-pa-md bg-white"},te={style:{"max-width":"720px"},class:"row q-col-gutter-sm"},de={class:"col-xs-12 col-sm-9"},ne={class:"col-xs-12 col-sm-9"},me={class:"col-xs-12 col-sm-9"},ue={class:"col-xs-12 col-sm-9"},ce={class:"col-xs-12 col-sm-9"},fe={class:"col-xs-12 col-sm-9"},ge={class:"col-xs-12 col-sm-9"},pe={class:"col-xs-12 col-sm-9"},be={class:"col-xs-12"},ve={class:"col-xs-12 flex q-gutter-sm"},Be=Object.assign({layout:le},{__name:"Edit",props:["userRoles","data","current_offices","offices"],setup(u){var p,b,v,x,V;const a=u,g=ie(),s=X({name:(p=a.data)==null?void 0:p.name,email:(b=a==null?void 0:a.data)==null?void 0:b.email,mobile:(v=a==null?void 0:a.data)==null?void 0:v.mobile,roles:(V=(x=a==null?void 0:a.data)==null?void 0:x.roles)==null?void 0:V.map(t=>({value:t.name,label:t.name})),offices:a.current_offices,designation:a==null?void 0:a.data.designation,password:"",password_confirmation:""}),K=Y(()=>s.roles.some(t=>t.value==="Manager")),L=t=>{s.transform(e=>{var d;return{...e,office_ids:(d=e==null?void 0:e.offices)==null?void 0:d.map(n=>n.value),roles:e.roles.map(n=>n.value)}}).put(route("user.update",a.data.id),{onStart:e=>g.loading.show(),onFinish:e=>g.loading.hide()})},T=t=>{window.history.back()};return(t,e)=>(I(),Z(re,{class:"container",padding:""},{default:f(()=>[r("div",ae,[r("div",null,[e[11]||(e[11]=r("div",{class:"stitle"},"Edit User",-1)),i(W,{class:"text-dark"},{default:f(()=>[i(c,{class:"cursor-pointer",icon:"dashboard",label:"Dashboard",onClick:e[0]||(e[0]=d=>t.$inertia.get(t.route("dashboard")))}),i(c,{class:"cursor-pointer",label:"User Accounts",onClick:e[1]||(e[1]=d=>t.$inertia.get(t.route("user.index")))}),i(c,{class:"cursor-pointer",label:"Go Back",onClick:T})]),_:1})])]),e[20]||(e[20]=r("br",null,null,-1)),i(oe,{onSubmit:L,class:"bg-white q-pa-md"},{default:f(()=>{var d,n,w,q,Q,k,S,y,U,B,C,$,E,N,F,O,D,M,P,R,j,z,A,G;return[r("div",te,[e[13]||(e[13]=r("div",{class:"col-xs-12 col-sm-3"},[r("div",{class:"text-label q-mt-md"},"Name")],-1)),r("div",de,[i(m,{modelValue:o(s).name,"onUpdate:modelValue":e[2]||(e[2]=l=>o(s).name=l),error:!!((d=o(s).errors)!=null&&d.name),"error-message":(w=(n=o(s).errors)==null?void 0:n.name)==null?void 0:w.toString(),outlined:"",dense:"","item-aligned":"",rules:[l=>l!==""||"Name is required"]},null,8,["modelValue","error","error-message","rules"])]),e[14]||(e[14]=r("div",{class:"col-xs-12 col-sm-3"},[r("div",{class:"text-label q-mt-md"},"Designation")],-1)),r("div",ne,[i(m,{modelValue:o(s).designation,"onUpdate:modelValue":e[3]||(e[3]=l=>o(s).designation=l),error:!!((q=o(s).errors)!=null&&q.designation),"error-message":(k=(Q=o(s).errors)==null?void 0:Q.designation)==null?void 0:k.toString(),outlined:"",dense:"","item-aligned":""},null,8,["modelValue","error","error-message"])]),e[15]||(e[15]=r("div",{class:"col-xs-12 col-sm-3"},[r("div",{class:"text-label q-mt-md"},"Mobile")],-1)),r("div",me,[i(m,{modelValue:o(s).mobile,"onUpdate:modelValue":e[4]||(e[4]=l=>o(s).mobile=l),mask:"##########",error:!!((S=o(s).errors)!=null&&S.mobile),"error-message":(U=(y=o(s).errors)==null?void 0:y.mobile)==null?void 0:U.toString(),outlined:"",dense:"","item-aligned":"",rules:[l=>l!==""||"Mobile is required"]},null,8,["modelValue","error","error-message","rules"])]),e[16]||(e[16]=r("div",{class:"col-xs-12 col-sm-3"},[r("div",{class:"text-label q-mt-md"},"Email")],-1)),r("div",ue,[i(m,{modelValue:o(s).email,"onUpdate:modelValue":e[5]||(e[5]=l=>o(s).email=l),type:"email",error:!!((B=o(s).errors)!=null&&B.email),"error-message":($=(C=o(s).errors)==null?void 0:C.email)==null?void 0:$.toString(),outlined:"",dense:"","item-aligned":"",rules:[l=>l!==""||"Email is required"]},null,8,["modelValue","error","error-message","rules"])]),e[17]||(e[17]=r("div",{class:"col-xs-12 col-sm-3"},[r("div",{class:"text-label q-mt-md"},"Role")],-1)),r("div",ce,[i(J,{modelValue:o(s).roles,"onUpdate:modelValue":e[6]||(e[6]=l=>o(s).roles=l),error:!!((E=o(s).errors)!=null&&E.roles),options:u.userRoles,multiple:"","use-chips":"","error-message":(F=(N=o(s).errors)==null?void 0:N.roles)==null?void 0:F.toString(),outlined:"",dense:"","item-aligned":""},null,8,["modelValue","error","options","error-message"])]),K.value?(I(),_(ee,{key:0},[e[12]||(e[12]=r("div",{class:"col-xs-12 col-sm-3"},[r("div",{class:"text-label q-mt-md"},"Office")],-1)),r("div",fe,[i(J,{modelValue:o(s).offices,"onUpdate:modelValue":e[7]||(e[7]=l=>o(s).offices=l),error:!!((O=o(s).errors)!=null&&O.office_id),"error-message":(M=(D=o(s).errors)==null?void 0:D.office_id)==null?void 0:M.toString(),options:u.offices,rules:[l=>!!l||"Office is required"],multiple:"","use-chips":"","no-error-icon":"",outlined:"","item-aligned":""},null,8,["modelValue","error","error-message","options","rules"])])],64)):h("",!0),e[18]||(e[18]=r("div",{class:"col-xs-12 col-sm-3"},[r("div",{class:"text-label q-mt-md"},"Password")],-1)),r("div",ge,[i(m,{modelValue:o(s).password,"onUpdate:modelValue":e[8]||(e[8]=l=>o(s).password=l),type:"password",error:!!((P=o(s).errors)!=null&&P.password),"error-message":(j=(R=o(s).errors)==null?void 0:R.password)==null?void 0:j.toString(),outlined:"",dense:"","item-aligned":""},null,8,["modelValue","error","error-message"])]),e[19]||(e[19]=r("div",{class:"col-xs-12 col-sm-3"},[r("div",{class:"text-label q-mt-md"},"Password Confirmation")],-1)),r("div",pe,[i(m,{modelValue:o(s).password_confirmation,"onUpdate:modelValue":e[9]||(e[9]=l=>o(s).password_confirmation=l),type:"password",error:!!((z=o(s).errors)!=null&&z.password_confirmation),"error-message":(G=(A=o(s).errors)==null?void 0:A.password_confirmation)==null?void 0:G.toString(),outlined:"",dense:"","item-aligned":""},null,8,["modelValue","error","error-message"])]),r("div",be,[i(se,{class:"q-my-md"})]),r("div",ve,[i(H,{class:"sized-btn",type:"submit",color:"btn-primary",label:"Update"}),i(H,{class:"sized-btn",color:"negative",outline:"",label:"Cancel",onClick:e[10]||(e[10]=l=>t.$inertia.get(t.route("user.index")))})])])]}),_:1})]),_:1,__:[20]}))}});export{Be as default};
