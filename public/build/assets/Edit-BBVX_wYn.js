import{Q as He,a as te}from"./QBreadcrumbs-DVeUSRJF.js";import{a as Be,Q as Xe}from"./QLayout-CvmrwXDZ.js";import{r as H,x as Ze,l as el,c as X,b as ae,d as ne,o as m,w,e as s,i as t,E as ll,g as c,f as p,q as k,Q as _,u as l,F as We,v as Fe,t as g,G as ol,h as f,D as sl,W as rl}from"./app-BZa_U_r9.js";import{Q as x}from"./QSelect-BvFBfcRP.js";import{Q as Z}from"./QStepperNavigation-qZ0kLsUs.js";import{Q as tl,a as ee}from"./QStepper-C4ST-aF7.js";import{Q as al}from"./QFile-EwoqLljh.js";import{Q as nl}from"./QForm-jozxMvb4.js";import{_ as il}from"./BackendLayout-DMP_RyRX.js";import{u as dl}from"./use-quasar-CrRCImgW.js";import{u as ml}from"./useUtils-C7viLKc9.js";import"./format-_1yUbRvW.js";import"./QSlideTransition-3sdT_ruZ.js";import"./use-panel-J23yA_3M.js";import"./touch-C0GTe0S2.js";import"./date-DqZu8dUH.js";const ul={class:"flex items-center justify-between q-pa-md bg-white"},pl={class:"q-pa-md"},cl={class:"row items-center q-gutter-md"},_l={class:"rounded-borders overflow-hidden",style:{"background-color":"#8a82f7"}},gl={class:"column q-gutter-sm"},fl={class:"row q-gutter-md"},vl={key:0,class:"row q-col-gutter-sm"},yl={class:"col-12 col-sm-6"},bl={class:"col-12 col-sm-6"},kl={class:"col-12 col-sm-6"},Vl={class:"col-12 col-sm-6"},ql={class:"col-12 col-sm-6"},wl={class:"col-12 col-sm-6"},hl={key:0,class:"col-12 col-sm-6"},Ul={key:1,class:"row q-col-gutter-sm"},Cl={class:"col-12 col-sm-6"},El={class:"col-12 col-sm-6"},Pl={class:"col-12 col-sm-6"},xl={class:"col-12 col-sm-6"},Ql={class:"col-12 col-sm-6"},Sl={class:"col-12 col-sm-6"},Ml={class:"col-12 col-sm-6"},Dl={class:"col-12 col-sm-6"},Nl={class:"row q-col-gutter-sm"},Rl={class:"col-12 col-sm-6"},Il={key:0,class:"col-12 col-sm-6"},Bl={key:1,class:"col-12 col-sm-6"},Wl={class:"col-12 col-sm-6"},Fl={key:2,class:"col-12 col-sm-6"},Al={key:3,class:"col-12 col-sm-6"},jl={key:4,class:"col-12 col-sm-6"},Tl={key:5,class:"col-12 col-sm-6"},$l={key:6,class:"col-12 col-sm-6"},Ol={key:7,class:"col-12 col-sm-6"},Gl={class:"col-12 col-sm-6"},Jl={key:8,class:"col-12 col-sm-6"},Ll={key:9,class:"col-12 col-sm-6"},zl={key:10,class:"col-12 col-sm-6"},Kl={class:"col-12 col-sm-6"},Yl={class:"row q-col-gutter-sm"},Hl={class:"text-subtitle2 q-mb-xs"},Xl={class:"rounded-borders"},Zl={class:"row q-col-gutter-sm q-mb-md"},eo={class:"col-12 col-sm-6"},lo={class:"col-12 col-sm-6"},oo={class:"col-12 col-sm-6"},so={class:"col-12 col-sm-6"},ro={class:"col-12 col-sm-6"},to={class:"col-12 col-sm-6"},ao={class:"col-12 col-sm-6"},no={class:"col-12 col-sm-6"},io={class:"row q-col-gutter-sm q-mb-md"},mo={class:"col-12 col-sm-6"},uo={class:"col-12 col-sm-6"},po={key:0,class:"col-12 col-sm-6"},co={key:1,class:"col-12 col-sm-6"},_o={key:2,class:"col-12 col-sm-6"},go={class:"col-12 col-sm-6"},fo={key:3,class:"col-12 col-sm-6"},vo={key:4,class:"col-12 col-sm-6"},yo={key:5,class:"col-12 col-sm-6"},bo={key:6,class:"col-12 col-sm-6"},ko={class:"col-12 col-sm-6"},Vo={key:7,class:"col-12 col-sm-6"},qo={class:"row q-col-gutter-sm q-mb-md"},wo={class:"row items-center justify-between"},ho={class:"text-subtitle2"},Uo={key:0},Co=["href"],Eo={key:1,class:"text-grey"},ie="https://storage.googleapis.com/a1aa/image/089155c9-d1c1-4945-5728-c9bdb3576171.jpg",Oo=Object.assign({layout:il},{__name:"Edit",props:["documentTypes","offices","data","current_offices","schemes"],setup(P){var me,ue,pe,ce,_e,ge,fe,ve,ye,be,ke,Ve,qe,we,he,Ue,Ce,Ee,Pe,xe,Qe,Se,Me,De;const{educationalQualifications:Ae,skills:de,formatDate:le}=ml(),i=P,U=dl(),v=H("1"),S=H(!!((me=i.data)!=null&&me.scheme_id)||!!((ue=i.data)!=null&&ue.scheme)),e=Ze({name:(pe=i.data)==null?void 0:pe.name,email:(ce=i.data)==null?void 0:ce.email,mobile:(_e=i.data)==null?void 0:_e.mobile,parent_name:(ge=i.data)==null?void 0:ge.parent_name,date_of_birth:(fe=i.data)==null?void 0:fe.date_of_birth,address:(ve=i.data)==null?void 0:ve.address,designation:(ye=i.data)==null?void 0:ye.designation,post_assigned:(be=i.data)==null?void 0:be.post_assigned,employment_type:(ke=i.data)==null?void 0:ke.employment_type,office:((qe=(Ve=i.data)==null?void 0:Ve.office)==null?void 0:qe.id)??null,educational_qln:(we=i.data)==null?void 0:we.educational_qln,technical_qln:(he=i.data)==null?void 0:he.technical_qln,name_of_workplace:(Ue=i.data)==null?void 0:Ue.name_of_workplace,post_per_qualification:(Ce=i.data)==null?void 0:Ce.post_per_qualification,engagement_card_no:(Ee=i.data)==null?void 0:Ee.engagement_card_no,date_of_engagement:(Pe=i.data)==null?void 0:Pe.date_of_engagement,date_of_retirement:(xe=i.data)==null?void 0:xe.date_of_retirement,skill_category:(Qe=i.data)==null?void 0:Qe.skill_category,skill_at_present:(Se=i.data)==null?void 0:Se.skill_at_present,scheme:((De=(Me=i.data)==null?void 0:Me.scheme)==null?void 0:De.id)??null,documents:[],avatar:null}),oe=H(null);function je(){var r;(r=oe.value)==null||r.click()}function Te(r){const o=r.target.files[0];if(o&&o.size<=800*1024){const u=new FileReader;u.onload=()=>{Q.value=u.result},e.avatar=o,u.readAsDataURL(o)}else alert("File too large or invalid type. Max size: 800KB.")}function $e(){var r;Q.value=(r=i.data)!=null&&r.avatar?`/storage/${i.data.avatar}`:ie,e.avatar=null,oe.value.value=null}const Q=H(""),Oe=(r,o)=>{e.documents[r]={...e.documents[r],file:o}},Ge=r=>{window.open(r,"_blank")},se=()=>{if(v.value==="1"){if(!e.name||!e.mobile||!e.date_of_birth){U.notify({type:"negative",message:"Please fill all required Personal Info fields."});return}v.value=C.value?"4":"2"}else if(v.value==="2"){if(!e.employment_type||!e.office){U.notify({type:"negative",message:"Please fill all required Job Info fields."});return}if(e.employment_type==="MR"&&(!e.skill_category||!e.skill_at_present||!e.date_of_engagement)){U.notify({type:"negative",message:"Please fill all required Job Info fields."});return}v.value="3"}else v.value==="3"&&(v.value="4")},re=()=>{v.value==="4"?v.value=C.value?"1":"3":v.value==="3"?v.value=C.value?"1":"2":v.value==="2"&&(v.value="1")},Je=r=>r?typeof r=="string"?r:URL.createObjectURL(r):"#",Le=[{label:"MR",value:"MR"},{label:"PE",value:"PE"},{label:"WC",value:"WC"}],ze=()=>{U.dialog({title:"Confirm Submission",message:"Are you sure you want to submit?",cancel:!0,persistent:!0}).onOk(()=>{var o,u;const r=new FormData;r.append("name",e.name||""),r.append("email",e.email||""),r.append("mobile",e.mobile||""),r.append("parent_name",e.parent_name||""),r.append("date_of_birth",e.date_of_birth||""),r.append("address",e.address||""),r.append("designation",e.designation||""),r.append("post_assigned",e.post_assigned||""),r.append("employment_type",e.employment_type||""),r.append("office",((o=e.office)==null?void 0:o.id)||e.office||""),r.append("educational_qln",e.educational_qln||""),r.append("technical_qln",e.technical_qln||""),r.append("name_of_workplace",e.name_of_workplace||""),r.append("post_per_qualification",e.post_per_qualification||""),r.append("engagement_card_no",e.engagement_card_no||""),r.append("date_of_engagement",e.date_of_engagement||""),r.append("date_of_retirement",e.date_of_retirement||""),r.append("skill_category",e.skill_category||""),r.append("skill_at_present",e.skill_at_present||""),S.value||(e.scheme=""),r.append("scheme",((u=e.scheme)==null?void 0:u.id)||e.scheme),e.avatar&&typeof e.avatar!="string"&&r.append("avatar",e.avatar),Object.entries(e.documents).forEach(([y,d])=>{d!=null&&d.file&&r.append(`documents[${y}]`,d.file)}),axios.post(route("employee.update",i.data),r,{headers:{"Content-Type":"multipart/form-data"}}).then(y=>{const{employee:d,message:V}=y.data;U.notify({type:"positive",message:y.data.message||"Employee saved successfully."}),e.reset(),rl.get(route("employee.show",d))}).catch(y=>{if(y.response){const d=y.response.data.errors,V=[];let b=null;if(d){for(const q in d)b||(b=q),d[q]&&V.push(...d[q]);if(e.errors=d,b){const h={name:1,email:1,mobile:1,parent_name:1,date_of_birth:1,educational_qln:1,technical_qln:1,employment_type:2,designation:2,date_of_engagement:2,date_of_retirement:2,name_of_workplace:2,office:2,post_per_qualification:2,skill_category:2,skill_at_present:2,documents:3}[b]||1;v.value=String(h)}U.notify({type:"negative",message:V.join(", ")})}else y.response.data.message&&U.notify({type:"negative",message:y.response.data.message})}else U.notify({type:"negative",message:"System Error. Please try again later."})})})};el(()=>{var r,o;(r=i.data.documents)!=null&&r.length&&i.data.documents.forEach(u=>{e.documents[u.document_type_id]={name:u.name,url:`/storage/${u.path}`}}),(o=i.data)!=null&&o.avatar?Q.value=`/storage/${i.data.avatar}`:Q.value=ie}),X(()=>{var r;return!!((r=ae().props.roles)!=null&&r.find(o=>o==="Admin"))});const Ke=X(()=>{var r;return!!((r=ae().props.roles)!=null&&r.find(o=>o==="Manager"))}),Ye=X(()=>{var r;return!!((r=ae().props.roles)!=null&&r.find(o=>o==="Viewer"))}),C=X(()=>Ke.value||Ye.value),M=()=>{window.history.back()};return(r,o)=>(m(),ne(Xe,{class:"container",padding:""},{default:w(()=>[s("div",ul,[s("div",null,[o[32]||(o[32]=s("div",{class:"stitle"},"Edit Employee",-1)),t(He,{class:"text-dark"},{default:w(()=>[t(te,{class:"cursor-pointer",icon:"dashboard",label:"Dashboard",onClick:o[0]||(o[0]=u=>r.$inertia.get(r.route("dashboard")))}),t(te,{class:"cursor-pointer",label:"All Employees",onClick:o[1]||(o[1]=u=>r.$inertia.get(C.value?r.route("employees.manager.all"):r.route("employees.all")))}),t(te,{class:"cursor-pointer",label:"Go Back",onClick:M})]),_:1})])]),o[58]||(o[58]=s("br",null,null,-1)),t(nl,{onSubmit:ll(ze,["prevent"]),class:"bg-white q-pa-md"},{default:w(()=>[t(tl,{modelValue:v.value,"onUpdate:modelValue":o[31]||(o[31]=u=>v.value=u),ref:"stepper",animated:"",color:"secondary"},{default:w(()=>[t(ee,{name:"1",title:"Personal Info",icon:"person",done:v.value>1},{default:w(()=>{var u,y,d,V,b,q,h,E,D,N,R,I,B,W,F,A,j,T,$,O,G,J,L,z,K,Y,a,Ne,Re,Ie;return[s("div",pl,[s("div",cl,[s("div",_l,[t(Be,{src:Q.value,alt:"Profile Photo",style:{width:"120px",height:"120px"},"img-class":"object-cover"},null,8,["src"])]),s("div",gl,[s("div",fl,[t(k,{label:"Upload new Photo",color:"primary",onClick:je,class:"text-weight-medium",rounded:"",unelevated:""}),t(k,{label:"Reset",color:"grey-4","text-color":"dark",onClick:$e,class:"text-weight-medium",rounded:"",unelevated:""})]),o[33]||(o[33]=s("p",{class:"text-subtitle2 text-grey-7"}," Allowed JPG, GIF or PNG. Max size of 800K ",-1))])]),s("input",{ref_key:"fileInput",ref:oe,type:"file",accept:"image/*",class:"hidden",onChange:Te},null,544)]),C.value?(m(),p("div",vl,[s("div",yl,[t(_,{modelValue:l(e).name,"onUpdate:modelValue":o[2]||(o[2]=n=>l(e).name=n),label:"Name",disable:"",outlined:"",dense:"",error:!!((u=l(e).errors)!=null&&u.name),"error-message":(y=l(e).errors)==null?void 0:y.name,rules:[n=>!!n||"Name is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",bl,[t(_,{modelValue:l(e).email,"onUpdate:modelValue":o[3]||(o[3]=n=>l(e).email=n),label:"Email",type:"email",outlined:"",dense:"",error:!!((d=l(e).errors)!=null&&d.email),"error-message":(V=l(e).errors)==null?void 0:V.email},null,8,["modelValue","error","error-message"])]),s("div",kl,[t(_,{modelValue:l(e).mobile,"onUpdate:modelValue":o[4]||(o[4]=n=>l(e).mobile=n),label:"Mobile",mask:"##########",outlined:"",dense:"",error:!!((b=l(e).errors)!=null&&b.mobile),"error-message":(q=l(e).errors)==null?void 0:q.mobile,rules:[n=>!!n||"Mobile is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Vl,[t(_,{modelValue:l(e).address,"onUpdate:modelValue":o[5]||(o[5]=n=>l(e).address=n),label:"Address",outlined:"",dense:"",error:!!((h=l(e).errors)!=null&&h.address),"error-message":(E=l(e).errors)==null?void 0:E.address},null,8,["modelValue","error","error-message"])]),s("div",ql,[t(_,{modelValue:l(e).name_of_workplace,"onUpdate:modelValue":o[6]||(o[6]=n=>l(e).name_of_workplace=n),label:"Workplace",outlined:"",dense:"",error:!!((D=l(e).errors)!=null&&D.name_of_workplace),"error-message":(N=l(e).errors)==null?void 0:N.name_of_workplace},null,8,["modelValue","error","error-message"])]),s("div",wl,[t(_,{modelValue:l(e).technical_qln,"onUpdate:modelValue":o[7]||(o[7]=n=>l(e).technical_qln=n),label:"Technical Qualification",outlined:"",dense:"",error:!!((R=l(e).errors)!=null&&R.technical_qln),"error-message":(I=l(e).errors)==null?void 0:I.technical_qln},null,8,["modelValue","error","error-message"])]),l(e).employment_type==="MR"?(m(),p("div",hl,[t(_,{modelValue:l(e).post_assigned,"onUpdate:modelValue":o[8]||(o[8]=n=>l(e).post_assigned=n),label:"Post/Work Assigned",outlined:"",dense:"",error:!!((B=l(e).errors)!=null&&B.post_assigned),"error-message":(W=l(e).errors)==null?void 0:W.post_assigned},null,8,["modelValue","error","error-message"])])):c("",!0)])):c("",!0),C.value?c("",!0):(m(),p("div",Ul,[s("div",Cl,[t(_,{modelValue:l(e).name,"onUpdate:modelValue":o[9]||(o[9]=n=>l(e).name=n),label:"Name",outlined:"",dense:"",error:!!((F=l(e).errors)!=null&&F.name),"error-message":(A=l(e).errors)==null?void 0:A.name,rules:[n=>!!n||"Name is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",El,[t(_,{modelValue:l(e).email,"onUpdate:modelValue":o[10]||(o[10]=n=>l(e).email=n),label:"Email",type:"email",outlined:"",dense:"",error:!!((j=l(e).errors)!=null&&j.email),"error-message":(T=l(e).errors)==null?void 0:T.email},null,8,["modelValue","error","error-message"])]),s("div",Pl,[t(_,{modelValue:l(e).mobile,"onUpdate:modelValue":o[11]||(o[11]=n=>l(e).mobile=n),label:"Mobile",mask:"##########",outlined:"",dense:"",error:!!(($=l(e).errors)!=null&&$.mobile),"error-message":(O=l(e).errors)==null?void 0:O.mobile,rules:[n=>!!n||"Mobile is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",xl,[t(_,{modelValue:l(e).parent_name,"onUpdate:modelValue":o[12]||(o[12]=n=>l(e).parent_name=n),label:"Parent Name",outlined:"",dense:"",error:!!((G=l(e).errors)!=null&&G.parent_name),"error-message":(J=l(e).errors)==null?void 0:J.parent_name,rules:[n=>!!n||"Parent Name is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Ql,[t(_,{modelValue:l(e).date_of_birth,"onUpdate:modelValue":o[13]||(o[13]=n=>l(e).date_of_birth=n),label:"Date of Birth",type:"date",outlined:"",dense:"",error:!!((L=l(e).errors)!=null&&L.date_of_birth),"error-message":(z=l(e).errors)==null?void 0:z.date_of_birth,rules:[n=>!!n||"Date of Birth is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Sl,[t(_,{modelValue:l(e).address,"onUpdate:modelValue":o[14]||(o[14]=n=>l(e).address=n),label:"Address",outlined:"",dense:"",error:!!((K=l(e).errors)!=null&&K.address),"error-message":(Y=l(e).errors)==null?void 0:Y.address},null,8,["modelValue","error","error-message"])]),s("div",Ml,[t(x,{modelValue:l(e).educational_qln,"onUpdate:modelValue":o[15]||(o[15]=n=>l(e).educational_qln=n),options:l(Ae),label:"Educational Qualification *",outlined:"",dense:"","emit-value":"","map-options":"",error:!!((a=l(e).errors)!=null&&a.educational_qln),"error-message":(Ne=l(e).errors)==null?void 0:Ne.educational_qln,rules:[n=>!!n||"Education Qualification is required"]},null,8,["modelValue","options","error","error-message","rules"])]),s("div",Dl,[t(_,{modelValue:l(e).technical_qln,"onUpdate:modelValue":o[16]||(o[16]=n=>l(e).technical_qln=n),label:"Technical Qualification",outlined:"",dense:"",error:!!((Re=l(e).errors)!=null&&Re.technical_qln),"error-message":(Ie=l(e).errors)==null?void 0:Ie.technical_qln},null,8,["modelValue","error","error-message"])])])),t(Z,null,{default:w(()=>[t(k,{flat:"",color:"negative",label:"Cancel",class:"q-ml-sm",onClick:M}),t(k,{color:"primary",label:"Next",onClick:se})]),_:1})]}),_:1},8,["done"]),C.value?c("",!0):(m(),ne(ee,{key:0,name:"2",title:"Job Info",icon:"work",done:v.value>2},{default:w(()=>{var u,y,d,V,b,q,h,E,D,N,R,I,B,W,F,A,j,T,$,O,G,J,L,z,K,Y;return[s("div",Nl,[s("div",Rl,[t(x,{modelValue:l(e).employment_type,"onUpdate:modelValue":o[17]||(o[17]=a=>l(e).employment_type=a),label:"Employment Type *",options:Le,"emit-value":"","map-options":"",outlined:"",dense:"",error:!!((u=l(e).errors)!=null&&u.employment_type),"error-message":(y=l(e).errors)==null?void 0:y.employment_type,rules:[a=>!!a||"Employment Type is required"]},null,8,["modelValue","error","error-message","rules"])]),l(e).employment_type==="PE"||l(e).employment_type==="WC"?(m(),p("div",Il,[t(_,{modelValue:l(e).designation,"onUpdate:modelValue":o[18]||(o[18]=a=>l(e).designation=a),label:"Designation *",outlined:"",dense:"",error:!!((d=l(e).errors)!=null&&d.designation),"error-message":(V=l(e).errors)==null?void 0:V.designation,rules:[a=>!!a||"Designation is required"]},null,8,["modelValue","error","error-message","rules"])])):c("",!0),l(e).employment_type==="MR"?(m(),p("div",Bl,[t(_,{modelValue:l(e).post_assigned,"onUpdate:modelValue":o[19]||(o[19]=a=>l(e).post_assigned=a),label:"Post/Work Assigned *",type:"text",outlined:"",dense:"",error:!!((b=l(e).errors)!=null&&b.post_assigned),"error-message":(q=l(e).errors)==null?void 0:q.post_assigned,rules:[a=>!!a||"Post/Work Assigned is required"]},null,8,["modelValue","error","error-message","rules"])])):c("",!0),s("div",Wl,[t(x,{modelValue:l(e).office,"onUpdate:modelValue":o[20]||(o[20]=a=>l(e).office=a),label:"Office *",options:P.offices,"option-label":"name","option-value":"id","emit-value":"","map-options":"",outlined:"",dense:"",error:!!((h=l(e).errors)!=null&&h.office),"error-message":(E=l(e).errors)==null?void 0:E.office,rules:[a=>!!a||"Office is required"]},null,8,["modelValue","options","error","error-message","rules"])]),l(e).employment_type==="PE"?(m(),p("div",Fl,[t(_,{modelValue:l(e).engagement_card_no,"onUpdate:modelValue":o[21]||(o[21]=a=>l(e).engagement_card_no=a),label:"Engagement Card No.",type:"text",outlined:"",dense:"",error:!!((D=l(e).errors)!=null&&D.engagement_card_no),"error-message":(N=l(e).errors)==null?void 0:N.engagement_card_no,rules:[a=>!!a||"Engagement Card No. is required"]},null,8,["modelValue","error","error-message","rules"])])):c("",!0),l(e).employment_type==="PE"||l(e).employment_type==="WC"?(m(),p("div",Al,[t(_,{modelValue:l(e).date_of_engagement,"onUpdate:modelValue":o[22]||(o[22]=a=>l(e).date_of_engagement=a),label:"Date of Initial Engagement",type:"date",outlined:"",dense:"",error:!!((R=l(e).errors)!=null&&R.date_of_engagement),"error-message":(I=l(e).errors)==null?void 0:I.date_of_engagement,rules:[a=>!!a||"Date of Initial Engagement is required"]},null,8,["modelValue","error","error-message","rules"])])):c("",!0),l(e).employment_type==="WC"?(m(),p("div",jl,[t(_,{modelValue:l(e).date_of_retirement,"onUpdate:modelValue":o[23]||(o[23]=a=>l(e).date_of_retirement=a),label:"Date of Retirement",type:"date",outlined:"",dense:"",error:!!((B=l(e).errors)!=null&&B.date_of_retirement),"error-message":(W=l(e).errors)==null?void 0:W.date_of_retirement,rules:[a=>!!a||"Date of Retirement"]},null,8,["modelValue","error","error-message","rules"])])):c("",!0),l(e).employment_type==="MR"?(m(),p("div",Tl,[t(_,{modelValue:l(e).date_of_engagement,"onUpdate:modelValue":o[24]||(o[24]=a=>l(e).date_of_engagement=a),label:"Date of Initial Engagement *",type:"date",outlined:"",dense:"",error:!!((F=l(e).errors)!=null&&F.date_of_engagement),"error-message":(A=l(e).errors)==null?void 0:A.date_of_engagement,rules:[a=>!!a||"Date of Initial Engagement is required"]},null,8,["modelValue","error","error-message","rules"])])):c("",!0),l(e).employment_type==="MR"?(m(),p("div",$l,[t(x,{modelValue:l(e).skill_category,"onUpdate:modelValue":o[25]||(o[25]=a=>l(e).skill_category=a),label:"Skill Category at Initial Engagement *",options:l(de),"emit-value":"","map-options":"",outlined:"",dense:"",error:!!((j=l(e).errors)!=null&&j.skill_category),"error-message":(T=l(e).errors)==null?void 0:T.skill_category,rules:[a=>!!a||"Skill Category is required"]},null,8,["modelValue","options","error","error-message","rules"])])):c("",!0),l(e).employment_type==="MR"?(m(),p("div",Ol,[t(x,{modelValue:l(e).skill_at_present,"onUpdate:modelValue":o[26]||(o[26]=a=>l(e).skill_at_present=a),label:"Skill at Present *",options:l(de),"emit-value":"","map-options":"",outlined:"",dense:"",error:!!(($=l(e).errors)!=null&&$.skill_at_present),"error-message":(O=l(e).errors)==null?void 0:O.skill_at_present,rules:[a=>!!a||"Skill at Present is required"]},null,8,["modelValue","options","error","error-message","rules"])])):c("",!0),s("div",Gl,[t(_,{modelValue:l(e).name_of_workplace,"onUpdate:modelValue":o[27]||(o[27]=a=>l(e).name_of_workplace=a),label:"Workplace",outlined:"",dense:"",error:!!((G=l(e).errors)!=null&&G.name_of_workplace),"error-message":(J=l(e).errors)==null?void 0:J.name_of_workplace},null,8,["modelValue","error","error-message"])]),l(e).employment_type==="MR"?(m(),p("div",Jl,[t(_,{modelValue:l(e).post_per_qualification,"onUpdate:modelValue":o[28]||(o[28]=a=>l(e).post_per_qualification=a),label:"Post Selected",outlined:"",dense:"",error:!!((L=l(e).errors)!=null&&L.post_per_qualification),"error-message":(z=l(e).errors)==null?void 0:z.post_per_qualification,rules:[a=>!!a||"Post per Qualification is required"]},null,8,["modelValue","error","error-message","rules"])])):c("",!0),l(e).employment_type==="MR"?(m(),p("div",Ll,[t(x,{modelValue:S.value,"onUpdate:modelValue":o[29]||(o[29]=a=>S.value=a),options:[{label:"Yes",value:!0},{label:"No",value:!1}],label:"Does Employee belong to a Scheme? *",outlined:"",dense:"","emit-value":"","map-options":""},null,8,["modelValue"])])):c("",!0),S.value?(m(),p("div",zl,[s("div",Kl,[t(x,{modelValue:l(e).scheme,"onUpdate:modelValue":o[30]||(o[30]=a=>l(e).scheme=a),label:"Scheme *",options:P.schemes,"option-label":"name","option-value":"id","emit-value":"","map-options":"",outlined:"",dense:"",error:!!((K=l(e).errors)!=null&&K.scheme),"error-message":(Y=l(e).errors)==null?void 0:Y.scheme,rules:[a=>!!a||"Scheme is required"]},null,8,["modelValue","options","error","error-message","rules"])])])):c("",!0)]),t(Z,null,{default:w(()=>[t(k,{flat:"",color:"negative",label:"Cancel",class:"q-ml-sm",onClick:M}),t(k,{flat:"",color:"primary",label:"Back",onClick:re,class:"q-ml-sm"}),t(k,{color:"primary",label:"Next",onClick:se})]),_:1})]}),_:1},8,["done"])),C.value?c("",!0):(m(),ne(ee,{key:1,name:"3",title:"Upload Documents",icon:"cloud_upload",done:v.value>3},{default:w(()=>[s("div",Yl,[(m(!0),p(We,null,Fe(P.documentTypes,(u,y)=>{var d,V;return m(),p("div",{class:"col-12 col-sm-6",key:u.id},[s("div",Hl,g(u.name),1),t(al,{filled:"","model-value":((d=l(e).documents[u.id])==null?void 0:d.file)||null,"onUpdate:modelValue":b=>Oe(u.id,b),label:"Upload File",accept:".pdf,.jpg,.jpeg,.png",clearable:"",class:"full-width"},ol({_:2},[(V=l(e).documents[u.id])!=null&&V.url?{name:"append",fn:w(()=>[t(k,{round:"",dense:"",flat:"",icon:"visibility",onClick:b=>Ge(l(e).documents[u.id].url),class:"q-ml-sm"},null,8,["onClick"])]),key:"0"}:void 0]),1032,["model-value","onUpdate:modelValue"])])}),128))]),t(Z,null,{default:w(()=>[t(k,{flat:"",color:"negative",label:"Cancel",class:"q-ml-sm",onClick:M}),t(k,{flat:"",color:"primary",label:"Back",onClick:re,class:"q-ml-sm"}),t(k,{color:"primary",label:"Next",onClick:se})]),_:1})]),_:1},8,["done"])),t(ee,{name:"4",title:"Preview Information",icon:"visibility",done:v.value>4},{default:w(()=>{var u,y;return[s("div",Xl,[t(Be,{src:Q.value||ie,alt:"Profile Photo",style:{width:"120px",height:"120px"},"img-class":"object-cover"},null,8,["src"])]),o[55]||(o[55]=s("div",{class:"q-mb-md text-h6"},"Personal Info",-1)),s("div",Zl,[s("div",eo,[o[34]||(o[34]=s("strong",null,"Name:",-1)),f(" "+g(l(e).name),1)]),s("div",lo,[o[35]||(o[35]=s("strong",null,"Email:",-1)),f(" "+g(l(e).email),1)]),s("div",oo,[o[36]||(o[36]=s("strong",null,"Mobile:",-1)),f(" "+g(l(e).mobile),1)]),s("div",so,[o[37]||(o[37]=s("strong",null,"Parent Name:",-1)),f(" "+g(l(e).parent_name),1)]),s("div",ro,[o[38]||(o[38]=s("strong",null,"Date of Birth:",-1)),f(" "+g(l(le)(l(e).date_of_birth)),1)]),s("div",to,[o[39]||(o[39]=s("strong",null,"Present Address:",-1)),f(" "+g(l(e).address),1)]),s("div",ao,[o[40]||(o[40]=s("strong",null,"Education:",-1)),f(" "+g(l(e).educational_qln),1)]),s("div",no,[o[41]||(o[41]=s("strong",null,"Technical Qualification:",-1)),f(" "+g(l(e).technical_qln),1)])]),o[56]||(o[56]=s("div",{class:"q-mb-md text-h6"},"Job Info",-1)),s("div",io,[s("div",mo,[o[42]||(o[42]=s("strong",null,"Employment Type:",-1)),f(" "+g(l(e).employment_type),1)]),s("div",uo,[o[43]||(o[43]=s("strong",null,"Office:",-1)),f(" "+g(((u=P.offices.find(d=>d.id===l(e).office))==null?void 0:u.name)||"â€”"),1)]),l(e).employment_type==="PE"||l(e).employment_type==="WC"?(m(),p("div",po,[o[44]||(o[44]=s("strong",null,"Designation:",-1)),f(" "+g(l(e).designation),1)])):c("",!0),l(e).employment_type==="MR"?(m(),p("div",co,[o[45]||(o[45]=s("strong",null,"Post/Work Assigned :",-1)),f(" "+g(l(e).post_assigned),1)])):c("",!0),l(e).employment_type==="PE"?(m(),p("div",_o,[o[46]||(o[46]=s("strong",null,"Engagement Card No. :",-1)),f(" "+g(l(e).engagement_card_no),1)])):c("",!0),s("div",go,[o[47]||(o[47]=s("strong",null,"Date of Initial Engagement:",-1)),f(" "+g(l(le)(l(e).date_of_engagement)),1)]),l(e).employment_type==="WC"?(m(),p("div",fo,[o[48]||(o[48]=s("strong",null,"Date of Retirement:",-1)),f(" "+g(l(le)(l(e).date_of_retirement)),1)])):c("",!0),l(e).employment_type==="MR"?(m(),p("div",vo,[o[49]||(o[49]=s("strong",null,"Skill Category at Initial Engagement:",-1)),f(" "+g(l(e).skill_category),1)])):c("",!0),l(e).employment_type==="MR"?(m(),p("div",yo,[o[50]||(o[50]=s("strong",null,"Skill at Present:",-1)),f(" "+g(l(e).skill_at_present),1)])):c("",!0),l(e).employment_type==="MR"?(m(),p("div",bo,[o[51]||(o[51]=s("strong",null,"Post Selected:",-1)),f(" "+g(l(e).post_per_qualification),1)])):c("",!0),s("div",ko,[o[52]||(o[52]=s("strong",null,"Workplace:",-1)),f(" "+g(l(e).name_of_workplace),1)]),S.value?(m(),p("div",Vo,[o[53]||(o[53]=s("strong",null,"Scheme:",-1)),f(g(((y=((i==null?void 0:i.schemes)||P.schemes).find(d=>String(d.id)===String(l(e).scheme)))==null?void 0:y.name)||""),1)])):c("",!0)]),o[57]||(o[57]=s("div",{class:"q-mb-md text-h6"},"Uploaded Documents",-1)),s("div",qo,[(m(!0),p(We,null,Fe(P.documentTypes,(d,V)=>{var b,q,h,E;return m(),p("div",{class:"col-12 col-sm-6",key:d.id},[s("div",wo,[s("div",ho,[s("strong",null,g(d.name),1)]),(b=l(e).documents[d.id])!=null&&b.file||(q=l(e).documents[d.id])!=null&&q.url?(m(),p("div",Uo,[s("a",{href:Je(((h=l(e).documents[d.id])==null?void 0:h.file)||((E=l(e).documents[d.id])==null?void 0:E.url)),target:"_blank",class:"text-primary text-weight-medium"},[t(sl,{name:"visibility",class:"q-mr-xs"}),o[54]||(o[54]=f(" View File "))],8,Co)])):(m(),p("div",Eo,"No document uploaded"))])])}),128))]),t(Z,null,{default:w(()=>[t(k,{flat:"",color:"negative",label:"Cancel",class:"q-ml-sm",onClick:M}),t(k,{flat:"",color:"primary",label:"Back",onClick:re,class:"q-ml-sm"}),t(k,{type:"submit",color:"btn-primary",label:"Submit"})]),_:1})]}),_:1,__:[55,56,57]},8,["done"])]),_:1},8,["modelValue"])]),_:1})]),_:1,__:[58]}))}});export{Oo as default};
