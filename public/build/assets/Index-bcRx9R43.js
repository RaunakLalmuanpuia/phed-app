import{r as v,a as c,d as h,o as V,w as n,e as t,i as r,Q as f,q as g,W as I}from"./app-BuPabUHH.js";import{Q as _}from"./QForm-BoImJIzz.js";import{Q as w,a as y}from"./QStepper-sUNZWYmB.js";import{a as Q,Q as q}from"./QLayout-VKnQmNkx.js";import{F as O}from"./FrontendLayout-xfVNAcA0.js";import{u as S}from"./use-quasar-NXheR1s9.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QSlideTransition-Wlk9TwD-.js";import"./use-panel-d0wQGFQp.js";import"./touch-NNDrjMgq.js";const T={class:"bg-white"},B={class:"row"},F={class:"col-xs-12 col-sm-6"},E={class:"flex items-center justify-center"},U={class:"flex"},j={class:"flex"},k={class:"col-xs-12 col-sm-6"},z=Object.assign({layout:O},{__name:"Index",setup(M){const u=S(),d=v(1),a=c({userId:"",errors:{}}),l=c({otp:"",errors:{}}),x=p=>{u.loading.show(),axios.post(route("bio.send"),{...a}).then(e=>{d.value=2}).catch(e=>{var o,s;a.errors=((s=(o=e==null?void 0:e.response)==null?void 0:o.data)==null?void 0:s.errors)||{}}).finally(()=>u.loading.hide())},b=p=>{u.loading.show(),axios.post(route("bio.verify"),{userId:a.userId,...l}).then(e=>{const o=e.data.mobile;o?I.visit(route("bio.show",{employee:o})):l.errors.otp=["Invalid Otp"]}).catch(e=>{var o,s;l.errors=((s=(o=e==null?void 0:e.response)==null?void 0:o.data)==null?void 0:s.errors)||{}}).finally(()=>u.loading.hide())};return(p,e)=>(V(),h(q,{class:"container"},{default:n(()=>[t("div",T,[t("div",B,[t("div",F,[t("div",E,[t("div",null,[e[5]||(e[5]=t("p",{class:"login-title"},"Employee Bio",-1)),r(w,{class:"q-gutter-sm q-my-lg q-pa-lg",modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=o=>d.value=o),vertical:"",color:"accent",flat:"",animated:""},{default:n(()=>[r(y,{name:1,title:"Enter your registered mobile no",icon:"o_email",done:d.value>1},{default:n(()=>[r(_,{style:{"max-width":"750px"},class:"column q-gutter-sm q-my-lg",onSubmit:x},{default:n(()=>{var o,s,m;return[e[3]||(e[3]=t("span",{class:"text-caption text-grey-7 text-weight-medium"},"Enter your registered mobile no",-1)),r(f,{placeholder:"Mobile",dense:"",modelValue:a.userId,"onUpdate:modelValue":e[0]||(e[0]=i=>a.userId=i),outlined:"","no-error-icon":"",error:!!((o=a.errors)!=null&&o.userId),"error-message":(m=(s=a.errors)==null?void 0:s.userId)==null?void 0:m.toString(),rules:[i=>!!i||"Mobile is required"]},null,8,["modelValue","error","error-message","rules"]),t("div",U,[r(g,{class:"sized-btn",color:"btn-primary",type:"submit",rounded:"",label:"Send OTP","no-caps":""})])]}),_:1,__:[3]})]),_:1},8,["done"]),r(y,{name:2,title:"Verify OTP",icon:"o_verified",done:d.value>2},{default:n(()=>[r(_,{style:{"max-width":"750px"},class:"column q-gutter-sm q-my-lg",onSubmit:b},{default:n(()=>{var o,s,m;return[e[4]||(e[4]=t("span",{class:"text-caption text-grey-7 text-weight-medium"},"Verify OTP",-1)),r(f,{placeholder:"OTP",dense:"",modelValue:l.otp,"onUpdate:modelValue":e[1]||(e[1]=i=>l.otp=i),outlined:"","no-error-icon":"",error:!!((o=l.errors)!=null&&o.otp),"error-message":(m=(s=l.errors)==null?void 0:s.otp)==null?void 0:m.toString(),rules:[i=>!!i||"OTP is required"]},null,8,["modelValue","error","error-message","rules"]),t("div",j,[r(g,{class:"sized-btn",color:"btn-primary",type:"submit",rounded:"",label:"Verify OTP","no-caps":""})])]}),_:1,__:[4]})]),_:1},8,["done"])]),_:1},8,["modelValue"])])])]),t("div",k,[r(Q,{height:"480",width:"580",src:"images/login.png"})])])])]),_:1}))}}),R=P(z,[["__scopeId","data-v-8085e6fa"]]);export{R as default};
