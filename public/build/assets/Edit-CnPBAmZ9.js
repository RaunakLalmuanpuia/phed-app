import{Q as Je,a as X}from"./QBreadcrumbs-OIoRQndP.js";import{a as Se,Q as Le}from"./QLayout-DEYIHiHq.js";import{r as J,x as ze,l as Ke,c as De,b as Me,d as Z,o as u,w,e as s,i as r,E as Ye,g as b,f as c,q as k,Q as f,u as l,F as Ne,v as Ie,t as _,G as He,h as v,D as Xe,W as Ze}from"./app-BkJ7JZO3.js";import{Q}from"./QSelect-BemEfQiN.js";import{Q as L}from"./QStepperNavigation-pEJCYh3o.js";import{Q as el,a as z}from"./QStepper-BFT_lJWQ.js";import{Q as ll}from"./QFile-D-8d0PJz.js";import{Q as ol}from"./QForm-DfLSKaCs.js";import{_ as sl}from"./BackendLayout-D0flmuVt.js";import{u as al}from"./use-quasar-BAv4GtwJ.js";import{u as rl}from"./useUtils-CdYTZ36b.js";import"./touch-DTo9c-L_.js";import"./date-ZySdOLKT.js";const tl={class:"flex items-center justify-between q-pa-md bg-white"},nl={class:"q-pa-md"},il={class:"row items-center q-gutter-md"},dl={class:"rounded-borders overflow-hidden",style:{"background-color":"#8a82f7"}},ml={class:"column q-gutter-sm"},ul={class:"row q-gutter-md"},cl={key:0,class:"row q-col-gutter-sm"},pl={class:"col-12 col-sm-6"},gl={class:"col-12 col-sm-6"},fl={class:"col-12 col-sm-6"},_l={class:"col-12 col-sm-6"},vl={class:"col-12 col-sm-6"},yl={class:"col-12 col-sm-6"},bl={key:1,class:"row q-col-gutter-sm"},kl={class:"col-12 col-sm-6"},ql={class:"col-12 col-sm-6"},Vl={class:"col-12 col-sm-6"},wl={class:"col-12 col-sm-6"},hl={class:"col-12 col-sm-6"},Ul={class:"col-12 col-sm-6"},El={class:"col-12 col-sm-6"},Cl={class:"col-12 col-sm-6"},Pl={class:"row q-col-gutter-sm"},Ql={class:"col-12 col-sm-6"},Sl={class:"col-12 col-sm-6"},Dl={class:"col-12 col-sm-6"},Ml={key:0,class:"col-12 col-sm-6"},Nl={key:1,class:"col-12 col-sm-6"},Il={key:2,class:"col-12 col-sm-6"},xl={key:3,class:"col-12 col-sm-6"},$l={key:4,class:"col-12 col-sm-6"},Bl={class:"col-12 col-sm-6"},Rl={key:5,class:"col-12 col-sm-6"},Fl={class:"col-12 col-sm-6"},Tl={key:6,class:"col-12 col-sm-6"},jl={class:"col-12 col-sm-6"},Al={class:"row q-col-gutter-sm"},Ol={class:"text-subtitle2 q-mb-xs"},Wl={class:"rounded-borders"},Gl={class:"row q-col-gutter-sm q-mb-md"},Jl={class:"col-12 col-sm-6"},Ll={class:"col-12 col-sm-6"},zl={class:"col-12 col-sm-6"},Kl={class:"col-12 col-sm-6"},Yl={class:"col-12 col-sm-6"},Hl={class:"col-12 col-sm-6"},Xl={class:"col-12 col-sm-6"},Zl={class:"row q-col-gutter-sm q-mb-md"},eo={class:"col-12 col-sm-6"},lo={class:"col-12 col-sm-6"},oo={class:"col-12 col-sm-6"},so={key:0,class:"col-12 col-sm-6"},ao={class:"col-12 col-sm-6"},ro={key:1,class:"col-12 col-sm-6"},to={key:2,class:"col-12 col-sm-6"},no={key:3,class:"col-12 col-sm-6"},io={class:"col-12 col-sm-6"},mo={key:4,class:"col-12 col-sm-6"},uo={class:"row q-col-gutter-sm q-mb-md"},co={class:"row items-center justify-between"},po={class:"text-subtitle2"},go={key:0},fo=["href"],_o={key:1,class:"text-grey"},ee="https://storage.googleapis.com/a1aa/image/089155c9-d1c1-4945-5728-c9bdb3576171.jpg",So=Object.assign({layout:sl},{__name:"Edit",props:["documentTypes","offices","data","current_offices","schemes"],setup(P){var se,ae,re,te,ne,ie,de,me,ue,ce,pe,ge,fe,_e,ve,ye,be,ke,qe,Ve,we,he;const{educationalQualifications:xe,skills:le,formatDate:oe}=rl(),m=P,E=al(),p=J("1"),D=J(!!((se=m.data)!=null&&se.scheme_id)||!!((ae=m.data)!=null&&ae.scheme)),e=ze({name:(re=m.data)==null?void 0:re.name,email:(te=m.data)==null?void 0:te.email,mobile:(ne=m.data)==null?void 0:ne.mobile,parent_name:(ie=m.data)==null?void 0:ie.parent_name,date_of_birth:(de=m.data)==null?void 0:de.date_of_birth,address:(me=m.data)==null?void 0:me.address,designation:(ue=m.data)==null?void 0:ue.designation,employment_type:(ce=m.data)==null?void 0:ce.employment_type,office:((ge=(pe=m.data)==null?void 0:pe.office)==null?void 0:ge.id)??null,educational_qln:(fe=m.data)==null?void 0:fe.educational_qln,technical_qln:(_e=m.data)==null?void 0:_e.technical_qln,name_of_workplace:(ve=m.data)==null?void 0:ve.name_of_workplace,post_per_qualification:(ye=m.data)==null?void 0:ye.post_per_qualification,engagement_card_no:(be=m.data)==null?void 0:be.engagement_card_no,date_of_engagement:(ke=m.data)==null?void 0:ke.date_of_engagement,skill_category:(qe=m.data)==null?void 0:qe.skill_category,skill_at_present:(Ve=m.data)==null?void 0:Ve.skill_at_present,scheme:((he=(we=m.data)==null?void 0:we.scheme)==null?void 0:he.id)??null,documents:[],avatar:null}),K=J(null);function $e(){var a;(a=K.value)==null||a.click()}function Be(a){const o=a.target.files[0];if(o&&o.size<=800*1024){const d=new FileReader;d.onload=()=>{S.value=d.result},e.avatar=o,d.readAsDataURL(o)}else alert("File too large or invalid type. Max size: 800KB.")}function Re(){var a;S.value=(a=m.data)!=null&&a.avatar?`/storage/${m.data.avatar}`:ee,e.avatar=null,K.value.value=null}const S=J(""),Fe=(a,o)=>{e.documents[a]={...e.documents[a],file:o}},Te=a=>{window.open(a,"_blank")},Y=()=>{if(p.value==="1"){if(!e.name||!e.mobile||!e.parent_name||!e.date_of_birth||!e.educational_qln){E.notify({type:"negative",message:"Please fill all required Personal Info fields."});return}p.value=h.value?"2":"4"}else if(p.value==="2"){if(!e.employment_type||!e.designation||!e.office){E.notify({type:"negative",message:"Please fill all required Job Info fields."});return}if(e.employment_type==="MR"&&(!e.skill_category||!e.skill_at_present||!e.date_of_engagement)){E.notify({type:"negative",message:"Please fill all required Job Info fields."});return}p.value="3"}else p.value==="3"&&(p.value="4")},H=()=>{p.value==="4"?p.value=h.value?"3":"1":p.value==="3"?p.value=h.value?"2":"1":p.value==="2"&&(p.value="1")},je=a=>a?typeof a=="string"?a:URL.createObjectURL(a):"#",Ae=[{label:"MR",value:"MR"},{label:"PE",value:"PE"}],Oe=()=>{E.dialog({title:"Confirm Submission",message:"Are you sure you want to submit?",cancel:!0,persistent:!0}).onOk(()=>{var o,d;const a=new FormData;a.append("name",e.name),a.append("email",e.email||""),a.append("mobile",e.mobile),a.append("parent_name",e.parent_name),a.append("date_of_birth",e.date_of_birth),a.append("address",e.address),a.append("designation",e.designation),a.append("employment_type",e.employment_type),a.append("office",((o=e.office)==null?void 0:o.id)||e.office),a.append("educational_qln",e.educational_qln),a.append("technical_qln",e.technical_qln),a.append("name_of_workplace",e.name_of_workplace),a.append("post_per_qualification",e.post_per_qualification),a.append("engagement_card_no",e.engagement_card_no),a.append("date_of_engagement",e.date_of_engagement||""),a.append("skill_category",e.skill_category),a.append("skill_at_present",e.skill_at_present),D.value||(e.scheme=""),a.append("scheme",((d=e.scheme)==null?void 0:d.id)||e.scheme),e.avatar&&typeof e.avatar!="string"&&a.append("avatar",e.avatar),Object.entries(e.documents).forEach(([g,i])=>{i!=null&&i.file&&a.append(`documents[${g}]`,i.file)}),axios.post(route("employee.update",m.data),a,{headers:{"Content-Type":"multipart/form-data"}}).then(g=>{const{employee:i,message:q}=g.data;E.notify({type:"positive",message:g.data.message||"Employee saved successfully."}),e.reset(),Ze.get(route("employee.show",i))}).catch(g=>{if(g.response){const i=g.response.data.errors,q=[];let y=null;if(i){for(const V in i)y||(y=V),i[V]&&q.push(...i[V]);if(e.errors=i,y){const U={name:1,email:1,mobile:1,parent_name:1,date_of_birth:1,educational_qln:1,technical_qln:1,employment_type:2,designation:2,date_of_engagement:2,name_of_workplace:2,office:2,post_per_qualification:2,skill_category:2,skill_at_present:2,documents:3}[y]||1;p.value=String(U)}E.notify({type:"negative",message:q.join(", ")})}else g.response.data.message&&E.notify({type:"negative",message:g.response.data.message})}else E.notify({type:"negative",message:"System Error. Please try again later."})})})};Ke(()=>{var a,o;(a=m.data.documents)!=null&&a.length&&m.data.documents.forEach(d=>{e.documents[d.document_type_id]={name:d.name,url:`/storage/${d.path}`}}),(o=m.data)!=null&&o.avatar?S.value=`/storage/${m.data.avatar}`:S.value=ee});const h=De(()=>{var a;return!!((a=Me().props.roles)!=null&&a.find(o=>o==="Admin"))}),We=De(()=>{var a;return!!((a=Me().props.roles)!=null&&a.find(o=>o==="Manager"))}),Ge=()=>{window.history.back()};return(a,o)=>(u(),Z(Le,{class:"container",padding:""},{default:w(()=>[s("div",tl,[s("div",null,[o[33]||(o[33]=s("div",{class:"stitle"},"Edit Employee",-1)),r(Je,{class:"text-dark"},{default:w(()=>[r(X,{class:"cursor-pointer",icon:"dashboard",label:"Dashboard",onClick:o[0]||(o[0]=d=>a.$inertia.get(a.route("dashboard")))}),r(X,{class:"cursor-pointer",label:"All Employees",onClick:o[1]||(o[1]=d=>a.$inertia.get(a.route("employees.all")))}),r(X,{class:"cursor-pointer",label:"Go Back",onClick:Ge})]),_:1})])]),o[56]||(o[56]=s("br",null,null,-1)),r(ol,{onSubmit:Ye(Oe,["prevent"]),class:"bg-white q-pa-md"},{default:w(()=>[r(el,{modelValue:p.value,"onUpdate:modelValue":o[32]||(o[32]=d=>p.value=d),ref:"stepper",animated:"",color:"secondary"},{default:w(()=>[r(z,{name:"1",title:"Personal Info",icon:"person",done:p.value>1},{default:w(()=>{var d,g,i,q,y,V,U,C,M,N,I,x,$,B,R,F,T,j,A,O,W,G,n,Ue,Ee,Ce,Pe,Qe;return[s("div",nl,[s("div",il,[s("div",dl,[r(Se,{src:S.value,alt:"Profile Photo",style:{width:"120px",height:"120px"},"img-class":"object-cover"},null,8,["src"])]),s("div",ml,[s("div",ul,[r(k,{label:"Upload new Photo",color:"primary",onClick:$e,class:"text-weight-medium",rounded:"",unelevated:""}),r(k,{label:"Reset",color:"grey-4","text-color":"dark",onClick:Re,class:"text-weight-medium",rounded:"",unelevated:""})]),o[34]||(o[34]=s("p",{class:"text-subtitle2 text-grey-7"}," Allowed JPG, GIF or PNG. Max size of 800K ",-1))])]),s("input",{ref_key:"fileInput",ref:K,type:"file",accept:"image/*",class:"hidden",onChange:Be},null,544)]),We.value?(u(),c("div",cl,[s("div",pl,[r(f,{modelValue:l(e).name,"onUpdate:modelValue":o[2]||(o[2]=t=>l(e).name=t),label:"Name",disable:"",outlined:"",dense:"",error:!!((d=l(e).errors)!=null&&d.name),"error-message":(g=l(e).errors)==null?void 0:g.name,rules:[t=>!!t||"Name is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",gl,[r(f,{modelValue:l(e).email,"onUpdate:modelValue":o[3]||(o[3]=t=>l(e).email=t),label:"Email",type:"email",outlined:"",dense:"",error:!!((i=l(e).errors)!=null&&i.email),"error-message":(q=l(e).errors)==null?void 0:q.email},null,8,["modelValue","error","error-message"])]),s("div",fl,[r(f,{modelValue:l(e).mobile,"onUpdate:modelValue":o[4]||(o[4]=t=>l(e).mobile=t),label:"Mobile",mask:"##########",outlined:"",dense:"",error:!!((y=l(e).errors)!=null&&y.mobile),"error-message":(V=l(e).errors)==null?void 0:V.mobile,rules:[t=>!!t||"Mobile is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",_l,[r(f,{modelValue:l(e).address,"onUpdate:modelValue":o[5]||(o[5]=t=>l(e).address=t),label:"Address",outlined:"",dense:"",error:!!((U=l(e).errors)!=null&&U.address),"error-message":(C=l(e).errors)==null?void 0:C.address,rules:[t=>!!t||"Address is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",vl,[r(f,{modelValue:l(e).name_of_workplace,"onUpdate:modelValue":o[6]||(o[6]=t=>l(e).name_of_workplace=t),label:"Workplace",outlined:"",dense:"",error:!!((M=l(e).errors)!=null&&M.name_of_workplace),"error-message":(N=l(e).errors)==null?void 0:N.name_of_workplace,rules:[t=>!!t||"Workplace is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",yl,[r(f,{modelValue:l(e).technical_qln,"onUpdate:modelValue":o[7]||(o[7]=t=>l(e).technical_qln=t),label:"Technical Qualification",outlined:"",dense:"",error:!!((I=l(e).errors)!=null&&I.technical_qln),"error-message":(x=l(e).errors)==null?void 0:x.technical_qln,rules:[t=>!!t||"Technical Qualification is required"]},null,8,["modelValue","error","error-message","rules"])])])):b("",!0),h.value?(u(),c("div",bl,[s("div",kl,[r(f,{modelValue:l(e).name,"onUpdate:modelValue":o[8]||(o[8]=t=>l(e).name=t),label:"Name",outlined:"",dense:"",error:!!(($=l(e).errors)!=null&&$.name),"error-message":(B=l(e).errors)==null?void 0:B.name,rules:[t=>!!t||"Name is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",ql,[r(f,{modelValue:l(e).email,"onUpdate:modelValue":o[9]||(o[9]=t=>l(e).email=t),label:"Email",type:"email",outlined:"",dense:"",error:!!((R=l(e).errors)!=null&&R.email),"error-message":(F=l(e).errors)==null?void 0:F.email},null,8,["modelValue","error","error-message"])]),s("div",Vl,[r(f,{modelValue:l(e).mobile,"onUpdate:modelValue":o[10]||(o[10]=t=>l(e).mobile=t),label:"Mobile",mask:"##########",outlined:"",dense:"",error:!!((T=l(e).errors)!=null&&T.mobile),"error-message":(j=l(e).errors)==null?void 0:j.mobile,rules:[t=>!!t||"Mobile is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",wl,[r(f,{modelValue:l(e).parent_name,"onUpdate:modelValue":o[11]||(o[11]=t=>l(e).parent_name=t),label:"Parent Name",outlined:"",dense:"",error:!!((A=l(e).errors)!=null&&A.parent_name),"error-message":(O=l(e).errors)==null?void 0:O.parent_name,rules:[t=>!!t||"Parent Name is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",hl,[r(f,{modelValue:l(e).date_of_birth,"onUpdate:modelValue":o[12]||(o[12]=t=>l(e).date_of_birth=t),label:"Date of Birth",type:"date",outlined:"",dense:"",error:!!((W=l(e).errors)!=null&&W.date_of_birth),"error-message":(G=l(e).errors)==null?void 0:G.date_of_birth,rules:[t=>!!t||"Date of Birth is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Ul,[r(f,{modelValue:l(e).address,"onUpdate:modelValue":o[13]||(o[13]=t=>l(e).address=t),label:"Address",outlined:"",dense:"",error:!!((n=l(e).errors)!=null&&n.address),"error-message":(Ue=l(e).errors)==null?void 0:Ue.address,rules:[t=>!!t||"Address is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",El,[r(Q,{modelValue:l(e).educational_qln,"onUpdate:modelValue":o[14]||(o[14]=t=>l(e).educational_qln=t),options:l(xe),label:"Educational Qualification *",outlined:"",dense:"","emit-value":"","map-options":"",error:!!((Ee=l(e).errors)!=null&&Ee.educational_qln),"error-message":(Ce=l(e).errors)==null?void 0:Ce.educational_qln,rules:[t=>!!t||"Education Qualification is required"]},null,8,["modelValue","options","error","error-message","rules"])]),s("div",Cl,[r(f,{modelValue:l(e).technical_qln,"onUpdate:modelValue":o[15]||(o[15]=t=>l(e).technical_qln=t),label:"Technical Qualification",outlined:"",dense:"",error:!!((Pe=l(e).errors)!=null&&Pe.technical_qln),"error-message":(Qe=l(e).errors)==null?void 0:Qe.technical_qln,rules:[t=>!!t||"Technical Qualification is required"]},null,8,["modelValue","error","error-message","rules"])])])):b("",!0),r(L,null,{default:w(()=>[r(k,{flat:"",color:"negative",label:"Cancel",class:"q-ml-sm",onClick:o[16]||(o[16]=t=>a.$inertia.get(h.value?a.route("employees.all"):a.route("employees.manager.all")))}),r(k,{color:"primary",label:"Next",onClick:Y})]),_:1})]}),_:1},8,["done"]),h.value?(u(),Z(z,{key:0,name:"2",title:"Job Info",icon:"work",done:p.value>2},{default:w(()=>{var d,g,i,q,y,V,U,C,M,N,I,x,$,B,R,F,T,j,A,O,W,G;return[s("div",Pl,[s("div",Ql,[r(Q,{modelValue:l(e).employment_type,"onUpdate:modelValue":o[17]||(o[17]=n=>l(e).employment_type=n),label:"Employment Type *",options:Ae,"emit-value":"","map-options":"",outlined:"",dense:"",error:!!((d=l(e).errors)!=null&&d.employment_type),"error-message":(g=l(e).errors)==null?void 0:g.employment_type,rules:[n=>!!n||"Employment Type is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Sl,[r(f,{modelValue:l(e).designation,"onUpdate:modelValue":o[18]||(o[18]=n=>l(e).designation=n),label:"Designation *",outlined:"",dense:"",error:!!((i=l(e).errors)!=null&&i.designation),"error-message":(q=l(e).errors)==null?void 0:q.designation,rules:[n=>!!n||"Designation is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Dl,[r(Q,{modelValue:l(e).office,"onUpdate:modelValue":o[19]||(o[19]=n=>l(e).office=n),label:"Office *",options:P.offices,"option-label":"name","option-value":"id","emit-value":"","map-options":"",outlined:"",dense:"",error:!!((y=l(e).errors)!=null&&y.office),"error-message":(V=l(e).errors)==null?void 0:V.office,rules:[n=>!!n||"Office is required"]},null,8,["modelValue","options","error","error-message","rules"])]),l(e).employment_type==="PE"?(u(),c("div",Ml,[r(f,{modelValue:l(e).engagement_card_no,"onUpdate:modelValue":o[20]||(o[20]=n=>l(e).engagement_card_no=n),label:"Engagement Card No.",type:"text",outlined:"",dense:"",error:!!((U=l(e).errors)!=null&&U.engagement_card_no),"error-message":(C=l(e).errors)==null?void 0:C.engagement_card_no,rules:[n=>!!n||"Engagement Card No. is required"]},null,8,["modelValue","error","error-message","rules"])])):b("",!0),l(e).employment_type==="PE"?(u(),c("div",Nl,[r(f,{modelValue:l(e).date_of_engagement,"onUpdate:modelValue":o[21]||(o[21]=n=>l(e).date_of_engagement=n),label:"Date of Initial Engagement",type:"date",outlined:"",dense:"",error:!!((M=l(e).errors)!=null&&M.date_of_engagement),"error-message":(N=l(e).errors)==null?void 0:N.date_of_engagement,rules:[n=>!!n||"Date of Initial Engagement is required"]},null,8,["modelValue","error","error-message","rules"])])):b("",!0),l(e).employment_type==="MR"?(u(),c("div",Il,[r(f,{modelValue:l(e).date_of_engagement,"onUpdate:modelValue":o[22]||(o[22]=n=>l(e).date_of_engagement=n),label:"Date of Initial Engagement *",type:"date",outlined:"",dense:"",error:!!((I=l(e).errors)!=null&&I.date_of_engagement),"error-message":(x=l(e).errors)==null?void 0:x.date_of_engagement,rules:[n=>!!n||"Date of Initial Engagement is required"]},null,8,["modelValue","error","error-message","rules"])])):b("",!0),l(e).employment_type==="MR"?(u(),c("div",xl,[r(Q,{modelValue:l(e).skill_category,"onUpdate:modelValue":o[23]||(o[23]=n=>l(e).skill_category=n),label:"Skill Category at Initial Engagement *",options:l(le),"emit-value":"","map-options":"",outlined:"",dense:"",error:!!(($=l(e).errors)!=null&&$.skill_category),"error-message":(B=l(e).errors)==null?void 0:B.skill_category,rules:[n=>!!n||"Skill Category is required"]},null,8,["modelValue","options","error","error-message","rules"])])):b("",!0),l(e).employment_type==="MR"?(u(),c("div",$l,[r(Q,{modelValue:l(e).skill_at_present,"onUpdate:modelValue":o[24]||(o[24]=n=>l(e).skill_at_present=n),label:"Skill at Present *",options:l(le),"emit-value":"","map-options":"",outlined:"",dense:"",error:!!((R=l(e).errors)!=null&&R.skill_at_present),"error-message":(F=l(e).errors)==null?void 0:F.skill_at_present,rules:[n=>!!n||"Skill at Present is required"]},null,8,["modelValue","options","error","error-message","rules"])])):b("",!0),s("div",Bl,[r(f,{modelValue:l(e).name_of_workplace,"onUpdate:modelValue":o[25]||(o[25]=n=>l(e).name_of_workplace=n),label:"Workplace",outlined:"",dense:"",error:!!((T=l(e).errors)!=null&&T.name_of_workplace),"error-message":(j=l(e).errors)==null?void 0:j.name_of_workplace},null,8,["modelValue","error","error-message"])]),l(e).employment_type==="MR"?(u(),c("div",Rl,[r(f,{modelValue:l(e).post_per_qualification,"onUpdate:modelValue":o[26]||(o[26]=n=>l(e).post_per_qualification=n),label:"Post Selected",outlined:"",dense:"",error:!!((A=l(e).errors)!=null&&A.post_per_qualification),"error-message":(O=l(e).errors)==null?void 0:O.post_per_qualification,rules:[n=>!!n||"Post per Qualification is required"]},null,8,["modelValue","error","error-message","rules"])])):b("",!0),s("div",Fl,[r(Q,{modelValue:D.value,"onUpdate:modelValue":o[27]||(o[27]=n=>D.value=n),options:[{label:"Yes",value:!0},{label:"No",value:!1}],label:"Does Employee belong to a Scheme? *",outlined:"",dense:"","emit-value":"","map-options":""},null,8,["modelValue"])]),D.value?(u(),c("div",Tl,[s("div",jl,[r(Q,{modelValue:l(e).scheme,"onUpdate:modelValue":o[28]||(o[28]=n=>l(e).scheme=n),label:"Scheme *",options:P.schemes,"option-label":"name","option-value":"id","emit-value":"","map-options":"",outlined:"",dense:"",error:!!((W=l(e).errors)!=null&&W.scheme),"error-message":(G=l(e).errors)==null?void 0:G.scheme,rules:[n=>!!n||"Scheme is required"]},null,8,["modelValue","options","error","error-message","rules"])])])):b("",!0)]),r(L,null,{default:w(()=>[r(k,{flat:"",color:"negative",label:"Cancel",class:"q-ml-sm",onClick:o[29]||(o[29]=n=>a.$inertia.get(h.value?a.route("employees.all"):a.route("employees.manager.all")))}),r(k,{flat:"",color:"primary",label:"Back",onClick:H,class:"q-ml-sm"}),r(k,{color:"primary",label:"Next",onClick:Y})]),_:1})]}),_:1},8,["done"])):b("",!0),h.value?(u(),Z(z,{key:1,name:"3",title:"Upload Documents",icon:"cloud_upload",done:p.value>3},{default:w(()=>[s("div",Al,[(u(!0),c(Ne,null,Ie(P.documentTypes,(d,g)=>{var i,q;return u(),c("div",{class:"col-12 col-sm-6",key:d.id},[s("div",Ol,_(d.name),1),r(ll,{filled:"","model-value":((i=l(e).documents[d.id])==null?void 0:i.file)||null,"onUpdate:modelValue":y=>Fe(d.id,y),label:"Upload File",accept:".pdf,.jpg,.jpeg,.png",clearable:"",class:"full-width"},He({_:2},[(q=l(e).documents[d.id])!=null&&q.url?{name:"append",fn:w(()=>[r(k,{round:"",dense:"",flat:"",icon:"visibility",onClick:y=>Te(l(e).documents[d.id].url),class:"q-ml-sm"},null,8,["onClick"])]),key:"0"}:void 0]),1032,["model-value","onUpdate:modelValue"])])}),128))]),r(L,null,{default:w(()=>[r(k,{flat:"",color:"negative",label:"Cancel",class:"q-ml-sm",onClick:o[30]||(o[30]=d=>a.$inertia.get(h.value?a.route("employees.all"):a.route("employees.manager.all")))}),r(k,{flat:"",color:"primary",label:"Back",onClick:H,class:"q-ml-sm"}),r(k,{color:"primary",label:"Next",onClick:Y})]),_:1})]),_:1},8,["done"])):b("",!0),r(z,{name:"4",title:"Preview Information",icon:"visibility",done:p.value>4},{default:w(()=>{var d,g;return[s("div",Wl,[r(Se,{src:S.value||ee,alt:"Profile Photo",style:{width:"120px",height:"120px"},"img-class":"object-cover"},null,8,["src"])]),o[53]||(o[53]=s("div",{class:"q-mb-md text-h6"},"Personal Info",-1)),s("div",Gl,[s("div",Jl,[o[35]||(o[35]=s("strong",null,"Name:",-1)),v(" "+_(l(e).name),1)]),s("div",Ll,[o[36]||(o[36]=s("strong",null,"Email:",-1)),v(" "+_(l(e).email),1)]),s("div",zl,[o[37]||(o[37]=s("strong",null,"Mobile:",-1)),v(" "+_(l(e).mobile),1)]),s("div",Kl,[o[38]||(o[38]=s("strong",null,"Parent Name:",-1)),v(" "+_(l(e).parent_name),1)]),s("div",Yl,[o[39]||(o[39]=s("strong",null,"Date of Birth:",-1)),v(" "+_(l(oe)(l(e).date_of_birth)),1)]),s("div",Hl,[o[40]||(o[40]=s("strong",null,"Education:",-1)),v(" "+_(l(e).educational_qln),1)]),s("div",Xl,[o[41]||(o[41]=s("strong",null,"Technical Qualification:",-1)),v(" "+_(l(e).technical_qln),1)])]),o[54]||(o[54]=s("div",{class:"q-mb-md text-h6"},"Job Info",-1)),s("div",Zl,[s("div",eo,[o[42]||(o[42]=s("strong",null,"Employment Type:",-1)),v(" "+_(l(e).employment_type),1)]),s("div",lo,[o[43]||(o[43]=s("strong",null,"Office:",-1)),v(" "+_(((d=P.offices.find(i=>i.id===l(e).office))==null?void 0:d.name)||"â€”"),1)]),s("div",oo,[o[44]||(o[44]=s("strong",null,"Designation:",-1)),v(" "+_(l(e).designation),1)]),l(e).employment_type==="PE"?(u(),c("div",so,[o[45]||(o[45]=s("strong",null,"Engagement Card No. :",-1)),v(" "+_(l(e).engagement_card_no),1)])):b("",!0),s("div",ao,[o[46]||(o[46]=s("strong",null,"Date of Initial Engagement:",-1)),v(" "+_(l(oe)(l(e).date_of_engagement)),1)]),l(e).employment_type==="MR"?(u(),c("div",ro,[o[47]||(o[47]=s("strong",null,"Skill Category at Initial Engagement:",-1)),v(" "+_(l(e).skill_category),1)])):b("",!0),l(e).employment_type==="MR"?(u(),c("div",to,[o[48]||(o[48]=s("strong",null,"Skill at Present:",-1)),v(" "+_(l(e).skill_at_present),1)])):b("",!0),l(e).employment_type==="MR"?(u(),c("div",no,[o[49]||(o[49]=s("strong",null,"Post Selected:",-1)),v(" "+_(l(e).post_per_qualification),1)])):b("",!0),s("div",io,[o[50]||(o[50]=s("strong",null,"Workplace:",-1)),v(" "+_(l(e).name_of_workplace),1)]),D.value?(u(),c("div",mo,[o[51]||(o[51]=s("strong",null,"Scheme:",-1)),v(_(((g=((m==null?void 0:m.schemes)||P.schemes).find(i=>String(i.id)===String(l(e).scheme)))==null?void 0:g.name)||""),1)])):b("",!0)]),o[55]||(o[55]=s("div",{class:"q-mb-md text-h6"},"Uploaded Documents",-1)),s("div",uo,[(u(!0),c(Ne,null,Ie(P.documentTypes,(i,q)=>{var y,V,U,C;return u(),c("div",{class:"col-12 col-sm-6",key:i.id},[s("div",co,[s("div",po,[s("strong",null,_(i.name),1)]),(y=l(e).documents[i.id])!=null&&y.file||(V=l(e).documents[i.id])!=null&&V.url?(u(),c("div",go,[s("a",{href:je(((U=l(e).documents[i.id])==null?void 0:U.file)||((C=l(e).documents[i.id])==null?void 0:C.url)),target:"_blank",class:"text-primary text-weight-medium"},[r(Xe,{name:"visibility",class:"q-mr-xs"}),o[52]||(o[52]=v(" View File "))],8,fo)])):(u(),c("div",_o,"No document uploaded"))])])}),128))]),r(L,null,{default:w(()=>[r(k,{flat:"",color:"negative",label:"Cancel",class:"q-ml-sm",onClick:o[31]||(o[31]=i=>a.$inertia.get(h.value?a.route("employees.all"):a.route("employees.manager.all")))}),r(k,{flat:"",color:"primary",label:"Back",onClick:H,class:"q-ml-sm"}),r(k,{type:"submit",color:"btn-primary",label:"Submit"})]),_:1})]}),_:1,__:[53,54,55]},8,["done"])]),_:1},8,["modelValue"])]),_:1})]),_:1,__:[56]}))}});export{So as default};
