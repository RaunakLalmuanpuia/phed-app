import{Q as jt,a as mt}from"./QBreadcrumbs-xFstMEAC.js";import{b as Lt,a as At,Q as Bt}from"./QLayout-Cl5bBm7n.js";import{J as Ut,K as et,L as kt,M as Ge,r as Q,c as A,m as Qe,l as qt,N as $e,R as Nt,n as N,D as Le,O as zt,P as Ft,S as it,T as rt,H as Ie,U as Je,V as nt,k as ge,X as Qt,Y as It,Z as Mt,I as ut,x as xe,f as E,o as c,i as t,w as l,z as B,e as n,d as O,g as L,q as R,Q as oe,F as Y,v as ae,t as q,p as Se,y as W,_ as me,h,$ as ve,u as y,a0 as Ee,a1 as Ht,a2 as Wt,a3 as tt,a4 as Kt,a5 as Yt,a6 as Jt,a7 as Gt,a8 as gt,a9 as vt,aa as Xt,ab as Zt,W as ot,ac as el,E as Ct,G as tl,ad as ll,ae as pt,af as al,ag as nl,ah as ol,ai as sl,aj as il,ak as rl,al as ul,b as yt,A as dl}from"./app-BaVsgt8H.js";import{Q as dt,a as F,b as D,c as cl}from"./format-DAOQXuzr.js";import{r as fl,Q as Ae}from"./QSelect-Cvgjxn-b.js";import{C as Re,v as ml,a as bt,u as gl,p as ht,b as vl,c as pl,d as yl,r as _t,s as bl,Q as hl,_ as _l}from"./BackendLayout-COnxDR-B.js";import{Q as xl}from"./QMarkupTable-l4yyvDqL.js";import{Q as Ne}from"./QFile-jpYHyYRi.js";import{u as we}from"./use-quasar-9qOP1OwN.js";import{u as Be}from"./useUtils-CnSpUXmG.js";import{_ as $t}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as xt}from"./touch-CCQAwryY.js";import{Q as wl,a as kl}from"./QTimeline-C4QdUGIt.js";import{Q as Tt}from"./QForm-B8tg0ztJ.js";import{u as ql,a as Cl,b as $l}from"./use-fullscreen-CJPVHaO-.js";/* empty css            */import"./QSlideTransition-yUepvG0f.js";import"./date-D9AgWOmg.js";let Tl=0;const Dl=["click","keydown"],Sl={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Tl++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Rl(e,a,o,d){const r=Ut(kt,et);if(r===et)return console.error("QTab/QRouteTab component needs to be child of QTabs"),et;const{proxy:v}=Ge(),f=Q(null),x=Q(null),u=Q(null),s=A(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),i=A(()=>r.currentModel.value===e.name),m=A(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(i.value===!0?" q-tab--active"+(r.tabProps.value.activeClass?" "+r.tabProps.value.activeClass:"")+(r.tabProps.value.activeColor?` text-${r.tabProps.value.activeColor}`:"")+(r.tabProps.value.activeBgColor?` bg-${r.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&r.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||r.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),S=A(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(r.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),C=A(()=>e.disable===!0||r.hasFocus.value===!0||i.value===!1&&r.hasActiveTab.value===!0?-1:e.tabindex||0);function T(P,J){var U;if(J!==!0&&(P==null?void 0:P.qAvoidFocus)!==!0&&((U=f.value)==null||U.focus()),e.disable!==!0){r.updateModel({name:e.name}),o("click",P);return}}function b(P){Ft(P,[13,32])?T(P,!0):it(P)!==!0&&P.keyCode>=35&&P.keyCode<=40&&P.altKey!==!0&&P.metaKey!==!0&&r.onKbdNavigate(P.keyCode,v.$el)===!0&&rt(P),o("keydown",P)}function k(){const P=r.tabProps.value.narrowIndicator,J=[],U=N("div",{ref:u,class:["q-tab__indicator",r.tabProps.value.indicatorClass]});e.icon!==void 0&&J.push(N(Le,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&J.push(N("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&J.push(e.alertIcon!==void 0?N(Le,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):N("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),P===!0&&J.push(U);const te=[N("div",{class:"q-focus-helper",tabindex:-1,ref:f}),N("div",{class:S.value},zt(a.default,J))];return P===!1&&te.push(U),te}const _={name:A(()=>e.name),rootRef:x,tabIndicatorRef:u,routeData:d};Qe(()=>{r.unregisterTab(_)}),qt(()=>{r.registerTab(_)});function p(P,J){const U={ref:x,class:m.value,tabindex:C.value,role:"tab","aria-selected":i.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:T,onKeydown:b,...J};return $e(N(P,U,k()),[[Nt,s.value]])}return{renderTab:p,$tabs:r}}const Ue=Ie({name:"QTab",props:Sl,emits:Dl,setup(e,{slots:a,emit:o}){const{renderTab:d}=Rl(e,a,o);return()=>d("div")}});function El(e,a,o){const d=o===!0?["left","right"]:["top","bottom"];return`absolute-${a===!0?d[0]:d[1]}${e?` text-${e}`:""}`}const Ol=["left","center","right","justify"],Vl=Ie({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Ol.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:a,emit:o}){const{proxy:d}=Ge(),{$q:r}=d,{registerTick:v}=Je(),{registerTick:f}=Je(),{registerTick:x}=Je(),{registerTimeout:u,removeTimeout:s}=nt(),{registerTimeout:i,removeTimeout:m}=nt(),S=Q(null),C=Q(null),T=Q(e.modelValue),b=Q(!1),k=Q(!0),_=Q(!1),p=Q(!1),P=[],J=Q(0),U=Q(!1);let te=null,le=null,ne;const se=A(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:El(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),pe=A(()=>{const $=J.value,j=T.value;for(let z=0;z<$;z++)if(P[z].name.value===j)return!0;return!1}),Te=A(()=>`q-tabs__content--align-${b.value===!0?"left":p.value===!0?"justify":e.align}`),Oe=A(()=>`q-tabs row no-wrap items-center q-tabs--${b.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),Ve=A(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+Te.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),be=A(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),ye=A(()=>e.vertical!==!0&&r.lang.rtl===!0),ce=A(()=>fl===!1&&ye.value===!0);ge(ye,re),ge(()=>e.modelValue,$=>{ke({name:$,setCurrent:!0,skipEmit:!0})}),ge(()=>e.outsideArrows,he);function ke({name:$,setCurrent:j,skipEmit:z}){T.value!==$&&(z!==!0&&e["onUpdate:modelValue"]!==void 0&&o("update:modelValue",$),(j===!0||e["onUpdate:modelValue"]===void 0)&&(Ce(T.value,$),T.value=$))}function he(){v(()=>{S.value&&qe({width:S.value.offsetWidth,height:S.value.offsetHeight})})}function qe($){if(be.value===void 0||C.value===null)return;const j=$[be.value.container],z=Math.min(C.value[be.value.scroll],Array.prototype.reduce.call(C.value.children,(Z,K)=>Z+(K[be.value.content]||0),0)),X=j>0&&z>j;b.value=X,X===!0&&f(re),p.value=j<parseInt(e.breakpoint,10)}function Ce($,j){const z=$!=null&&$!==""?P.find(Z=>Z.name.value===$):null,X=j!=null&&j!==""?P.find(Z=>Z.name.value===j):null;if(Ye===!0)Ye=!1;else if(z&&X){const Z=z.tabIndicatorRef.value,K=X.tabIndicatorRef.value;te!==null&&(clearTimeout(te),te=null),Z.style.transition="none",Z.style.transform="none",K.style.transition="none",K.style.transform="none";const M=Z.getBoundingClientRect(),ee=K.getBoundingClientRect();K.style.transform=e.vertical===!0?`translate3d(0,${M.top-ee.top}px,0) scale3d(1,${ee.height?M.height/ee.height:1},1)`:`translate3d(${M.left-ee.left}px,0,0) scale3d(${ee.width?M.width/ee.width:1},1,1)`,x(()=>{te=setTimeout(()=>{te=null,K.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",K.style.transform="none"},70)})}X&&b.value===!0&&ie(X.rootRef.value)}function ie($){const{left:j,width:z,top:X,height:Z}=C.value.getBoundingClientRect(),K=$.getBoundingClientRect();let M=e.vertical===!0?K.top-X:K.left-j;if(M<0){C.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(M),re();return}M+=e.vertical===!0?K.height-Z:K.width-z,M>0&&(C.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(M),re())}function re(){const $=C.value;if($===null)return;const j=$.getBoundingClientRect(),z=e.vertical===!0?$.scrollTop:Math.abs($.scrollLeft);ye.value===!0?(k.value=Math.ceil(z+j.width)<$.scrollWidth-1,_.value=z>0):(k.value=z>0,_.value=e.vertical===!0?Math.ceil(z+j.height)<$.scrollHeight:Math.ceil(z+j.width)<$.scrollWidth)}function H($){le!==null&&clearInterval(le),le=setInterval(()=>{G($)===!0&&g()},5)}function fe(){H(ce.value===!0?Number.MAX_SAFE_INTEGER:0)}function ue(){H(ce.value===!0?0:Number.MAX_SAFE_INTEGER)}function g(){le!==null&&(clearInterval(le),le=null)}function w($,j){const z=Array.prototype.filter.call(C.value.children,ee=>ee===j||ee.matches&&ee.matches(".q-tab.q-focusable")===!0),X=z.length;if(X===0)return;if($===36)return ie(z[0]),z[0].focus(),!0;if($===35)return ie(z[X-1]),z[X-1].focus(),!0;const Z=$===(e.vertical===!0?38:37),K=$===(e.vertical===!0?40:39),M=Z===!0?-1:K===!0?1:void 0;if(M!==void 0){const ee=ye.value===!0?-1:1,De=z.indexOf(j)+M*ee;return De>=0&&De<X&&(ie(z[De]),z[De].focus({preventScroll:!0})),!0}}const I=A(()=>ce.value===!0?{get:$=>Math.abs($.scrollLeft),set:($,j)=>{$.scrollLeft=-j}}:e.vertical===!0?{get:$=>$.scrollTop,set:($,j)=>{$.scrollTop=j}}:{get:$=>$.scrollLeft,set:($,j)=>{$.scrollLeft=j}});function G($){const j=C.value,{get:z,set:X}=I.value;let Z=!1,K=z(j);const M=$<K?-1:1;return K+=M*5,K<0?(Z=!0,K=0):(M===-1&&K<=$||M===1&&K>=$)&&(Z=!0,K=$),X(j,K),re(),Z}function de($,j){for(const z in $)if($[z]!==j[z])return!1;return!0}function ze(){let $=null,j={matchedLen:0,queryDiff:9999,hrefLen:0};const z=P.filter(M=>{var ee;return((ee=M.routeData)==null?void 0:ee.hasRouterLink.value)===!0}),{hash:X,query:Z}=d.$route,K=Object.keys(Z).length;for(const M of z){const ee=M.routeData.exact.value===!0;if(M.routeData[ee===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:De,query:Xe,matched:Vt,href:Pt}=M.routeData.resolvedLink.value,Ze=Object.keys(Xe).length;if(ee===!0){if(De!==X||Ze!==K||de(Z,Xe)===!1)continue;$=M.name.value;break}if(De!==""&&De!==X||Ze!==0&&de(Xe,Z)===!1)continue;const je={matchedLen:Vt.length,queryDiff:K-Ze,hrefLen:Pt.length-De.length};if(je.matchedLen>j.matchedLen){$=M.name.value,j=je;continue}else if(je.matchedLen!==j.matchedLen)continue;if(je.queryDiff<j.queryDiff)$=M.name.value,j=je;else if(je.queryDiff!==j.queryDiff)continue;je.hrefLen>j.hrefLen&&($=M.name.value,j=je)}if($===null&&P.some(M=>M.routeData===void 0&&M.name.value===T.value)===!0){Ye=!1;return}ke({name:$,setCurrent:!0})}function Me($){if(s(),U.value!==!0&&S.value!==null&&$.target&&typeof $.target.closest=="function"){const j=$.target.closest(".q-tab");j&&S.value.contains(j)===!0&&(U.value=!0,b.value===!0&&ie(j))}}function He(){u(()=>{U.value=!1},30)}function Pe(){V.avoidRouteWatcher===!1?i(ze):m()}function Fe(){if(ne===void 0){const $=ge(()=>d.$route.fullPath,Pe);ne=()=>{$(),ne=void 0}}}function We($){P.push($),J.value++,he(),$.routeData===void 0||d.$route===void 0?i(()=>{if(b.value===!0){const j=T.value,z=j!=null&&j!==""?P.find(X=>X.name.value===j):null;z&&ie(z.rootRef.value)}}):(Fe(),$.routeData.hasRouterLink.value===!0&&Pe())}function Ke($){P.splice(P.indexOf($),1),J.value--,he(),ne!==void 0&&$.routeData!==void 0&&(P.every(j=>j.routeData===void 0)===!0&&ne(),Pe())}const V={currentModel:T,tabProps:se,hasFocus:U,hasActiveTab:pe,registerTab:We,unregisterTab:Ke,verifyRouteModel:Pe,updateModel:ke,onKbdNavigate:w,avoidRouteWatcher:!1};Qt(kt,V);function _e(){te!==null&&clearTimeout(te),g(),ne==null||ne()}let ft,Ye;return Qe(_e),It(()=>{ft=ne!==void 0,_e()}),Mt(()=>{ft===!0&&(Fe(),Ye=!0,Pe()),he()}),()=>N("div",{ref:S,class:Oe.value,role:"tablist",onFocusin:Me,onFocusout:He},[N(Lt,{onResize:qe}),N("div",{ref:C,class:Ve.value,onScroll:re},ut(a.default)),N(Le,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(k.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||r.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:fe,onTouchstartPassive:fe,onMouseupPassive:g,onMouseleavePassive:g,onTouchendPassive:g}),N(Le,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(_.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||r.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:ue,onTouchstartPassive:ue,onMouseupPassive:g,onMouseleavePassive:g,onTouchendPassive:g})])}}),Pl={key:0,class:"text-grey-7 text-center q-pa-md italic"},jl={key:1},Ll={class:"row q-col-gutter-md q-mt-sm"},Al={class:"q-pa-sm"},Bl={class:"q-pa-sm"},Ul={class:"q-pa-sm"},Nl={class:"q-pa-sm"},zl={key:0},Fl={key:0,class:"text-grey-7 text-center q-pa-md italic"},Ql={key:1,class:"flex flex-col gap-6"},Il={class:"flex flex-wrap justify-between items-center mb-4"},Ml={class:"text-gray-600"},Hl={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4"},Wl={class:"text-gray-500"},Kl={class:"text-subtitle2 text-weight-medium q-mb-xs"},Yl={__name:"Document",props:["data","office","documentTypes","canDeleteDocument","canApproveDocumentEdit","canRequestDocumentEdit"],setup(e){const a=e,o=we(),d=Q(""),r=Q(!1),v=A(()=>{var T;return(T=a.data)!=null&&T.documents?a.data.documents.filter(b=>{var _,p,P;const k=d.value.toLowerCase();return((_=b.name)==null?void 0:_.toLowerCase().includes(k))||((P=(p=b.type)==null?void 0:p.name)==null?void 0:P.toLowerCase().includes(k))}):[]}),f=A(()=>!Object.values(s.files).some(T=>T));function x(T){return new Date(T).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}const u=A(()=>{var T,b;return((b=(T=a.data.document_request)==null?void 0:T.slice(-1)[0])==null?void 0:b.approval_status)==="pending"}),s=xe({files:{}}),i=()=>{s.post(route("document.request",a.data),{onSuccess:()=>{s.reset("files"),r.value=!1,o.notify({type:"positive",message:"Document Request Submitted",position:"bottom"})},onError:T=>{Object.values(T).forEach(b=>{o.notify({type:"negative",message:b,position:"bottom"})})}})},m=T=>{s.post(route("document.approve",T),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),r.value=!1,s.reset(),o.notify({type:"positive",message:"Document Approved",position:"bottom"})},onError:b=>{Object.values(b).forEach(k=>{o.notify({type:"negative",message:k,position:"bottom"})})}})},S=T=>{s.post(route("document.reject",T),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),r.value=!1,s.reset(),o.notify({type:"negative",message:"Transfer Rejected",position:"bottom"})},onError:b=>{Object.values(b).forEach(k=>{o.notify({type:"negative",message:k,position:"bottom"})})}})},C=T=>{var b;o.dialog({title:"Confirm",message:`Are you sure you want to delete "${(b=T.type)==null?void 0:b.name}"?`,cancel:!0,persistent:!0}).onOk(()=>{s.delete(route("document.destroy",T),{preserveScroll:!0,onSuccess:()=>{o.notify({type:"positive",message:"Document deleted successfully."})},onError:k=>{Object.values(k).forEach(_=>{o.notify({type:"negative",message:_,position:"bottom"})})}})})};return(T,b)=>(c(),E(Y,null,[t(W,{class:"q-mt-md"},{default:l(()=>[t(B,{class:"flex items-center justify-between"},{default:l(()=>[b[3]||(b[3]=n("div",{class:"stitle text-lg font-bold"},"Uploaded Documents",-1)),e.canRequestDocumentEdit?(c(),O(R,{key:0,label:"Request Document Update",color:"primary",disable:u.value,onClick:b[0]||(b[0]=k=>r.value=!0)},null,8,["disable"])):L("",!0)]),_:1,__:[3]}),t(B,null,{default:l(()=>[v.value.length===0?(c(),E("div",Pl," No documents uploaded ")):L("",!0),v.value.length>0?(c(),E("div",jl,[n("div",Ll,[t(oe,{modelValue:d.value,"onUpdate:modelValue":b[1]||(b[1]=k=>d.value=k),dense:"",outlined:"",label:"Search by document type...",class:"col-12 col-sm-6"},null,8,["modelValue"])]),t(xl,{flat:"",dense:"",class:"q-ma-sm"},{default:l(()=>[b[5]||(b[5]=n("thead",null,[n("tr",{class:"text-left"},[n("th",null,"Type"),n("th",null,"Mime Type"),n("th",null,"Upload Date"),n("th",null,"Actions")])],-1)),n("tbody",null,[(c(!0),E(Y,null,ae(v.value,k=>{var _;return c(),E("tr",{key:k.id,class:"text-left"},[n("td",Al,q(((_=k.type)==null?void 0:_.name)||"—"),1),n("td",Bl,q(k.mime),1),n("td",Ul,q(x(k.upload_date)),1),n("td",Nl,[t(R,{icon:"visibility",flat:"",dense:"",color:"primary",round:"",href:`/storage/${k.path}`,target:"_blank",title:"View Document"},null,8,["href"]),t(R,{icon:"download",flat:"",dense:"",round:"",color:"primary",href:`/storage/${k.path}`,download:"",title:"Download Document"},null,8,["href"]),e.canDeleteDocument?(c(),O(R,{key:0,icon:"delete",flat:"",dense:"",round:"",color:"red",onClick:p=>C(k),download:"",title:"Download Document"},null,8,["onClick"])):L("",!0)])])}),128)),v.value.length===0?(c(),E("tr",zl,b[4]||(b[4]=[n("td",{colspan:"5",class:"text-center text-grey"},"No documents found",-1)]))):L("",!0)])]),_:1,__:[5]})])):L("",!0)]),_:1}),t(Se),t(B,null,{default:l(()=>[e.data.document_request.length===0?(c(),E("div",Fl," No Document update request found. ")):(c(),E("div",Ql,[(c(!0),E(Y,null,ae(e.data.document_request,k=>(c(),O(W,{key:k.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:l(()=>[t(B,null,{default:l(()=>[n("div",Il,[n("div",null,[b[6]||(b[6]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:me(["ml-1 font-medium capitalize",{"text-yellow-600":k.approval_status==="pending","text-green-600":k.approval_status==="approved","text-red-600":k.approval_status==="rejected"}])},q(k.approval_status),3)]),n("div",Ml,[b[7]||(b[7]=n("b",null,"Requested On:",-1)),h(" "+q(x(k.request_date)),1)])]),n("div",null,[b[8]||(b[8]=n("b",{class:"block mb-3 text-gray-700"},"Documents",-1)),n("div",Hl,[(c(!0),E(Y,null,ae(k.files,_=>(c(),E("div",{key:_.id,class:"mb-2"},[n("div",Wl,[h(q(_.document_type.name)+": ",1),t(R,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${_.path}`,target:"_blank"},null,8,["href"]),t(R,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${_.path}`,target:"_blank",download:""},null,8,["href"])])]))),128))])])]),_:2},1024),k.approval_status==="pending"&&e.canApproveDocumentEdit?(c(),O(ve,{key:0,align:"right",class:"px-4 pb-4"},{default:l(()=>[t(R,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:_=>m(k.id)},null,8,["onClick"]),t(R,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:_=>S(k.id)},null,8,["onClick"])]),_:2},1024)):L("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}),t(Ee,{modelValue:r.value,"onUpdate:modelValue":b[2]||(b[2]=k=>r.value=k),persistent:""},{default:l(()=>[t(W,{class:"q-pa-md",style:{width:"90vw","max-width":"600px"}},{default:l(()=>[t(B,null,{default:l(()=>b[9]||(b[9]=[n("div",{class:"text-h6 text-weight-bold text-primary"}," Request Document Update ",-1)])),_:1,__:[9]}),t(B,null,{default:l(()=>[(c(!0),E(Y,null,ae(e.documentTypes,k=>(c(),E("div",{key:k.id,class:"column"},[n("div",Kl,q(k.name),1),t(Ne,{modelValue:y(s).files[k.id],"onUpdate:modelValue":_=>y(s).files[k.id]=_,filled:"",dense:"",label:"Choose file",accept:".pdf,.jpg,.jpeg,.png"},null,8,["modelValue","onUpdate:modelValue"])]))),128))]),_:1}),t(ve,{align:"right",class:"q-pt-none"},{default:l(()=>[$e(t(R,{flat:"",label:"Cancel",color:"grey"},null,512),[[Re]]),t(R,{label:"Submit Request",color:"primary",loading:y(s).processing,disable:f.value,onClick:i},null,8,["loading","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Jl={key:0,class:"text-grey-7 text-center q-pa-md italic"},Gl={key:1,class:"flex flex-col gap-6"},Xl={class:"flex flex-wrap justify-between items-center mb-4"},Zl={class:"text-gray-600"},ea={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4"},ta={class:"text-gray-500"},la={class:"text-gray-800 font-bold"},aa={class:"text-gray-500"},na={class:"text-gray-800 font-bold"},oa={class:"text-gray-500"},sa={__name:"TransferRequest",props:["data","office"],setup(e){const{formatDate:a}=Be(),o=we(),d=Q(!1),r=xe({}),v=x=>{r.post(route("transfer.approve",x),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),d.value=!1,r.reset(),o.notify({type:"success",message:"Transfer Approved",position:"bottom"})},onError:u=>{Object.values(u).forEach(s=>{o.notify({type:"negative",message:s,position:"bottom"})})}})},f=x=>{r.post(route("transfer.reject",x),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),d.value=!1,r.reset(),o.notify({type:"negative",message:"Transfer Rejected",position:"bottom"})},onError:u=>{Object.values(u).forEach(s=>{o.notify({type:"negative",message:s,position:"bottom"})})}})};return(x,u)=>(c(),O(W,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:l(()=>[t(B,{class:"flex items-center justify-between"},{default:l(()=>u[0]||(u[0]=[n("div",{class:"stitle text-lg font-bold"},"Transfer Request",-1)])),_:1,__:[0]}),t(Se),t(B,null,{default:l(()=>[e.data.transfer_requests.length===0?(c(),E("div",Jl," No transfer requests found. ")):(c(),E("div",Gl,[(c(!0),E(Y,null,ae(e.data.transfer_requests,s=>(c(),O(W,{key:s.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:l(()=>[t(B,null,{default:l(()=>{var i,m;return[n("div",Xl,[n("div",null,[u[1]||(u[1]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:me(["ml-1 font-medium capitalize",{"text-yellow-600":s.approval_status==="pending","text-green-600":s.approval_status==="approved","text-red-600":s.approval_status==="rejected"}])},q(s.approval_status),3)]),n("div",Zl,[u[2]||(u[2]=n("b",null,"Requested On:",-1)),h(" "+q(y(a)(s.request_date)),1)])]),n("div",null,[u[6]||(u[6]=n("b",{class:"block mb-3 text-gray-700"},"Transfer Details",-1)),n("div",ea,[n("div",null,[n("div",ta,[u[3]||(u[3]=h(" Current Office: ")),n("span",la,q(((i=s.current_office)==null?void 0:i.name)||"—"),1)])]),n("div",null,[n("div",aa,[u[4]||(u[4]=h(" Requested Office: ")),n("span",na,q(((m=s.requested_office)==null?void 0:m.name)||"—"),1)])]),n("div",null,[n("div",oa,[u[5]||(u[5]=h(" Transfer Order: ")),t(R,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${s.supporting_document}`,target:"_blank"},null,8,["href"]),t(R,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${s.supporting_document}`,target:"_blank",download:""},null,8,["href"])])])])])]}),_:2},1024),s.approval_status==="pending"?(c(),O(ve,{key:0,align:"right",class:"px-4 pb-4"},{default:l(()=>[t(R,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:i=>v(s.id)},null,8,["onClick"]),t(R,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:i=>f(s.id)},null,8,["onClick"])]),_:2},1024)):L("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}))}},ia=$t(sa,[["__scopeId","data-v-89ce476a"]]),st=Ie({name:"QTooltip",inheritAttrs:!1,props:{...gl,...Kt,...tt,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...tt.transitionShow,default:"jump-down"},transitionHide:{...tt.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:bt},self:{type:String,default:"top middle",validator:bt},offset:{type:Array,default:()=>[14,14],validator:ml},scrollTarget:Wt,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Ht],setup(e,{slots:a,emit:o,attrs:d}){let r,v;const f=Ge(),{proxy:{$q:x}}=f,u=Q(null),s=Q(!1),i=A(()=>ht(e.anchor,x.lang.rtl)),m=A(()=>ht(e.self,x.lang.rtl)),S=A(()=>e.persistent!==!0),{registerTick:C,removeTick:T}=Je(),{registerTimeout:b}=nt(),{transitionProps:k,transitionStyle:_}=Yt(e),{localScrollTarget:p,changeScrollEvent:P,unconfigureScrollTarget:J}=vl(e,Ce),{anchorEl:U,canShow:te,anchorEvents:le}=pl({showing:s,configureAnchorEl:qe}),{show:ne,hide:se}=Jt({showing:s,canShow:te,handleShow:Ve,handleHide:be,hideOnRouteChange:S,processOnMount:!0});Object.assign(le,{delayShow:ke,delayHide:he});const{showPortal:pe,hidePortal:Te,renderPortal:Oe}=Gt(f,u,re,"tooltip");if(x.platform.is.mobile===!0){const H={anchorEl:U,innerRef:u,onClickOutside(ue){return se(ue),ue.target.classList.contains("q-dialog__backdrop")&&rt(ue),!0}},fe=A(()=>e.modelValue===null&&e.persistent!==!0&&s.value===!0);ge(fe,ue=>{(ue===!0?yl:_t)(H)}),Qe(()=>{_t(H)})}function Ve(H){pe(),C(()=>{v=new MutationObserver(()=>ce()),v.observe(u.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),ce(),Ce()}),r===void 0&&(r=ge(()=>x.screen.width+"|"+x.screen.height+"|"+e.self+"|"+e.anchor+"|"+x.lang.rtl,ce)),b(()=>{pe(!0),o("show",H)},e.transitionDuration)}function be(H){T(),Te(),ye(),b(()=>{Te(!0),o("hide",H)},e.transitionDuration)}function ye(){v!==void 0&&(v.disconnect(),v=void 0),r!==void 0&&(r(),r=void 0),J(),gt(le,"tooltipTemp")}function ce(){bl({targetEl:u.value,offset:e.offset,anchorEl:U.value,anchorOrigin:i.value,selfOrigin:m.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ke(H){if(x.platform.is.mobile===!0){xt(),document.body.classList.add("non-selectable");const fe=U.value,ue=["touchmove","touchcancel","touchend","click"].map(g=>[fe,g,"delayHide","passiveCapture"]);vt(le,"tooltipTemp",ue)}b(()=>{ne(H)},e.delay)}function he(H){x.platform.is.mobile===!0&&(gt(le,"tooltipTemp"),xt(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),b(()=>{se(H)},e.hideDelay)}function qe(){if(e.noParentEvent===!0||U.value===null)return;const H=x.platform.is.mobile===!0?[[U.value,"touchstart","delayShow","passive"]]:[[U.value,"mouseenter","delayShow","passive"],[U.value,"mouseleave","delayHide","passive"]];vt(le,"anchor",H)}function Ce(){if(U.value!==null||e.scrollTarget!==void 0){p.value=Xt(U.value,e.scrollTarget);const H=e.noParentEvent===!0?ce:se;P(p.value,H)}}function ie(){return s.value===!0?N("div",{...d,ref:u,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",d.class],style:[d.style,_.value],role:"tooltip"},ut(a.default)):null}function re(){return N(Zt,k.value,ie)}return Qe(ye),Object.assign(f.proxy,{updatePosition:ce}),Oe}}),ra={key:0,class:"text-grey-7 text-center q-pa-md italic"},ua={key:1,class:"flex flex-col gap-6"},da={class:"flex flex-wrap justify-between items-center mb-4"},ca={class:""},fa={class:"text-gray-600"},ma={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg"},ga={class:"flex flex-col"},va={class:"font-bold"},pa={class:"text-gray-800"},ya={class:"font-bold"},ba={class:"font-bold"},ha={key:0,class:"mt-6"},_a={class:"space-y-2"},xa={class:"flex items-center space-x-2 text-gray-700"},wa={class:"flex space-x-1"},ka={__name:"EditRequest",props:["data"],setup(e){const{formatDate:a}=Be(),o=x=>{ot.post(route("edit.approve",x))},d=x=>{ot.post(route("edit.reject",x))},r=x=>{try{return JSON.parse(x)}catch{return{}}},v={name:"Name",date_of_birth:"Date of Birth",parent_name:"Parent's Name",employment_type:"Employment Type",designation:"Designation",educational_qln:"Educational Qualification",technical_qln:"Technical Qualification",name_of_workplace:"Workplace Name",post_per_qualification:"Post per Qualification",date_of_engagement:"Date of Engagement",skill_category:"Skill Category",skill_at_present:"Skill at Present"},f=x=>{try{return x?JSON.parse(x):{}}catch{return{}}};return(x,u)=>(c(),O(W,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:l(()=>[t(B,null,{default:l(()=>u[0]||(u[0]=[n("div",{class:"stitle text-lg font-bold"},"Edit Requests",-1)])),_:1,__:[0]}),t(Se),t(B,null,{default:l(()=>[e.data.edit_requests.length===0?(c(),E("div",ra," No edit requests found. ")):(c(),E("div",ua,[(c(!0),E(Y,null,ae(e.data.edit_requests,s=>(c(),O(W,{key:s.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:l(()=>[t(B,null,{default:l(()=>[n("div",da,[n("div",ca,[u[1]||(u[1]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:me(["ml-1 font-medium capitalize",{"text-yellow-600":s.approval_status==="pending","text-green-600":s.approval_status==="approved","text-red-600":s.approval_status==="rejected"}])},q(s.approval_status),3)]),n("div",fa,[u[2]||(u[2]=n("b",null,"Requested On:",-1)),h(" "+q(y(a)(s.request_date)),1)])]),n("div",null,[u[5]||(u[5]=n("b",{class:"block mb-3 text-gray-700"},"Requested Changes",-1)),n("div",ma,[(c(!0),E(Y,null,ae(r(s.requested_changes),(i,m)=>(c(),E("div",{key:m},[n("div",ga,[n("span",va,q(v[m]??m)+": ",1),n("span",pa,[u[3]||(u[3]=h(" From: ")),n("span",ya,q(m==="date_of_birth"?y(a)(f(s.previous_data)[m]):f(s.previous_data)[m]||"—"),1),u[4]||(u[4]=h(" To: ")),n("span",ba,q(m==="date_of_birth"||m==="date_of_engagement"?y(a)(i):i),1)])])]))),128))])]),s.attachments&&s.attachments.length>0?(c(),E("div",ha,[u[8]||(u[8]=n("b",{class:"block mb-3 text-gray-700"},"Attached Documents",-1)),n("div",_a,[(c(!0),E(Y,null,ae(s.attachments,i=>{var m;return c(),E("div",{key:i.id,class:"flex items-center justify-between p-3 border rounded-lg bg-gray-50 hover:bg-gray-100 transition"},[n("div",xa,[t(Le,{name:"attach_file",size:"16px",class:"text-gray-500"}),n("span",null,[n("b",null,q(((m=i.type)==null?void 0:m.name)||"Unknown Type"),1)])]),n("div",wa,[t(R,{flat:"",dense:"",round:"",color:"primary",icon:"visibility",href:`/storage/${i.path}`,target:"_blank"},{default:l(()=>[t(st,null,{default:l(()=>u[6]||(u[6]=[h("View")])),_:1,__:[6]})]),_:2},1032,["href"]),t(R,{flat:"",dense:"",round:"",color:"primary",icon:"download",href:`/storage/${i.path}`,download:""},{default:l(()=>[t(st,null,{default:l(()=>u[7]||(u[7]=[h("Download")])),_:1,__:[7]})]),_:2},1032,["href"])])])}),128))])])):L("",!0)]),_:2},1024),s.approval_status==="pending"?(c(),O(ve,{key:0,align:"right",class:"px-4 pb-4"},{default:l(()=>[t(R,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:i=>o(s.id)},null,8,["onClick"]),t(R,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:i=>d(s.id)},null,8,["onClick"])]),_:2},1024)):L("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}))}},qa={key:0,class:"text-grey-7 text-center q-pa-md italic"},Ca={key:1,class:"flex flex-col gap-6"},$a={class:"flex flex-wrap justify-between items-center mb-4"},Ta={class:"text-gray-600"},Da={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg"},Sa={class:"text-gray-500"},Ra={class:"text-gray-800 font-bold"},Ea={class:"text-gray-500"},Oa={class:"text-gray-800 font-bold"},Va={class:"text-gray-500"},Pa={class:"text-gray-800 font-bold"},ja={class:"text-gray-500"},La={class:"text-gray-800 font-bold"},Aa={key:0},Ba={class:"text-gray-500"},Ua={__name:"DeletionRequest",props:["data"],setup(e){const{formatDate:a}=Be(),o=we(),d=xe({});function r(x){try{return JSON.parse(x.reason)}catch{return{}}}const v=x=>{d.post(route("deletion.approve",x),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),d.reset(),o.notify({type:"success",message:"Deletion Approved",position:"bottom"})},onError:u=>{Object.values(u).forEach(s=>{o.notify({type:"negative",message:s,position:"bottom"})})}})},f=x=>{d.post(route("deletion.reject",x),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),d.reset(),o.notify({type:"negative",message:"Deletion Rejected",position:"bottom"})},onError:u=>{Object.values(u).forEach(s=>{o.notify({type:"negative",message:s,position:"bottom"})})}})};return(x,u)=>(c(),O(W,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:l(()=>[t(B,null,{default:l(()=>u[0]||(u[0]=[n("div",{class:"stitle text-lg font-bold"},"Deletion Requests",-1)])),_:1,__:[0]}),t(Se),t(B,null,{default:l(()=>[e.data.deletion_requests.length===0?(c(),E("div",qa," No deletion requests found. ")):(c(),E("div",Ca,[(c(!0),E(Y,null,ae(e.data.deletion_requests,s=>(c(),O(W,{key:s.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:l(()=>[t(B,null,{default:l(()=>[n("div",$a,[n("div",null,[u[1]||(u[1]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:me(["ml-1 font-medium capitalize",{"text-yellow-600":s.approval_status==="pending","text-green-600":s.approval_status==="approved","text-red-600":s.approval_status==="rejected"}])},q(s.approval_status),3)]),n("div",Ta,[u[2]||(u[2]=n("b",null,"Requested On:",-1)),h(" "+q(y(a)(s.request_date)),1)])]),n("div",null,[u[8]||(u[8]=n("b",{class:"block mb-3 text-gray-700"},"Reason Details",-1)),n("div",Da,[n("div",null,[n("div",Sa,[u[3]||(u[3]=h(" Reason: ")),n("span",Ra,q(r(s).reason),1)])]),n("div",null,[n("div",Ea,[u[4]||(u[4]=h(" Year: ")),n("span",Oa,q(r(s).year),1)])]),n("div",null,[n("div",Va,[u[5]||(u[5]=h(" Remark: ")),n("span",Pa,q(r(s).remark),1)])]),n("div",null,[n("div",ja,[u[6]||(u[6]=h(" Seniority List: ")),n("span",La,q(r(s).seniority_list),1)])]),r(s).supporting_document?(c(),E("div",Aa,[n("div",Ba,[u[7]||(u[7]=h(" Supporting Document: ")),t(R,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${r(s).supporting_document}`,target:"_blank"},null,8,["href"]),t(R,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${r(s).supporting_document}`,target:"_blank",download:""},null,8,["href"])])])):L("",!0)])])]),_:2},1024),s.approval_status==="pending"?(c(),O(ve,{key:0,align:"right",class:"px-4 pb-4"},{default:l(()=>[t(R,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:i=>v(s.id)},null,8,["onClick"]),t(R,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:i=>f(s.id)},null,8,["onClick"])]),_:2},1024)):L("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}))}},Na={key:0,class:"text-grey-7 text-center q-pa-md italic"},za={key:1,class:"flex flex-col gap-6"},Fa={class:"flex flex-wrap justify-between items-center mb-4"},Qa={class:"text-gray-600"},Ia={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg"},Ma={class:"text-gray-500"},Ha={class:"text-gray-800 font-bold"},Wa={class:"text-gray-500"},Ka={class:"text-gray-800 font-bold"},Ya={class:"text-gray-500"},Ja={class:"text-gray-800 font-bold"},Ga={class:"text-gray-500"},Xa={class:"text-gray-800 font-bold"},Za={key:0},en={class:"text-gray-500"},tn={__name:"RequestDeletion",props:["data"],setup(e){const{formatDate:a}=Be(),o=e,d=we(),r=xe({reason:"",seniority_list:"",year:new Date().getFullYear(),remark:"",supporting_document:null}),v=A(()=>{var s,i;return((i=(s=o.data.deletion_requests)==null?void 0:s.slice(-1)[0])==null?void 0:i.approval_status)==="pending"}),f=Q(!1);function x(s){try{return JSON.parse(s.reason)}catch{return{}}}function u(){if(!r.reason){d.notify({type:"negative",message:"Reason is required",position:"bottom"});return}if(!r.supporting_document){d.notify({type:"negative",message:"Supporting Document is required",position:"bottom"});return}r.post(route("deletion.request",o.data),{preserveScroll:!0,onSuccess:()=>{d.notify({type:"positive",message:"Deletion request submitted successfully"}),f.value=!1,r.reset()},onError:s=>{Object.values(s).forEach(i=>{d.notify({type:"negative",message:i,position:"bottom"})})}})}return(s,i)=>(c(),E(Y,null,[t(W,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:l(()=>[t(B,{class:"flex items-center justify-between"},{default:l(()=>[i[8]||(i[8]=n("div",{class:"stitle text-lg font-bold"},"Request Deletion",-1)),n("div",null,[e.data.employment_type!=="Deleted"?(c(),O(R,{key:0,label:"Request Deletion",color:"negative",disable:v.value,onClick:i[0]||(i[0]=m=>f.value=!0)},null,8,["disable"])):L("",!0)])]),_:1,__:[8]}),t(Se),t(B,null,{default:l(()=>[e.data.deletion_requests.length===0?(c(),E("div",Na," No deletion requests found. ")):(c(),E("div",za,[(c(!0),E(Y,null,ae(e.data.deletion_requests,m=>(c(),O(W,{key:m.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:l(()=>[t(B,null,{default:l(()=>[n("div",Fa,[n("div",null,[i[9]||(i[9]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:me(["ml-1 font-medium capitalize",{"text-yellow-600":m.approval_status==="pending","text-green-600":m.approval_status==="approved","text-red-600":m.approval_status==="rejected"}])},q(m.approval_status),3)]),n("div",Qa,[i[10]||(i[10]=n("b",null,"Requested On:",-1)),h(" "+q(y(a)(m.request_date)),1)])]),n("div",null,[i[16]||(i[16]=n("b",{class:"block mb-3 text-gray-700"},"Reason Details",-1)),n("div",Ia,[n("div",null,[n("div",Ma,[i[11]||(i[11]=h(" Reason: ")),n("span",Ha,q(x(m).reason),1)])]),n("div",null,[n("div",Wa,[i[12]||(i[12]=h(" Year: ")),n("span",Ka,q(x(m).year),1)])]),n("div",null,[n("div",Ya,[i[13]||(i[13]=h(" Remark: ")),n("span",Ja,q(x(m).remark),1)])]),n("div",null,[n("div",Ga,[i[14]||(i[14]=h(" Seniority List: ")),n("span",Xa,q(x(m).seniority_list),1)])]),x(m).supporting_document?(c(),E("div",Za,[n("div",en,[i[15]||(i[15]=h(" Supporting Document: ")),t(R,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${x(m).supporting_document}`,target:"_blank"},null,8,["href"]),t(R,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${x(m).supporting_document}`,target:"_blank",download:""},null,8,["href"])])])):L("",!0)])])]),_:2},1024)]),_:2},1024))),128))]))]),_:1})]),_:1}),t(Ee,{modelValue:f.value,"onUpdate:modelValue":i[7]||(i[7]=m=>f.value=m)},{default:l(()=>[t(W,{style:{"min-width":"400px"}},{default:l(()=>[t(B,null,{default:l(()=>i[17]||(i[17]=[n("div",{class:"text-h6"},"Submit Deletion Request",-1)])),_:1,__:[17]}),t(B,null,{default:l(()=>[t(Ae,{modelValue:y(r).reason,"onUpdate:modelValue":i[1]||(i[1]=m=>y(r).reason=m),label:"Reason",outlined:"",options:["Expired","Resigned","Dismissed","Regularised","Others (Specify the reasons to Remarks)","Overage (Retired)"],error:!!y(r).errors.reason,"error-message":y(r).errors.reason,rules:[m=>!!m||"Reason is required"]},null,8,["modelValue","error","error-message","rules"]),t(oe,{modelValue:y(r).seniority_list,"onUpdate:modelValue":i[2]||(i[2]=m=>y(r).seniority_list=m),label:"Seniority List",outlined:"",class:"q-mt-sm"},null,8,["modelValue"]),t(oe,{modelValue:y(r).year,"onUpdate:modelValue":i[3]||(i[3]=m=>y(r).year=m),label:"Year",type:"number",outlined:"",class:"q-mt-sm"},null,8,["modelValue"]),t(oe,{modelValue:y(r).remark,"onUpdate:modelValue":i[4]||(i[4]=m=>y(r).remark=m),label:"Remark",type:"textarea",outlined:"",class:"q-mt-sm"},null,8,["modelValue"]),t(Ne,{modelValue:y(r).supporting_document,"onUpdate:modelValue":i[5]||(i[5]=m=>y(r).supporting_document=m),label:"Supporting Document",outlined:"",class:"q-mt-sm",accept:".pdf,.jpg,.jpeg,.png",error:!!y(r).errors.supporting_document,"error-message":y(r).errors.supporting_document},null,8,["modelValue","error","error-message"])]),_:1}),t(ve,{align:"right"},{default:l(()=>[t(R,{flat:"",label:"Cancel",color:"grey",onClick:i[6]||(i[6]=m=>f.value=!1)}),t(R,{label:"Submit",color:"negative",onClick:u,loading:y(r).processing},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},ln={key:0,class:"text-grey-7 text-center q-pa-md italic"},an={key:1,class:"flex flex-col gap-6"},nn={class:"flex flex-wrap justify-between items-center mb-4"},on={class:""},sn={class:"text-gray-600"},rn={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg"},un={class:"flex flex-col"},dn={class:"text-gray-500"},cn={class:"text-gray-800"},fn={class:"font-bold"},mn={class:"font-bold"},gn={class:"text-sm text-weight-bold q-mb-xs"},vn={class:"q-mt-sm text-body2"},pn={key:0,class:"absolute top-0 bottom-0 left-1/2 w-px bg-grey-4"},yn={class:"text-sm text-weight-bold q-mb-xs"},bn={key:3,class:"q-mt-md q-pa-sm bg-grey-1 rounded-borders"},hn={class:"text-sm text-weight-bold q-mb-sm"},_n={__name:"RequestEdit",props:["data","documentTypes"],setup(e){const{formatDate:a,educationalQualifications:o}=Be(),d=e,r=we(),v=Q(!1),f=xe({requested_changes:{name:"",date_of_birth:"",parent_name:"",educational_qln:"",technical_qln:""},documents:{}}),x=A(()=>{var T,b;return((b=(T=d.data.edit_requests)==null?void 0:T.slice(-1)[0])==null?void 0:b.approval_status)==="pending"});ge(v,T=>{T||(f.reset(),f.clearErrors())});const u={date_of_birth:["Birth Certificate","Aadhar","EPIC","Educational Certificate"],name:["Birth Certificate","Aadhar","EPIC","Educational Certificate"],parent_name:["Birth Certificate"],educational_qln:["Educational Certificate"],technical_qln:["Technical Certificate"]},s={name:"Name",date_of_birth:"Date of Birth",parent_name:"Parent's Name",educational_qln:"Educational Qualification",technical_qln:"Technical Qualification"},i=()=>{f.reset(),f.clearErrors(),f.documents={}},m=A(()=>Object.values(f.requested_changes).some(T=>{var b;return T&&((b=T.trim)==null?void 0:b.call(T))!==""})),S=()=>{if(!m.value){r.notify({type:"warning",message:"Please enter at least one change before submitting."});return}const T=new FormData;Object.entries(f.requested_changes).forEach(([b,k])=>{k&&T.append(`requested_changes[${b}]`,k)}),Object.entries(f.documents).forEach(([b,k])=>{k&&[].concat(k).forEach(_=>{T.append(`documents[${b}][]`,_)})}),f.post(route("edit.request",d.data),{data:T,forceFormData:!0,onSuccess:()=>{v.value=!1,f.reset()},onError:b=>{Object.values(b).forEach(k=>{Array.isArray(k)?k.forEach(_=>{r.notify({type:"negative",message:_})}):r.notify({type:"negative",message:k})})}})},C=T=>{try{return JSON.parse(T)}catch{return{}}};return(T,b)=>(c(),E(Y,null,[t(W,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:l(()=>[t(B,{class:"flex items-center justify-between"},{default:l(()=>[b[2]||(b[2]=n("div",{class:"stitle text-lg font-bold"},"Request Edit",-1)),t(R,{label:"Request Edit",color:"primary",disable:x.value,onClick:b[0]||(b[0]=k=>v.value=!0)},null,8,["disable"])]),_:1,__:[2]}),t(Se),t(B,null,{default:l(()=>[e.data.edit_requests.length===0?(c(),E("div",ln," No edit requests found. ")):(c(),E("div",an,[(c(!0),E(Y,null,ae(e.data.edit_requests,k=>(c(),O(W,{key:k.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:l(()=>[t(B,null,{default:l(()=>[n("div",nn,[n("div",on,[b[3]||(b[3]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:me(["ml-1 font-medium capitalize",{"text-yellow-600":k.approval_status==="pending","text-green-600":k.approval_status==="approved","text-red-600":k.approval_status==="rejected"}])},q(k.approval_status),3)]),n("div",sn,[b[4]||(b[4]=n("b",null,"Requested On:",-1)),h(" "+q(y(a)(k.request_date)),1)])]),n("div",null,[b[7]||(b[7]=n("b",{class:"block mb-3 text-gray-700"},"Requested Changes",-1)),n("div",rn,[(c(!0),E(Y,null,ae(C(k.requested_changes),(_,p)=>(c(),E("div",{key:p},[n("div",un,[n("span",dn,q(s[p]??p)+": ",1),n("span",cn,[b[5]||(b[5]=h(" From: ")),n("span",fn,q(p==="date_of_birth"?y(a)(C(k.previous_data)[p]):C(k.previous_data)[p]||"—"),1),b[6]||(b[6]=h(" To: ")),n("span",mn,q(p==="date_of_birth"||p==="date_of_engagement"?y(a)(_):_),1)])])]))),128))])])]),_:2},1024)]),_:2},1024))),128))]))]),_:1})]),_:1}),t(Ee,{modelValue:v.value,"onUpdate:modelValue":b[1]||(b[1]=k=>v.value=k),persistent:""},{default:l(()=>[t(W,{class:"q-pa-md",style:{width:"95vw","max-width":"800px","max-height":"90vh","overflow-y":"auto"}},{default:l(()=>[t(B,null,{default:l(()=>b[8]||(b[8]=[n("div",{class:"text-h6 text-weight-bold text-primary"},"Request Edit",-1)])),_:1,__:[8]}),t(B,{class:"q-gutter-md"},{default:l(()=>[(c(),E(Y,null,ae(s,(k,_)=>n("div",{key:_,class:"q-mb-lg"},[n("div",{class:me(["grid gap-4 items-start relative",{"grid-cols-2":y(r).screen.gt.sm,"grid-cols-1":!y(r).screen.gt.sm}])},[n("div",null,[n("div",gn," Existing "+q(k)+": ",1),n("div",vn,q(_==="date_of_birth"?y(a)(d.data[_]):d.data[_]||"—"),1)]),y(r).screen.gt.sm?(c(),E("div",pn)):L("",!0),n("div",null,[n("div",yn," New "+q(k)+": ",1),_==="date_of_birth"?(c(),O(oe,{key:0,modelValue:y(f).requested_changes[_],"onUpdate:modelValue":p=>y(f).requested_changes[_]=p,type:"date",outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])):_==="educational_qln"?(c(),O(Ae,{key:1,modelValue:y(f).requested_changes[_],"onUpdate:modelValue":p=>y(f).requested_changes[_]=p,options:y(o),label:"Select Qualification",outlined:"",dense:"","emit-value":"","map-options":""},null,8,["modelValue","onUpdate:modelValue","options"])):(c(),O(oe,{key:2,modelValue:y(f).requested_changes[_],"onUpdate:modelValue":p=>y(f).requested_changes[_]=p,outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])),y(f).requested_changes[_]?(c(),E("div",bn,[n("div",hn," Required Documents for "+q(k)+": ",1),(c(!0),E(Y,null,ae(u[_],p=>(c(),E("div",{key:p,class:"q-mb-sm"},[t(Ne,{filled:"",modelValue:y(f).documents[p],"onUpdate:modelValue":P=>y(f).documents[p]=P,label:p,accept:".pdf,.jpg,.jpeg,.png",clearable:"",dense:""},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))])):L("",!0)])],2),t(Se,{spaced:"",class:"q-my-md"})])),64))]),_:1}),t(ve,{align:"right",class:"q-pt-none"},{default:l(()=>[t(R,{flat:"",label:"Clear",color:"negative",onClick:i}),$e(t(R,{flat:"",label:"Cancel",color:"grey"},null,512),[[Re]]),t(R,{label:"Submit",color:"primary",loading:y(f).processing,disable:!m.value,onClick:S},null,8,["loading","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},xn={key:0,class:"text-grey-7 text-center q-pa-md italic"},wn={key:1,class:"flex flex-col gap-6"},kn={class:"flex flex-wrap justify-between items-center mb-4"},qn={class:"text-gray-600"},Cn={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p- rounded-lg"},$n={class:"text-gray-500"},Tn={class:"text-gray-800 font-bold"},Dn={class:"text-gray-500"},Sn={class:"text-gray-800 font-bold"},Rn={class:"text-gray-500"},En={__name:"RequestTransfer",props:["data","office"],setup(e){const{formatDate:a}=Be(),o=e,d=we(),r=Q(!1),v=xe({requested_office_id:"",supporting_document:null});ge(r,u=>{u||(v.reset(),v.clearErrors())});const f=A(()=>{var u,s;return((s=(u=o.data.transfer_requests)==null?void 0:u.slice(-1)[0])==null?void 0:s.approval_status)==="pending"}),x=()=>{if(!v.requested_office_id){d.notify({type:"negative",message:"Office is required",position:"bottom"});return}if(!v.supporting_document){d.notify({type:"negative",message:"Transfer Order is required",position:"bottom"});return}v.post(route("transfer.request",o.data),{onStart:()=>{d.loading.show()},onSuccess:()=>{d.loading.hide(),r.value=!1,v.reset(),d.notify({type:"positive",message:"Transfer Requested",position:"bottom"})},onFinish:()=>{d.loading.hide(),r.value=!1,v.reset()},onError:u=>{Object.values(u).forEach(s=>{d.notify({type:"negative",message:s,position:"bottom"})})}})};return(u,s)=>(c(),E(Y,null,[t(W,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:l(()=>[t(B,{class:"flex items-center justify-between"},{default:l(()=>[s[4]||(s[4]=n("div",{class:"stitle text-lg font-bold"},"Request Transfer",-1)),t(R,{label:"Request Transfer",color:"primary",disable:f.value,onClick:s[0]||(s[0]=i=>r.value=!0)},null,8,["disable"])]),_:1,__:[4]}),t(Se),t(B,null,{default:l(()=>[e.data.transfer_requests.length===0?(c(),E("div",xn," No transfer requests found. ")):(c(),E("div",wn,[(c(!0),E(Y,null,ae(e.data.transfer_requests,i=>(c(),O(W,{key:i.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:l(()=>[t(B,null,{default:l(()=>{var m,S;return[n("div",kn,[n("div",null,[s[5]||(s[5]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:me(["ml-1 font-medium capitalize",{"text-yellow-600":i.approval_status==="pending","text-green-600":i.approval_status==="approved","text-red-600":i.approval_status==="rejected"}])},q(i.approval_status),3)]),n("div",qn,[s[6]||(s[6]=n("b",null,"Requested On:",-1)),h(" "+q(y(a)(i.request_date)),1)])]),n("div",null,[s[10]||(s[10]=n("b",{class:"block mb-3 text-gray-700"},"Transfer Details:",-1)),n("div",Cn,[n("div",null,[n("div",$n,[s[7]||(s[7]=h(" Current Office: ")),n("span",Tn,q(((m=i.current_office)==null?void 0:m.name)||"—"),1)])]),n("div",null,[n("div",Dn,[s[8]||(s[8]=h(" Requested Office: ")),n("span",Sn,q(((S=i.requested_office)==null?void 0:S.name)||"—"),1)])]),n("div",null,[n("div",Rn,[s[9]||(s[9]=h(" Transfer Order: ")),t(R,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${i.supporting_document}`,target:"_blank"},null,8,["href"]),t(R,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${i.supporting_document}`,target:"_blank",download:""},null,8,["href"])])])])])]}),_:2},1024)]),_:2},1024))),128))]))]),_:1})]),_:1}),t(Ee,{modelValue:r.value,"onUpdate:modelValue":s[3]||(s[3]=i=>r.value=i),persistent:""},{default:l(()=>[t(W,{style:{"min-width":"400px"}},{default:l(()=>[t(B,null,{default:l(()=>s[11]||(s[11]=[n("div",{class:"text-h6"},"Select Requested Office",-1)])),_:1,__:[11]}),t(B,null,{default:l(()=>[t(Ae,{modelValue:y(v).requested_office_id,"onUpdate:modelValue":s[1]||(s[1]=i=>y(v).requested_office_id=i),options:e.office,"option-value":"id","option-label":"name",label:"Office",dense:"",outlined:"",error:!!y(v).errors.requested_office_id,"error-message":y(v).errors.requested_office_id,rules:[i=>!!i||"Office is required"]},null,8,["modelValue","options","error","error-message","rules"]),t(Ne,{modelValue:y(v).supporting_document,"onUpdate:modelValue":s[2]||(s[2]=i=>y(v).supporting_document=i),label:"Transfer Order",outlined:"",class:"q-mt-md",error:!!y(v).errors.supporting_document,"error-message":y(v).errors.supporting_document,rules:[i=>!!i||"Transfer Order is required"],accept:".pdf,.jpg,.jpeg,.png"},null,8,["modelValue","error","error-message","rules"])]),_:1}),t(ve,{align:"right"},{default:l(()=>[$e(t(R,{flat:"",label:"Cancel",color:"negative"},null,512),[[Re]]),t(R,{flat:"",label:"Submit",color:"primary",onClick:x})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},On=$t(En,[["__scopeId","data-v-6b8cea86"]]),Vn={class:"flex items-center justify-between q-pa-md bg-white"},Pn={class:"flex q-gutter-sm"},jn={key:0},Ln={class:"flex items-center justify-between"},An={key:0},Bn={key:1,class:"text-grey-7 text-center q-pa-md italic"},Un={key:0},Nn={key:1},zn={__name:"Transfer",props:["data","office","canCreateTransfer","canDeleteTransfer"],setup(e){const a=e,o=we(),d=Q(!1),r=Q(!1),v=xe({old_office_id:null,new_office_id:null,transfer_date:"",is_present_transfer:!1,supporting_document:null}),f=A(()=>{var i;return[...((i=a.data)==null?void 0:i.transfers)||[]].sort((m,S)=>new Date(m.transfer_date)-new Date(S.transfer_date))});function x(i){return new Date(i).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}const u=i=>{if(!v.old_office_id){o.notify({type:"negative",message:"Old Office is required",position:"bottom"});return}if(!v.new_office_id){o.notify({type:"negative",message:"New Office is required",position:"bottom"});return}if(!v.transfer_date){o.notify({type:"negative",message:"Transfer Date is required",position:"bottom"});return}if(!v.supporting_document){o.notify({type:"negative",message:"Transfer Order is required",position:"bottom"});return}v.is_present_transfer=r.value,v.post(route("transfer.store",a.data),{onStart:()=>{o.loading.show({boxClass:"bg-grey-2 text-grey-9",spinnerColor:"primary",message:"Creating Transfer..."}),v.reset()},onFinish:()=>{o.loading.hide(),d.value=!1,v.reset()},onError:m=>{o.loading.hide(),Object.values(m).forEach(S=>{o.notify({type:"negative",message:S,position:"bottom"})})}})},s=i=>{o.dialog({title:"Confirmation",message:"Do you want to delete?",ok:"Yes",cancel:"No"}).onOk(()=>{ot.delete(route("transfer.destroy",i),{onStart:m=>o.loading.show(),onFinish:m=>o.loading.hide(),preserveState:!1})})};return ge(r,i=>{i?(v.old_office_id=a.data.office,v.transfer_date=new Date().toISOString().split("T")[0]):(v.old_office_id=null,v.transfer_date="")}),(i,m)=>(c(),E(Y,null,[t(W,{class:"q-mt-md"},{default:l(()=>[n("div",Vn,[m[8]||(m[8]=n("div",null,[n("div",{class:"stitle"},"Transfer History")],-1)),n("div",Pn,[e.canCreateTransfer?(c(),O(R,{key:0,onClick:m[0]||(m[0]=S=>d.value=!0),color:"btn-primary",icon:"add"})):L("",!0)])]),t(B,null,{default:l(()=>[f.value.length>0?(c(),E("div",jn,[t(wl,{color:"primary",class:"q-pa-md"},{default:l(()=>[(c(!0),E(Y,null,ae(f.value,(S,C)=>(c(),O(kl,{key:S.id,title:x(S.transfer_date),icon:C===f.value.length-1?"flag":"swap_horiz"},{subtitle:l(()=>[n("div",Ln,[n("span",null,"Transfer #"+q(C+1),1),e.canDeleteTransfer?(c(),O(R,{key:0,icon:"delete",color:"red",flat:"",dense:"",size:"m",onClick:T=>s(S.id),title:"Delete Transfer"},null,8,["onClick"])):L("",!0)])]),default:l(()=>{var T,b;return[n("div",null,[m[9]||(m[9]=h(" From ")),n("strong",null,q(((T=S.old_office)==null?void 0:T.name)||"Unknown Office"),1),m[10]||(m[10]=h(" to ")),n("strong",null,q(((b=S.new_office)==null?void 0:b.name)||"Unknown Office"),1)]),S.supporting_document?(c(),E("div",An,[m[11]||(m[11]=h(" Transfer Order: ")),t(R,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${S.supporting_document}`,target:"_blank"},null,8,["href"]),t(R,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${S.supporting_document}`,target:"_blank",download:""},null,8,["href"])])):L("",!0)]}),_:2},1032,["title","icon"]))),128))]),_:1})])):(c(),E("div",Bn," No transfer history found "))]),_:1})]),_:1}),t(Ee,{modelValue:d.value,"onUpdate:modelValue":m[7]||(m[7]=S=>d.value=S)},{default:l(()=>[t(W,{style:{"min-width":"400px"}},{default:l(()=>[t(B,null,{default:l(()=>m[12]||(m[12]=[n("div",{class:"stitle"},"Add Transfer",-1)])),_:1,__:[12]}),t(B,{class:"q-gutter-md"},{default:l(()=>[t(el,{modelValue:r.value,"onUpdate:modelValue":m[1]||(m[1]=S=>r.value=S),label:"Is Present Transfer?",color:"primary"},null,8,["modelValue"]),r.value?(c(),E("div",Un,[t(oe,{modelValue:e.data.office.name,"onUpdate:modelValue":m[2]||(m[2]=S=>e.data.office.name=S),label:"Old Office",dense:"",outlined:"",readonly:""},null,8,["modelValue"])])):(c(),E("div",Nn,[t(Ae,{modelValue:y(v).old_office_id,"onUpdate:modelValue":m[3]||(m[3]=S=>y(v).old_office_id=S),options:e.office,"option-value":"id","option-label":"name",label:"Old Office",dense:"",clearable:"",outlined:""},null,8,["modelValue","options"])])),t(Ae,{modelValue:y(v).new_office_id,"onUpdate:modelValue":m[4]||(m[4]=S=>y(v).new_office_id=S),options:e.office,"option-value":"id","option-label":"name",label:"New Office",dense:"",clearable:"",outlined:""},null,8,["modelValue","options"]),t(oe,{modelValue:y(v).transfer_date,"onUpdate:modelValue":m[5]||(m[5]=S=>y(v).transfer_date=S),type:"date",label:"Transfer Date",dense:"",clearable:"",outlined:""},null,8,["modelValue"]),t(Ne,{modelValue:y(v).supporting_document,"onUpdate:modelValue":m[6]||(m[6]=S=>y(v).supporting_document=S),label:"Transfer Order",outlined:"",clearable:"",error:!!y(v).errors.supporting_document,"error-message":y(v).errors.supporting_document,accept:".pdf,.jpg,.jpeg,.png"},null,8,["modelValue","error","error-message"])]),_:1}),t(ve,{align:"right"},{default:l(()=>[$e(t(R,{flat:"",label:"Cancel"},null,512),[[Re]]),t(R,{flat:"",label:"Submit",color:"primary",onClick:u})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Fn=Ie({name:"QSpace",setup(){const e=N("div",{class:"q-space"});return()=>e}}),Qn={__name:"DeletionDialog",props:{modelValue:Boolean,employee:Object},emits:["update:modelValue"],setup(e,{emit:a}){const o=we(),d=e,r=a,v=Q(d.modelValue);ge(()=>d.modelValue,u=>v.value=u),ge(v,u=>r("update:modelValue",u));const f=xe({seniority_list:"",reason:"",year:new Date().getFullYear(),remark:"",supporting_document:null});function x(){f.post(route("deletion.store",d.employee),{preserveScroll:!0,onSuccess:()=>{v.value=!1,f.reset(),o.notify({type:"positive",message:"Employee Deleted successfully."})}})}return(u,s)=>(c(),O(Ee,{modelValue:v.value,"onUpdate:modelValue":s[5]||(s[5]=i=>v.value=i)},{default:l(()=>[t(W,{style:{"min-width":"400px"}},{default:l(()=>[t(B,{class:"row items-center q-pa-sm bg-negative text-white"},{default:l(()=>[s[6]||(s[6]=n("div",{class:"text-h6"},"Employee Deletion Details",-1)),t(Fn),$e(t(R,{icon:"close",flat:"",round:"",dense:""},null,512),[[Re]])]),_:1,__:[6]}),t(Tt,{onSubmit:Ct(x,["prevent"])},{default:l(()=>[t(B,{class:"q-gutter-md"},{default:l(()=>[t(Ae,{modelValue:y(f).reason,"onUpdate:modelValue":s[0]||(s[0]=i=>y(f).reason=i),label:"Reason",outlined:"",dense:"",required:"",options:["Expired","Resigned","Dismissed","Regularised","Others (Specify the reasons to Remarks)","Overage (Retired)"],error:!!y(f).errors.reason,"error-message":y(f).errors.reason,rules:[i=>!!i||"Reason is required"]},null,8,["modelValue","error","error-message","rules"]),t(oe,{modelValue:y(f).seniority_list,"onUpdate:modelValue":s[1]||(s[1]=i=>y(f).seniority_list=i),label:"Seniority List",dense:"",outlined:"",type:"number"},null,8,["modelValue"]),t(oe,{modelValue:y(f).year,"onUpdate:modelValue":s[2]||(s[2]=i=>y(f).year=i),label:"Year",dense:"",outlined:"",type:"number"},null,8,["modelValue"]),t(oe,{modelValue:y(f).remark,"onUpdate:modelValue":s[3]||(s[3]=i=>y(f).remark=i),label:"Remark",type:"textarea",dense:"",outlined:""},null,8,["modelValue"]),t(Ne,{modelValue:y(f).supporting_document,"onUpdate:modelValue":s[4]||(s[4]=i=>y(f).supporting_document=i),label:"Supporting Document",dense:"",outlined:"",required:"",error:!!y(f).errors.supporting_document,"error-message":y(f).errors.supporting_document,rules:[i=>!!i||"Supporting Document is required"]},null,8,["modelValue","error","error-message","rules"])]),_:1}),t(ve,{align:"right",class:"q-pa-sm"},{default:l(()=>[$e(t(R,{flat:"",label:"Cancel"},null,512),[[Re]]),t(R,{color:"negative",label:"Submit Deletion",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},In={class:"flex items-center justify-between q-pa-md bg-white"},Mn={class:"flex q-gutter-sm"},Hn={__name:"Deletion",props:["deletion","canEditDelete"],setup(e){const a=we(),o=e,d=Q(!1),r=xe({reason:o.deletion.reason||"",seniority_list:o.deletion.seniority_list||"",year:o.deletion.year||new Date().getFullYear(),remark:o.deletion.remark||"",supporting_document:null}),v=()=>{r.post(route("deletion.update",o.deletion),{preserveScroll:!0,onSuccess:()=>{d.value=!1,a.notify({type:"positive",message:"Deleted details updated successfully."})}})},f=x=>{window.open(x,"_blank")};return(x,u)=>(c(),E(Y,null,[t(W,{class:"q-mt-md"},{default:l(()=>[n("div",In,[u[8]||(u[8]=n("div",null,[n("div",{class:"stitle text-red"},"Deletion Detail")],-1)),n("div",Mn,[e.canEditDelete?(c(),O(R,{key:0,onClick:u[0]||(u[0]=s=>d.value=!0),color:"btn-primary",icon:"edit"})):L("",!0)])]),t(B,null,{default:l(()=>[t(dt,{class:"q-mt-sm"},{default:l(()=>[t(F,null,{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>u[9]||(u[9]=[h("Reason:")])),_:1,__:[9]}),t(D,{class:"text-label"},{default:l(()=>[h(q(e.deletion.reason),1)]),_:1})]),_:1}),t(F,null,{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>u[10]||(u[10]=[h("Seniority List:")])),_:1,__:[10]}),t(D,{class:"text-label"},{default:l(()=>[h(q(e.deletion.seniority_list),1)]),_:1})]),_:1}),t(F,null,{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>u[11]||(u[11]=[h("Year:")])),_:1,__:[11]}),t(D,{class:"text-label"},{default:l(()=>[h(q(e.deletion.year),1)]),_:1})]),_:1}),e.deletion.remark?(c(),O(F,{key:0},{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>u[12]||(u[12]=[h("Remark:")])),_:1,__:[12]}),t(D,{class:"text-label"},{default:l(()=>[h(q(e.deletion.remark),1)]),_:1})]),_:1})):L("",!0),e.deletion.supporting_document?(c(),O(F,{key:1},{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>u[13]||(u[13]=[h("Supporting Document:")])),_:1,__:[13]}),t(D,{class:"text-label"},{default:l(()=>[t(R,{dense:"",flat:"",icon:"visibility",href:`/storage/${e.deletion.supporting_document}`,target:"_blank"},null,8,["href"])]),_:1})]),_:1})):L("",!0)]),_:1})]),_:1})]),_:1}),t(Ee,{modelValue:d.value,"onUpdate:modelValue":u[7]||(u[7]=s=>d.value=s)},{default:l(()=>[t(W,{style:{"min-width":"500px","max-width":"90vw"}},{default:l(()=>[t(B,{class:"bg-negative text-white"},{default:l(()=>u[14]||(u[14]=[n("div",{class:"text-h6"},"Edit Deletion Detail",-1)])),_:1,__:[14]}),t(Tt,{onSubmit:Ct(v,["prevent"])},{default:l(()=>[t(B,{class:"q-gutter-md"},{default:l(()=>[t(Ae,{modelValue:y(r).reason,"onUpdate:modelValue":u[1]||(u[1]=s=>y(r).reason=s),label:"Reason",outlined:"",dense:"",required:"",options:["Expired","Resigned","Dismissed","Regularised","Others (Specify the reasons to Remarks)","Overage (Retired)"],error:!!y(r).errors.reason,"error-message":y(r).errors.reason,rules:[s=>!!s||"Reason is required"]},null,8,["modelValue","error","error-message","rules"]),t(oe,{modelValue:y(r).seniority_list,"onUpdate:modelValue":u[2]||(u[2]=s=>y(r).seniority_list=s),label:"Seniority List",outlined:"",dense:""},null,8,["modelValue"]),t(oe,{modelValue:y(r).year,"onUpdate:modelValue":u[3]||(u[3]=s=>y(r).year=s),label:"Year",outlined:"",dense:"",type:"number"},null,8,["modelValue"]),t(oe,{modelValue:y(r).remark,"onUpdate:modelValue":u[4]||(u[4]=s=>y(r).remark=s),label:"Remark",outlined:"",dense:"",type:"textarea"},null,8,["modelValue"]),t(Ne,{modelValue:y(r).supporting_document,"onUpdate:modelValue":u[6]||(u[6]=s=>y(r).supporting_document=s),label:"Supporting Document",outlined:"",dense:"",accept:".pdf,.png,.jpg,.jpeg"},tl({_:2},[e.deletion.supporting_document?{name:"append",fn:l(()=>[t(R,{round:"",dense:"",flat:"",icon:"visibility",href:`/storage/${e.deletion.supporting_document}`,onClick:u[5]||(u[5]=s=>f(`/storage/${e.deletion.supporting_document}`)),class:"q-ml-sm"},null,8,["href"])]),key:"0"}:void 0]),1032,["modelValue"])]),_:1}),t(ve,{align:"right"},{default:l(()=>[$e(t(R,{flat:"",label:"Cancel"},null,512),[[Re]]),t(R,{color:"primary",label:"Update",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Wn={class:"flex items-center justify-between q-pa-md bg-white"},Kn={class:"flex q-gutter-sm"},Yn={key:0,class:"text-grey-7 text-center q-pa-md italic"},Jn={class:"text-h6"},Gn={__name:"Remuneration",props:{data:Object,canCreateRemuneration:Boolean},setup(e){const a=we(),{pay_matrix:o,formatDate:d}=Be(),r=e,v=Q(!1),f=Q(!1),x=Q(!1),u=xe({remuneration:"",pay_matrix:"",next_increment_date:""}),s=(S=!1)=>{f.value=S,S&&r.data.remuneration_detail?(u.remuneration=r.data.remuneration_detail.remuneration,u.pay_matrix=r.data.remuneration_detail.pay_matrix,u.next_increment_date=r.data.remuneration_detail.next_increment_date):u.reset(),v.value=!0,x.value=!1},i=()=>{x.value=!0},m=()=>{if(!u.remuneration){a.notify({type:"negative",message:"Remuneration amount is required",position:"bottom"});return}if(!u.next_increment_date){a.notify({type:"negative",message:"Next Increment Date is required",position:"bottom"});return}f.value?u.put(route("remuneration.update",r.data.id),{onSuccess:()=>{v.value=!1},onError:S=>{Object.values(S).forEach(C=>{a.notify({type:"negative",message:C,position:"bottom"})})}}):u.post(route("remuneration.store",r.data.id),{onSuccess:()=>{v.value=!1,u.reset()},onError:S=>{Object.values(S).forEach(C=>{a.notify({type:"negative",message:C,position:"bottom"})})}})};return(S,C)=>(c(),E(Y,null,[t(W,{class:"q-mt-md"},{default:l(()=>[n("div",Wn,[C[5]||(C[5]=n("div",null,[n("div",{class:"stitle"},"Remuneration Detail")],-1)),n("div",Kn,[e.canCreateRemuneration?(c(),O(R,{key:0,onClick:C[0]||(C[0]=T=>s(!!e.data.remuneration_detail)),color:"btn-primary",icon:e.data.remuneration_detail?"edit":"add"},null,8,["icon"])):L("",!0)])]),t(B,null,{default:l(()=>[e.data.remuneration_detail?(c(),O(dt,{key:1,class:"q-mt-sm"},{default:l(()=>[t(F,null,{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>C[6]||(C[6]=[h("Remuneration:")])),_:1,__:[6]}),t(D,{class:"text-label"},{default:l(()=>[h(" ₹ "+q(e.data.remuneration_detail.remuneration.toLocaleString()),1)]),_:1})]),_:1}),t(F,null,{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>C[7]||(C[7]=[h("Pay Matrix:")])),_:1,__:[7]}),t(D,{class:"text-label"},{default:l(()=>[h(q(e.data.remuneration_detail.pay_matrix??"N/A"),1)]),_:1})]),_:1}),t(F,null,{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>C[8]||(C[8]=[h("Medical Allowance (%):")])),_:1,__:[8]}),t(D,{class:"text-label"},{default:l(()=>[h(q(e.data.remuneration_detail.medical_percentage),1)]),_:1})]),_:1}),t(F,null,{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>C[9]||(C[9]=[h("Medical Allowance:")])),_:1,__:[9]}),t(D,{class:"text-label"},{default:l(()=>[h(" ₹ "+q(e.data.remuneration_detail.medical_amount.toLocaleString()),1)]),_:1})]),_:1}),t(F,null,{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>C[10]||(C[10]=[h("Total:")])),_:1,__:[10]}),t(D,{class:"text-label"},{default:l(()=>[h(" ₹ "+q(e.data.remuneration_detail.total.toLocaleString()),1)]),_:1})]),_:1}),t(F,null,{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>C[11]||(C[11]=[h("Monthly Remuneration:")])),_:1,__:[11]}),t(D,{class:"text-label"},{default:l(()=>[h(" ₹ "+q(e.data.remuneration_detail.round_total.toLocaleString()),1)]),_:1})]),_:1}),t(Se,{spaced:""}),t(F,null,{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>C[12]||(C[12]=[h("Date of next Increment:")])),_:1,__:[12]}),t(D,{class:"text-label"},{default:l(()=>[h(q(y(d)(e.data.remuneration_detail.next_increment_date)),1)]),_:1})]),_:1})]),_:1})):(c(),E("div",Yn," No remuneration data available. "))]),_:1})]),_:1}),t(Ee,{modelValue:v.value,"onUpdate:modelValue":C[4]||(C[4]=T=>v.value=T)},{default:l(()=>[t(W,{style:{"min-width":"400px"}},{default:l(()=>[t(B,null,{default:l(()=>[n("div",Jn,q(f.value?"Edit":"Add")+" Remuneration",1)]),_:1}),t(B,{class:"q-gutter-md"},{default:l(()=>[t(oe,{label:"Remuneration",type:"number",modelValue:y(u).remuneration,"onUpdate:modelValue":C[1]||(C[1]=T=>y(u).remuneration=T),outlined:"",dense:"",readonly:!x.value},{append:l(()=>[t(Le,{name:"edit",class:"cursor-pointer",onClick:i})]),_:1},8,["modelValue","readonly"]),t(Ae,{label:"Pay Matrix",options:y(o),modelValue:y(u).pay_matrix,"onUpdate:modelValue":C[2]||(C[2]=T=>y(u).pay_matrix=T),outlined:"",dense:"",readonly:!x.value},null,8,["options","modelValue","readonly"]),t(oe,{label:"Next Increment Date",type:"date",modelValue:y(u).next_increment_date,"onUpdate:modelValue":C[3]||(C[3]=T=>y(u).next_increment_date=T),outlined:"",dense:"",readonly:!x.value},null,8,["modelValue","readonly"])]),_:1}),t(ve,{align:"right"},{default:l(()=>[$e(t(R,{flat:"",label:"Cancel"},null,512),[[Re]]),t(R,{color:"primary",label:f.value?"Update":"Save",disable:!x.value,onClick:m},null,8,["label","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};function Dt(e,a){if(a&&e===a)return null;const o=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(o)===!0)return e;const d=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,r=d.display;return r==="block"||r==="table"?e:Dt(e.parentNode)}function lt(e,a,o){return!e||e===document.body?!1:o===!0&&e===a||(a===document?document.body:a).contains(e.parentNode)}function St(e,a,o){if(o||(o=document.createRange(),o.selectNode(e),o.setStart(e,0)),a.count===0)o.setEnd(e,a.count);else if(a.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<a.count?a.count-=e.textContent.length:(o.setEnd(e,a.count),a.count=0);else for(let d=0;a.count!==0&&d<e.childNodes.length;d++)o=St(e.childNodes[d],a,o);return o}const Xn=/^https?:\/\//;class Zn{constructor(a,o){this.el=a,this.eVm=o,this._range=null}get selection(){if(this.el){const a=document.getSelection();if(lt(a.anchorNode,this.el,!0)&&lt(a.focusNode,this.el,!0))return a}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length!==0:!1}get range(){const a=this.selection;return a!=null&&a.rangeCount?a.getRangeAt(0):this._range}get parent(){const a=this.range;if(a!==null){const o=a.startContainer;return o.nodeType===document.ELEMENT_NODE?o:o.parentNode}return null}get blockParent(){const a=this.parent;return a!==null?Dt(a,this.el):null}save(a=this.range){a!==null&&(this._range=a)}restore(a=this._range){const o=document.createRange(),d=document.getSelection();a!==null?(o.setStart(a.startContainer,a.startOffset),o.setEnd(a.endContainer,a.endOffset),d.removeAllRanges(),d.addRange(o)):(d.selectAllChildren(this.el),d.collapseToEnd())}savePosition(){let a=-1,o;const d=document.getSelection(),r=this.el.parentNode;if(d.focusNode&&lt(d.focusNode,r))for(o=d.focusNode,a=d.focusOffset;o&&o!==r;)o!==this.el&&o.previousSibling?(o=o.previousSibling,a+=o.textContent.length):o=o.parentNode;this.savedPos=a}restorePosition(a=0){if(this.savedPos>0&&this.savedPos<a){const o=window.getSelection(),d=St(this.el,{count:this.savedPos});d&&(d.collapse(!1),o.removeAllRanges(),o.addRange(d))}}hasParent(a,o){const d=o?this.parent:this.blockParent;return d!==null?d.nodeName.toLowerCase()===a.toLowerCase():!1}hasParents(a,o,d=this.parent){return d===null?!1:a.includes(d.nodeName.toLowerCase())===!0?!0:o===!0?this.hasParents(a,o,d.parentNode):!1}is(a,o){if(this.selection===null)return!1;switch(a){case"formatBlock":return o==="DIV"&&this.parent===this.el||this.hasParent(o,o==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(a)===o;case"fontName":const d=document.queryCommandValue(a);return d===`"${o}"`||d===o;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const r=document.queryCommandState(a);return o!==void 0?r===o:r}}getParentAttribute(a){return this.parent!==null?this.parent.getAttribute(a):null}can(a){if(a==="outdent")return this.hasParents(["blockquote","li"],!0);if(a==="indent")return this.hasParents(["li"],!0);if(a==="link")return this.selection!==null||this.is("link")}apply(a,o,d=ll){if(a==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(o)&&this.is(a,o)&&(a="outdent",o=null),o==="PRE"&&this.is(a,"PRE")&&(o="P");else if(a==="print"){d();const r=window.open();r.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),r.print(),r.close();return}else if(a==="link"){const r=this.getParentAttribute("href");if(r===null){const v=this.selectWord(this.selection),f=v?v.toString():"";if(!f.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=Xn.test(f)?f:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(v.getRangeAt(0))}else this.eVm.editLinkUrl.value=r,this.range.selectNodeContents(this.parent),this.save();return}else if(a==="fullscreen"){this.eVm.toggleFullscreen(),d();return}else if(a==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),d();return}document.execCommand(a,!1,o),d()}selectWord(a){if(a===null||a.isCollapsed!==!0||a.modify===void 0)return a;const o=document.createRange();o.setStart(a.anchorNode,a.anchorOffset),o.setEnd(a.focusNode,a.focusOffset);const d=o.collapsed?["backward","forward"]:["forward","backward"];o.detach();const r=a.focusNode,v=a.focusOffset;return a.collapse(a.anchorNode,a.anchorOffset),a.modify("move",d[0],"character"),a.modify("move",d[1],"word"),a.extend(r,v),a.modify("extend",d[1],"character"),a.modify("extend",d[0],"word"),a}}function Rt(e,a,o){a.handler?a.handler(e,o,o.caret):o.runCmd(a.cmd,a.param)}function ct(e){return N("div",{class:"q-editor__toolbar-group"},e)}function Et(e,a,o,d=!1){const r=d||(a.type==="toggle"?a.toggled?a.toggled(e):a.cmd&&e.caret.is(a.cmd,a.param):!1),v=[];if(a.tip&&e.$q.platform.is.desktop){const f=a.key?N("div",[N("small",`(CTRL + ${String.fromCharCode(a.key)})`)]):null;v.push(N(st,{delay:1e3},()=>[N("div",{innerHTML:a.tip}),f]))}return N(R,{...e.buttonProps.value,icon:a.icon!==null?a.icon:void 0,color:r?a.toggleColor||e.props.toolbarToggleColor:a.color||e.props.toolbarColor,textColor:r&&!e.props.toolbarPush?null:a.textColor||e.props.toolbarTextColor,label:a.label,disable:a.disable?typeof a.disable=="function"?a.disable(e):!0:!1,size:"sm",onClick(f){o==null||o(),Rt(f,a,e)}},()=>v)}function eo(e,a){const o=a.list==="only-icons";let d=a.label,r=a.icon!==null?a.icon:void 0,v,f;function x(){s.component.proxy.hide()}if(o)f=a.options.map(i=>{const m=i.type===void 0?e.caret.is(i.cmd,i.param):!1;return m&&(d=i.tip,r=i.icon!==null?i.icon:void 0),Et(e,i,x,m)}),v=e.toolbarBackgroundClass.value,f=[ct(f)];else{const i=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,m=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,S=a.list==="no-icons";f=a.options.map(C=>{const T=C.disable?C.disable(e):!1,b=C.type===void 0?e.caret.is(C.cmd,C.param):!1;b&&(d=C.tip,r=C.icon!==null?C.icon:void 0);const k=C.htmlTip;return N(F,{active:b,activeClass:i,clickable:!0,disable:T,dense:!0,onClick(_){var p;x(),(_==null?void 0:_.qAvoidFocus)!==!0&&((p=e.contentRef.value)==null||p.focus()),e.caret.restore(),Rt(_,C,e)}},()=>[S===!0?null:N(D,{class:b?i:m,side:!0},()=>N(Le,{name:C.icon!==null?C.icon:void 0})),N(D,k?()=>N("div",{class:"text-no-wrap",innerHTML:C.htmlTip}):C.tip?()=>N("div",{class:"text-no-wrap"},C.tip):void 0)])}),v=[e.toolbarBackgroundClass.value,m]}const u=a.highlight&&d!==a.label,s=N(hl,{...e.buttonProps.value,noCaps:!0,noWrap:!0,color:u?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:u&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:a.fixedLabel?a.label:d,icon:a.fixedIcon?a.icon!==null?a.icon:void 0:r,contentClass:v,onShow:i=>e.emit("dropdownShow",i),onHide:i=>e.emit("dropdownHide",i),onBeforeShow:i=>e.emit("dropdownBeforeShow",i),onBeforeHide:i=>e.emit("dropdownBeforeHide",i)},()=>f);return s}function to(e){if(e.caret)return e.buttons.value.filter(a=>!e.isViewingSource.value||a.find(o=>o.cmd==="viewsource")).map(a=>ct(a.map(o=>e.isViewingSource.value&&o.cmd!=="viewsource"?!1:o.type==="slot"?ut(e.slots[o.slot]):o.type==="dropdown"?eo(e,o):Et(e,o))))}function lo(e,a,o,d={}){const r=Object.keys(d);if(r.length===0)return{};const v={default_font:{cmd:"fontName",param:e,icon:o,tip:a}};return r.forEach(f=>{const x=d[f];v[f]={cmd:"fontName",param:x,icon:o,tip:x,htmlTip:`<font face="${x}">${x}</font>`}}),v}function ao(e){if(e.caret){const a=e.props.toolbarColor||e.props.toolbarTextColor;let o=e.editLinkUrl.value;const d=()=>{e.caret.restore(),o!==e.editLinkUrl.value&&document.execCommand("createLink",!1,o===""?" ":o),e.editLinkUrl.value=null};return[N("div",{class:`q-mx-xs text-${a}`},`${e.$q.lang.editor.url}: `),N("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:o,onInput:r=>{al(r),o=r.target.value},onKeydown:r=>{if(it(r)!==!0)switch(r.keyCode){case 13:return pt(r),d();case 27:pt(r),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),ct([N(R,{key:"qedt_btm_rem",tabindex:-1,...e.buttonProps.value,label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}}),N(R,{key:"qedt_btm_upd",...e.buttonProps.value,label:e.$q.lang.label.update,noCaps:!0,onClick:d})])]}}const no=Object.prototype.toString,at=Object.prototype.hasOwnProperty,oo=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(e=>"[object "+e+"]"));function wt(e){if(e!==Object(e)||oo.has(no.call(e))===!0||e.constructor&&at.call(e,"constructor")===!1&&at.call(e.constructor.prototype,"isPrototypeOf")===!1)return!1;let a;for(a in e);return a===void 0||at.call(e,a)}function Ot(){let e,a,o,d,r,v,f=arguments[0]||{},x=1,u=!1;const s=arguments.length;for(typeof f=="boolean"&&(u=f,f=arguments[1]||{},x=2),Object(f)!==f&&typeof f!="function"&&(f={}),s===x&&(f=this,x--);x<s;x++)if((e=arguments[x])!==null)for(a in e)o=f[a],d=e[a],f!==d&&(u===!0&&d&&((r=Array.isArray(d))||wt(d)===!0)?(r===!0?v=Array.isArray(o)===!0?o:[]:v=wt(o)===!0?o:{},f[a]=Ot(u,v,d)):d!==void 0&&(f[a]=d));return f}const so=Ie({name:"QEditor",props:{...nl,...Cl,modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(a=>a.length),default:()=>[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},emits:[...ql,"update:modelValue","keydown","click","focus","blur","dropdownShow","dropdownHide","dropdownBeforeShow","dropdownBeforeHide","linkShow","linkHide"],setup(e,{slots:a,emit:o}){const{proxy:d}=Ge(),{$q:r}=d,v=ol(e,r),{inFullscreen:f,toggleFullscreen:x}=$l(),u=sl(),s=Q(null),i=Q(null),m=Q(null),S=Q(!1),C=A(()=>!e.readonly&&!e.disable);let T,b,k=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),T=window.getComputedStyle(document.body).fontFamily;const _=A(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),p=A(()=>({type:"a",flat:e.toolbarOutline!==!0&&e.toolbarPush!==!0,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!C.value,size:"sm"})),P=A(()=>{const g=r.lang.editor,w=r.iconSet.editor;return{bold:{cmd:"bold",icon:w.bold,tip:g.bold,key:66},italic:{cmd:"italic",icon:w.italic,tip:g.italic,key:73},strike:{cmd:"strikeThrough",icon:w.strikethrough,tip:g.strikethrough,key:83},underline:{cmd:"underline",icon:w.underline,tip:g.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:w.unorderedList,tip:g.unorderedList},ordered:{cmd:"insertOrderedList",icon:w.orderedList,tip:g.orderedList},subscript:{cmd:"subscript",icon:w.subscript,tip:g.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:w.superscript,tip:g.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:I=>I.caret&&!I.caret.can("link"),icon:w.hyperlink,tip:g.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:w.toggleFullscreen,tip:g.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:w.viewSource,tip:g.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:w.quote,tip:g.quote,key:81},left:{cmd:"justifyLeft",icon:w.left,tip:g.left},center:{cmd:"justifyCenter",icon:w.center,tip:g.center},right:{cmd:"justifyRight",icon:w.right,tip:g.right},justify:{cmd:"justifyFull",icon:w.justify,tip:g.justify},print:{type:"no-state",cmd:"print",icon:w.print,tip:g.print,key:80},outdent:{type:"no-state",disable:I=>I.caret&&!I.caret.can("outdent"),cmd:"outdent",icon:w.outdent,tip:g.outdent},indent:{type:"no-state",disable:I=>I.caret&&!I.caret.can("indent"),cmd:"indent",icon:w.indent,tip:g.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:w.removeFormat,tip:g.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:w.hr,tip:g.hr},undo:{type:"no-state",cmd:"undo",icon:w.undo,tip:g.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:w.redo,tip:g.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:w.heading1||w.heading,tip:g.heading1,htmlTip:`<h1 class="q-ma-none">${g.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:w.heading2||w.heading,tip:g.heading2,htmlTip:`<h2 class="q-ma-none">${g.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:w.heading3||w.heading,tip:g.heading3,htmlTip:`<h3 class="q-ma-none">${g.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:w.heading4||w.heading,tip:g.heading4,htmlTip:`<h4 class="q-ma-none">${g.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:w.heading5||w.heading,tip:g.heading5,htmlTip:`<h5 class="q-ma-none">${g.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:w.heading6||w.heading,tip:g.heading6,htmlTip:`<h6 class="q-ma-none">${g.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:w.heading,tip:g.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:w.code,htmlTip:`<code>${g.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:w.size1||w.size,tip:g.size1,htmlTip:`<font size="1">${g.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:w.size2||w.size,tip:g.size2,htmlTip:`<font size="2">${g.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:w.size3||w.size,tip:g.size3,htmlTip:`<font size="3">${g.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:w.size4||w.size,tip:g.size4,htmlTip:`<font size="4">${g.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:w.size5||w.size,tip:g.size5,htmlTip:`<font size="5">${g.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:w.size6||w.size,tip:g.size6,htmlTip:`<font size="6">${g.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:w.size7||w.size,tip:g.size7,htmlTip:`<font size="7">${g.size7}</font>`}}}),J=A(()=>{const g=e.definitions||{},w=e.definitions||e.fonts?Ot(!0,{},P.value,g,lo(T,r.lang.editor.defaultFont,r.iconSet.editor.font,e.fonts)):P.value;return e.toolbar.map(I=>I.map(G=>{if(G.options)return{type:"dropdown",icon:G.icon,label:G.label,size:"sm",dense:!0,fixedLabel:G.fixedLabel,fixedIcon:G.fixedIcon,highlight:G.highlight,list:G.list,options:G.options.map(ze=>w[ze])};const de=w[G];return de?de.type==="no-state"||g[G]&&(de.cmd===void 0||P.value[de.cmd]&&P.value[de.cmd].type==="no-state")?de:Object.assign({type:"toggle"},de):{type:"slot",slot:G}}))}),U={$q:r,props:e,slots:a,emit:o,inFullscreen:f,toggleFullscreen:x,runCmd:re,isViewingSource:S,editLinkUrl:m,toolbarBackgroundClass:_,buttonProps:p,contentRef:i,buttons:J,setContent:ie};ge(()=>e.modelValue,g=>{k!==g&&(k=g,ie(g,!0))}),ge(m,g=>{o(`link${g?"Show":"Hide"}`)});const te=A(()=>e.toolbar&&e.toolbar.length!==0),le=A(()=>{const g={},w=I=>{I.key&&(g[I.key]={cmd:I.cmd,param:I.param})};return J.value.forEach(I=>{I.forEach(G=>{G.options?G.options.forEach(w):w(G)})}),g}),ne=A(()=>f.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),se=A(()=>`q-editor q-editor--${S.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(f.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(v.value===!0?" q-editor--dark q-dark":"")),pe=A(()=>[e.contentClass,"q-editor__content",{col:f.value,"overflow-auto":f.value||e.maxHeight}]),Te=A(()=>e.disable===!0?{"aria-disabled":"true"}:{});function Oe(){if(i.value!==null){const g=`inner${S.value===!0?"Text":"HTML"}`,w=i.value[g];w!==e.modelValue&&(k=w,o("update:modelValue",w))}}function Ve(g){if(o("keydown",g),g.ctrlKey!==!0||it(g)===!0){H();return}const w=g.keyCode,I=le.value[w];if(I!==void 0){const{cmd:G,param:de}=I;rt(g),re(G,de,!1)}}function be(g){H(),o("click",g)}function ye(g){if(i.value!==null){const{scrollTop:w,scrollHeight:I}=i.value;b=I-w}U.caret.save(),o("blur",g)}function ce(g){il(()=>{i.value!==null&&b!==void 0&&(i.value.scrollTop=i.value.scrollHeight-b)}),o("focus",g)}function ke(g){const w=s.value;if(w!==null&&w.contains(g.target)===!0&&(g.relatedTarget===null||w.contains(g.relatedTarget)!==!0)){const I=`inner${S.value===!0?"Text":"HTML"}`;U.caret.restorePosition(i.value[I].length),H()}}function he(g){const w=s.value;w!==null&&w.contains(g.target)===!0&&(g.relatedTarget===null||w.contains(g.relatedTarget)!==!0)&&(U.caret.savePosition(),H())}function qe(){b=void 0}function Ce(g){U.caret.save()}function ie(g,w){if(i.value!==null){w===!0&&U.caret.savePosition();const I=`inner${S.value===!0?"Text":"HTML"}`;i.value[I]=g,w===!0&&(U.caret.restorePosition(i.value[I].length),H())}}function re(g,w,I=!0){fe(),U.caret.restore(),U.caret.apply(g,w,()=>{fe(),U.caret.save(),I&&H()})}function H(){setTimeout(()=>{m.value=null,d.$forceUpdate()},1)}function fe(){rl(()=>{var g;(g=i.value)==null||g.focus({preventScroll:!0})})}function ue(){return i.value}return qt(()=>{U.caret=d.caret=new Zn(i.value,U),ie(e.modelValue),H(),document.addEventListener("selectionchange",Ce)}),Qe(()=>{document.removeEventListener("selectionchange",Ce)}),Object.assign(d,{runCmd:re,refreshToolbar:H,focus:fe,getContentEl:ue}),()=>{let g;if(te.value){const w=[N("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+_.value},to(U))];m.value!==null&&w.push(N("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+_.value},ao(U))),g=N("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},w)}return N("div",{ref:s,class:se.value,style:{height:f.value===!0?"100%":null},...Te.value,onFocusin:ke,onFocusout:he},[g,N("div",{ref:i,style:ne.value,class:pe.value,contenteditable:C.value,placeholder:e.placeholder,...u.listeners.value,onInput:Oe,onKeydown:Ve,onClick:be,onBlur:ye,onFocus:ce,onMousedown:qe,onTouchstartPassive:qe})])}}}),io={key:0},ro={class:"subtitle"},uo={class:"text-label"},co={class:"row items-center q-gutter-sm"},fo={key:1,class:"text-grey-7 text-center q-pa-md italic"},mo={__name:"EngagementCard",props:{data:Object,canCreateEngagementCard:Boolean,canDownloadEngagementCard:Boolean,canDeleteEngagementCard:Boolean},setup(e){const a=Q(!1),o=Q(null),d=xe({html_content:""}),r=we(),v=async(u=null)=>{o.value=u,u?d.html_content=u.content:d.html_content="",a.value=!0},f=()=>{d.post(route("engagement-card.update",o.value),{preserveScroll:!0,onSuccess:()=>{a.value=!1,r.notify({type:"positive",message:"Card updated successfully!"})}})},x=async u=>{try{const s=await ul.get(route("engagement-card.download",u.id),{responseType:"blob"}),i=window.URL.createObjectURL(new Blob([s.data],{type:"application/pdf"})),m=document.createElement("a");m.href=i,m.setAttribute("download",`EngagementCard_${u.card_no}.pdf`),document.body.appendChild(m),m.click(),m.remove()}catch{r.notify({type:"negative",message:"Failed to download PDF."})}};return(u,s)=>(c(),E("div",null,[t(W,{class:"q-mt-md"},{default:l(()=>[s[2]||(s[2]=n("div",{class:"flex items-center justify-between q-pa-md bg-white"},[n("div",null,[n("div",{class:"stitle"},"Engagement Cards")])],-1)),t(B,null,{default:l(()=>[e.data.engagement_card&&e.data.engagement_card.length?(c(),E("div",io,[(c(!0),E(Y,null,ae(e.data.engagement_card,i=>(c(),O(F,{key:i.id,class:"q-mb-md"},{default:l(()=>[t(D,null,{default:l(()=>[n("div",ro,"Card No: "+q(i.card_no),1),n("div",uo,"Fiscal: "+q(i.fiscal_year),1)]),_:2},1024),t(D,{side:""},{default:l(()=>[n("div",co,[e.canCreateEngagementCard?(c(),O(R,{key:0,dense:"",color:"primary",icon:"edit",onClick:m=>v(i)},null,8,["onClick"])):L("",!0),e.canDownloadEngagementCard?(c(),O(R,{key:1,dense:"",color:"primary",icon:"download",onClick:m=>x(i)},null,8,["onClick"])):L("",!0),e.canDeleteEngagementCard?(c(),O(R,{key:2,dense:"",color:"red",icon:"delete",onClick:m=>u.$inertia.delete(u.route("engagement-card.destroy",i.id))},null,8,["onClick"])):L("",!0)])]),_:2},1024)]),_:2},1024))),128))])):(c(),E("div",fo," No engagement card generated. "))]),_:1})]),_:1,__:[2]}),t(Ee,{modelValue:a.value,"onUpdate:modelValue":s[1]||(s[1]=i=>a.value=i),persistent:""},{default:l(()=>[t(W,{style:{width:"1000px","max-width":"100vw"}},{default:l(()=>[t(B,{class:"row items-center justify-between bg-primary text-white"},{default:l(()=>[s[3]||(s[3]=n("div",{class:"text-h6"},"Engagement Card",-1)),$e(t(R,{dense:"",flat:"",icon:"close"},null,512),[[Re]])]),_:1,__:[3]}),t(B,{style:{"flex-grow":"1",overflow:"auto",padding:"0"}},{default:l(()=>[t(so,{modelValue:y(d).html_content,"onUpdate:modelValue":s[0]||(s[0]=i=>y(d).html_content=i),style:{width:"100%","max-height":"1100px"}},null,8,["modelValue"])]),_:1}),t(ve,{align:"right",style:{"flex-shrink":"0"}},{default:l(()=>[t(R,{color:"primary",label:"Save",onClick:f})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},go={class:"flex items-center justify-between q-pa-md bg-white"},vo={class:"row q-col-gutter-md"},po={class:"col-12 col-md-4"},yo={class:"column items-center q-gutter-sm"},bo={class:"stitle"},ho={class:"q-mt-lg full-width"},_o={class:"q-mt-lg flex items-center justify-center"},xo={class:"col-12 col-md-8"},wo={class:"row q-col-gutter-md"},ko={class:"col-12 col-md-6"},qo={class:"col-12 col-md-6"},Qo=Object.assign({layout:_l},{__name:"Show",props:["data","office","documentTypes","canCreate","canEdit","canDelete","canCreateRemuneration","canCreateTransfer","canDeleteDocument","canDeleteTransfer","canCreateEngagementCard","canDownloadEngagementCard","canDeleteEngagementCard","canRequestEdit","canRequestDelete","canRequestTransfer","canApproveEdit","canApproveTransfer","canApproveDelete","canEditDelete","canRequestDocumentEdit","canApproveDocumentEdit"],setup(e){const{formatDate:a}=Be(),o=e,d=Q("document"),r=Q(!1),v=A(()=>{var _;return!!((_=yt().props.roles)!=null&&_.find(p=>p==="Admin"))}),f=A(()=>{var _;return!!((_=yt().props.roles)!=null&&_.find(p=>p==="Manager"))}),x=A(()=>{const _=o.data.edit_requests;return _&&_.length?_[_.length-1]:null}),u=A(()=>{const _=o.data.deletion_requests;return _&&_.length?_[_.length-1]:null}),s=A(()=>{const _=o.data.transfer_requests;return _&&_.length?_[_.length-1]:null}),i=A(()=>{const _=o.data.document_request;return _&&_.length?_[_.length-1]:null});function m(_){if(!_)return!0;const p=new Date,P=new Date(_);return(p-P)/(1e3*60*60*24)<=15}const S=A(()=>x.value?v.value?x.value.approval_status==="pending":f.value?x.value.approval_status!=="pending"&&m(x.value.approval_date):!1:!1),C=A(()=>u.value?v.value?u.value.approval_status==="pending":f.value?u.value.approval_status!=="pending"&&m(u.value.approval_date):!1:!1),T=A(()=>s.value?v.value?s.value.approval_status==="pending":f.value?s.value.approval_status!=="pending"&&m(s.value.approval_date):!1:!1),b=A(()=>i.value?v.value?i.value.approval_status==="pending":f.value?i.value.approval_status!=="pending"&&m(i.value.approval_date):!1:!1),k=()=>{window.history.back()};return(_,p)=>(c(),O(Bt,{class:"container",padding:""},{default:l(()=>[n("div",go,[n("div",null,[p[5]||(p[5]=n("div",{class:"stitle"},"Employee Detail",-1)),t(jt,{class:"text-dark"},{default:l(()=>[t(mt,{class:"cursor-pointer",onClick:p[0]||(p[0]=P=>_.$inertia.get(_.route("dashboard"))),icon:"dashboard",label:"Dashboard"}),t(mt,{class:"cursor-pointer",label:"Go Back",onClick:k})]),_:1})])]),p[27]||(p[27]=n("br",null,null,-1)),t(W,{flat:""},{default:l(()=>[t(B,null,{default:l(()=>[n("div",vo,[n("div",po,[t(W,{class:"q-pa-md"},{default:l(()=>{var P,J,U,te,le,ne;return[n("div",yo,[t(dl,{size:"96px"},{default:l(()=>{var se,pe;return[(se=e.data)!=null&&se.avatar?(c(),O(At,{key:0,src:`/storage/${(pe=e.data)==null?void 0:pe.avatar}`},null,8,["src"])):(c(),O(Le,{key:1,name:"person",color:"primary"}))]}),_:1}),n("div",bo,q(e.data.name),1),t(cl,{color:((J=(P=e.data)==null?void 0:P.employment_type)==null?void 0:J.trim())==="Deleted"?"red-6":"grey-6","text-color":"white",class:"stitle",label:((te=(U=e.data)==null?void 0:U.employment_type)==null?void 0:te.trim())==="MR"?"Muster Roll Employee":((ne=(le=e.data)==null?void 0:le.employment_type)==null?void 0:ne.trim())==="PE"?"Provisional Employee":"Deleted Employee",style:{padding:"8px"},rounded:""},null,8,["color","label"]),n("div",ho,[t(dt,{class:"rounded-borders"},{default:l(()=>{var se,pe,Te,Oe,Ve,be,ye,ce,ke,he,qe,Ce,ie,re,H,fe,ue,g,w,I,G,de,ze,Me,He,Pe,Fe,We,Ke;return[t(F,null,{default:l(()=>[t(D,{class:"text-label"},{default:l(()=>p[6]||(p[6]=[h("Details")])),_:1,__:[6]})]),_:1}),t(F,null,{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>p[7]||(p[7]=[h("Employee Code:")])),_:1,__:[7]}),t(D,{class:"text-label"},{default:l(()=>{var V;return[h(q((V=e.data)==null?void 0:V.employee_code),1)]}),_:1})]),_:1}),t(F,null,{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>p[8]||(p[8]=[h("Name:")])),_:1,__:[8]}),t(D,{class:"text-label"},{default:l(()=>{var V;return[h(q((V=e.data)==null?void 0:V.name),1)]}),_:1})]),_:1}),t(F,null,{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>p[9]||(p[9]=[h("Email:")])),_:1,__:[9]}),t(D,{class:"text-label"},{default:l(()=>[h(q(e.data.email),1)]),_:1})]),_:1}),t(F,null,{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>p[10]||(p[10]=[h("Contact:")])),_:1,__:[10]}),t(D,{class:"text-label"},{default:l(()=>{var V;return[h(q((V=e.data)==null?void 0:V.mobile),1)]}),_:1})]),_:1}),t(F,null,{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>p[11]||(p[11]=[h("Parent Name:")])),_:1,__:[11]}),t(D,{class:"text-label"},{default:l(()=>{var V;return[h(q((V=e.data)==null?void 0:V.parent_name),1)]}),_:1})]),_:1}),t(F,null,{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>p[12]||(p[12]=[h("Date of Birth:")])),_:1,__:[12]}),t(D,{class:"text-label"},{default:l(()=>[h(q(y(a)(e.data.date_of_birth)),1)]),_:1})]),_:1}),t(F,null,{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>p[13]||(p[13]=[h("Address:")])),_:1,__:[13]}),t(D,{class:"text-label"},{default:l(()=>{var V;return[h(q(((V=e.data)==null?void 0:V.address)??"N/A"),1)]}),_:1})]),_:1}),t(F,null,{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>p[14]||(p[14]=[h("Education Qln.:")])),_:1,__:[14]}),t(D,{class:"text-label"},{default:l(()=>{var V;return[h(q((V=e.data)==null?void 0:V.educational_qln),1)]}),_:1})]),_:1}),t(F,null,{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>p[15]||(p[15]=[h("Technical Qln.:")])),_:1,__:[15]}),t(D,{class:"text-label"},{default:l(()=>{var V;return[h(q((V=e.data)==null?void 0:V.technical_qln),1)]}),_:1})]),_:1}),((pe=(se=e.data)==null?void 0:se.employment_type)==null?void 0:pe.trim())==="PE"||(Te=e.data)!=null&&Te.designation&&((Oe=e.data)==null?void 0:Oe.designation)!=="null"?(c(),O(F,{key:0},{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>p[16]||(p[16]=[h("Designation:")])),_:1,__:[16]}),t(D,{class:"text-label"},{default:l(()=>{var V;return[h(q((V=e.data)==null?void 0:V.designation),1)]}),_:1})]),_:1})):L("",!0),((be=(Ve=e.data)==null?void 0:Ve.employment_type)==null?void 0:be.trim())==="MR"||(ye=e.data)!=null&&ye.post_assigned&&((ce=e.data)==null?void 0:ce.post_assigned)!=="null"?(c(),O(F,{key:1},{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>p[17]||(p[17]=[h("Post/Work Assigned:")])),_:1,__:[17]}),t(D,{class:"text-label"},{default:l(()=>{var V;return[h(q((V=e.data)==null?void 0:V.post_assigned),1)]}),_:1})]),_:1})):L("",!0),t(F,null,{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>p[18]||(p[18]=[h("Office:")])),_:1,__:[18]}),t(D,{class:"text-label"},{default:l(()=>{var V,_e;return[h(q((_e=(V=e.data)==null?void 0:V.office)==null?void 0:_e.name),1)]}),_:1})]),_:1}),t(F,null,{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>p[19]||(p[19]=[h("Office Type:")])),_:1,__:[19]}),t(D,{class:"text-label"},{default:l(()=>{var V,_e;return[h(q((_e=(V=e.data)==null?void 0:V.office)==null?void 0:_e.type),1)]}),_:1})]),_:1}),t(F,null,{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>p[20]||(p[20]=[h("Workplace:")])),_:1,__:[20]}),t(D,{class:"text-label"},{default:l(()=>{var V;return[h(q((V=e.data)==null?void 0:V.name_of_workplace),1)]}),_:1})]),_:1}),t(F,null,{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>p[21]||(p[21]=[h("Date of Initial Engagement:")])),_:1,__:[21]}),t(D,{class:"text-label"},{default:l(()=>{var V;return[h(q(y(a)((V=e.data)==null?void 0:V.date_of_engagement)||"N/A"),1)]}),_:1})]),_:1}),((he=(ke=e.data)==null?void 0:ke.employment_type)==null?void 0:he.trim())==="PE"||(qe=e.data)!=null&&qe.designation&&((Ce=e.data)==null?void 0:Ce.designation)!=="null"?(c(),O(F,{key:2},{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>p[22]||(p[22]=[h("Engagement Card No. :")])),_:1,__:[22]}),t(D,{class:"text-label"},{default:l(()=>{var V;return[h(q((V=e.data)==null?void 0:V.engagement_card_no),1)]}),_:1})]),_:1})):L("",!0),((re=(ie=e.data)==null?void 0:ie.employment_type)==null?void 0:re.trim())==="MR"||(H=e.data)!=null&&H.post_assigned&&((fe=e.data)==null?void 0:fe.post_assigned)!=="null"?(c(),O(F,{key:3},{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>p[23]||(p[23]=[h("Post Selected:")])),_:1,__:[23]}),t(D,{class:"text-label"},{default:l(()=>{var V;return[h(q((V=e.data)==null?void 0:V.post_per_qualification),1)]}),_:1})]),_:1})):L("",!0),((g=(ue=e.data)==null?void 0:ue.employment_type)==null?void 0:g.trim())==="MR"||(w=e.data)!=null&&w.post_assigned&&((I=e.data)==null?void 0:I.post_assigned)!=="null"?(c(),O(F,{key:4},{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>p[24]||(p[24]=[h("Skill Category:")])),_:1,__:[24]}),t(D,{class:"text-label"},{default:l(()=>{var V;return[h(q((V=e.data)==null?void 0:V.skill_category),1)]}),_:1})]),_:1})):L("",!0),((de=(G=e.data)==null?void 0:G.employment_type)==null?void 0:de.trim())==="MR"||(ze=e.data)!=null&&ze.post_assigned&&((Me=e.data)==null?void 0:Me.post_assigned)!=="null"?(c(),O(F,{key:5},{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>p[25]||(p[25]=[h("Skill at Present:")])),_:1,__:[25]}),t(D,{class:"text-label"},{default:l(()=>{var V;return[h(q((V=e.data)==null?void 0:V.skill_at_present),1)]}),_:1})]),_:1})):L("",!0),((Pe=(He=e.data)==null?void 0:He.employment_type)==null?void 0:Pe.trim())==="MR"&&((Fe=e.data)!=null&&Fe.scheme_id)||(We=e.data)!=null&&We.post_assigned&&((Ke=e.data)==null?void 0:Ke.post_assigned)!=="null"?(c(),O(F,{key:6},{default:l(()=>[t(D,{side:"",class:"subtitle"},{default:l(()=>p[26]||(p[26]=[h("Scheme:")])),_:1,__:[26]}),t(D,{class:"text-label"},{default:l(()=>{var V,_e;return[h(q((_e=(V=e.data)==null?void 0:V.scheme)==null?void 0:_e.name),1)]}),_:1})]),_:1})):L("",!0)]}),_:1}),n("div",_o,[e.canEdit?(c(),O(R,{key:0,label:"Edit",onClick:p[1]||(p[1]=se=>_.$inertia.get(_.route("employee.edit",e.data))),class:"q-mr-md",color:"primary"})):L("",!0),e.canDelete&&e.data.employment_type!=="Deleted"?(c(),O(R,{key:1,label:"Delete",color:"negative",unelevated:"",onClick:p[2]||(p[2]=se=>r.value=!0)})):L("",!0)])])])]}),_:1})]),t(Qn,{modelValue:r.value,"onUpdate:modelValue":p[3]||(p[3]=P=>r.value=P),employee:e.data},null,8,["modelValue","employee"]),n("div",xo,[t(Vl,{modelValue:d.value,"onUpdate:modelValue":p[4]||(p[4]=P=>d.value=P),class:"text-primary bg-white shadow-1 q-pa-sm",dense:"",align:"center"},{default:l(()=>[t(Ue,{name:"document",label:"Documents",icon:"drive_folder_upload",alert:b.value,"alert-icon":"circle","alert-color":"red",class:me(b.value?"text-red":"")},null,8,["alert","class"]),e.canApproveEdit?(c(),O(Ue,{key:0,name:"edit",label:"Edit Request",icon:"edit",alert:S.value,"alert-icon":"circle","alert-color":"red",class:me(S.value?"text-red":"")},null,8,["alert","class"])):L("",!0),e.canApproveTransfer?(c(),O(Ue,{key:1,name:"transfer_request",label:"Transfer Request",icon:"input",alert:T.value,"alert-icon":"circle","alert-color":"red",class:me(T.value?"text-red":"")},null,8,["alert","class"])):L("",!0),e.canApproveDelete?(c(),O(Ue,{key:2,name:"deletion",label:"Deletion Request",icon:"delete_sweep",alert:C.value,"alert-icon":"circle","alert-color":"red",class:me(C.value?"text-red":"")},null,8,["alert","class"])):L("",!0),e.canRequestEdit?(c(),O(Ue,{key:3,name:"request_edit",label:"Request Edit",icon:"edit",alert:S.value,"alert-icon":"circle","alert-color":"red",class:me(S.value?"text-red":"")},null,8,["alert","class"])):L("",!0),e.canRequestTransfer?(c(),O(Ue,{key:4,name:"request_transfer",label:"Request Transfer",icon:"input"})):L("",!0),e.canRequestDelete?(c(),O(Ue,{key:5,name:"request_deletion",label:"Request Deletion",icon:"delete_sweep"})):L("",!0)]),_:1},8,["modelValue"]),d.value==="document"?(c(),O(Yl,{key:0,data:e.data,documentTypes:e.documentTypes,canDeleteDocument:e.canDeleteDocument,canApproveDocumentEdit:e.canApproveDocumentEdit,canRequestDocumentEdit:e.canRequestDocumentEdit},null,8,["data","documentTypes","canDeleteDocument","canApproveDocumentEdit","canRequestDocumentEdit"])):L("",!0),d.value==="edit"?(c(),O(ka,{key:1,data:e.data},null,8,["data"])):L("",!0),d.value==="transfer_request"?(c(),O(ia,{key:2,data:e.data,office:e.office},null,8,["data","office"])):L("",!0),d.value==="deletion"?(c(),O(Ua,{key:3,data:e.data},null,8,["data"])):L("",!0),d.value==="request_edit"?(c(),O(_n,{key:4,data:e.data,documentTypes:e.documentTypes},null,8,["data","documentTypes"])):L("",!0),d.value==="request_transfer"?(c(),O(On,{key:5,data:e.data,office:e.office},null,8,["data","office"])):L("",!0),d.value==="request_deletion"?(c(),O(tn,{key:6,data:e.data},null,8,["data"])):L("",!0),n("div",wo,[n("div",ko,[e.data.employment_type==="PE"?(c(),O(Gn,{key:0,data:e.data,canCreateRemuneration:e.canCreateRemuneration},null,8,["data","canCreateRemuneration"])):L("",!0),t(zn,{data:e.data,office:e.office,canCreateTransfer:e.canCreateTransfer,canDeleteTransfer:e.canDeleteTransfer},null,8,["data","office","canCreateTransfer","canDeleteTransfer"])]),n("div",qo,[e.data.employment_type==="PE"?(c(),O(mo,{key:0,canDeleteEngagementCard:e.canDeleteEngagementCard,data:e.data,canCreateEngagementCard:e.canCreateEngagementCard,canDownloadEngagementCard:e.canDownloadEngagementCard},null,8,["canDeleteEngagementCard","data","canCreateEngagementCard","canDownloadEngagementCard"])):L("",!0),e.data.employment_type==="Deleted"?(c(),O(Hn,{key:1,deletion:e.data.deletion_detail,canEditDelete:e.canEditDelete},null,8,["deletion","canEditDelete"])):L("",!0)])])])])]),_:1})]),_:1})]),_:1,__:[27]}))}});export{Qo as default};
