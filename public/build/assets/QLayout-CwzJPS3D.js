import{H as _,J as P,K as V,L as C,M as B,N as Z,c as d,n as h,I as j,r as q,O as D,l as F,m as O,P as G,R as K,S as U,k as T,T as oe,U as J,V as le,X as ae,Y as M,Z as ee,_ as te,$ as re,a0 as ue,a1 as se,a2 as ce,a3 as W,a as E,a4 as de}from"./app-BUqhnzPm.js";const Se=_({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:m}){const{proxy:{$q:i}}=P(),n=V(B,C);if(n===C)return console.error("QPage needs to be a deep child of QLayout"),C;if(V(Z,C)===C)return console.error("QPage needs to be child of QPageContainer"),C;const a=d(()=>{const g=(n.header.space===!0?n.header.size:0)+(n.footer.space===!0?n.footer.size:0);if(typeof e.styleFn=="function"){const r=n.isContainer.value===!0?n.containerHeight.value:i.screen.height;return e.styleFn(g,r)}return{minHeight:n.isContainer.value===!0?n.containerHeight.value-g+"px":i.screen.height===0?g!==0?`calc(100vh - ${g}px)`:"100vh":i.screen.height-g+"px"}}),u=d(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>h("main",{class:u.value,style:a.value},j(m.default))}}),we=_({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:m}){const i=d(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>h("div",{class:i.value,role:"toolbar"},j(m.default))}});function fe(){const e=q(!D.value);return e.value===!1&&F(()=>{e.value=!0}),{isHydrated:e}}const ne=typeof ResizeObserver<"u",X=ne===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},I=_({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:m}){let i=null,n,t={width:-1,height:-1};function a(r){r===!0||e.debounce===0||e.debounce==="0"?u():i===null&&(i=setTimeout(u,e.debounce))}function u(){if(i!==null&&(clearTimeout(i),i=null),n){const{offsetWidth:r,offsetHeight:s}=n;(r!==t.width||s!==t.height)&&(t={width:r,height:s},m("resize",t))}}const{proxy:g}=P();if(g.trigger=a,ne===!0){let r;const s=w=>{n=g.$el.parentNode,n?(r=new ResizeObserver(a),r.observe(n),u()):w!==!0&&K(()=>{s(!0)})};return F(()=>{s()}),O(()=>{i!==null&&clearTimeout(i),r!==void 0&&(r.disconnect!==void 0?r.disconnect():n&&r.unobserve(n))}),G}else{let r=function(){i!==null&&(clearTimeout(i),i=null),b!==void 0&&(b.removeEventListener!==void 0&&b.removeEventListener("resize",a,U.passive),b=void 0)},s=function(){r(),n!=null&&n.contentDocument&&(b=n.contentDocument.defaultView,b.addEventListener("resize",a,U.passive),u())};const{isHydrated:w}=fe();let b;return F(()=>{K(()=>{n=g.$el,n&&s()})}),O(r),()=>{if(w.value===!0)return h("object",{class:"q--avoid-card-border",style:X.style,tabindex:-1,type:"text/html",data:X.url,"aria-hidden":"true",onLoad:s})}}}}),ze=_({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:m,emit:i}){const{proxy:{$q:n}}=P(),t=V(B,C);if(t===C)return console.error("QHeader needs to be child of QLayout"),C;const a=q(parseInt(e.heightHint,10)),u=q(!0),g=d(()=>e.reveal===!0||t.view.value.indexOf("H")!==-1||n.platform.is.ios&&t.isContainer.value===!0),r=d(()=>{if(e.modelValue!==!0)return 0;if(g.value===!0)return u.value===!0?a.value:0;const l=a.value-t.scroll.value.position;return l>0?l:0}),s=d(()=>e.modelValue!==!0||g.value===!0&&u.value!==!0),w=d(()=>e.modelValue===!0&&s.value===!0&&e.reveal===!0),b=d(()=>"q-header q-layout__section--marginal "+(g.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(s.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),S=d(()=>{const l=t.rows.value.top,$={};return l[0]==="l"&&t.left.space===!0&&($[n.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),l[2]==="r"&&t.right.space===!0&&($[n.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),$});function c(l,$){t.update("header",l,$)}function x(l,$){l.value!==$&&(l.value=$)}function z({height:l}){x(a,l),c("size",l)}function H(l){w.value===!0&&x(u,!0),i("focusin",l)}T(()=>e.modelValue,l=>{c("space",l),x(u,!0),t.animate()}),T(r,l=>{c("offset",l)}),T(()=>e.reveal,l=>{l===!1&&x(u,e.modelValue)}),T(u,l=>{t.animate(),i("reveal",l)}),T(t.scroll,l=>{e.reveal===!0&&x(u,l.direction==="up"||l.position<=e.revealOffset||l.position-l.inflectionPoint<100)});const Q={};return t.instances.header=Q,e.modelValue===!0&&c("size",a.value),c("space",e.modelValue),c("offset",r.value),O(()=>{t.instances.header===Q&&(t.instances.header=void 0,c("size",0),c("offset",0),c("space",!1))}),()=>{const l=oe(m.default,[]);return e.elevated===!0&&l.push(h("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),l.push(h(I,{debounce:0,onResize:z})),h("header",{class:b.value,style:S.value,onFocusin:H},l)}}}),ve={ratio:[String,Number]};function ge(e,m){return d(()=>{const i=Number(e.ratio||(m!==void 0?m.value:void 0));return isNaN(i)!==!0&&i>0?{paddingBottom:`${100/i}%`}:null})}const he=1.7778,qe=_({name:"QImg",props:{...ve,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:he},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:m,emit:i}){const n=q(e.initialRatio),t=ge(e,n),a=P(),{registerTimeout:u,removeTimeout:g}=J(),{registerTimeout:r,removeTimeout:s}=J(),w=d(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),b=d(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),S=[q(null),q(w.value)],c=q(0),x=q(!1),z=q(!1),H=d(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),Q=d(()=>({width:e.width,height:e.height})),l=d(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),$=d(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function f(){if(s(),e.loadingShowDelay===0){x.value=!0;return}r(()=>{x.value=!0},e.loadingShowDelay)}function o(){s(),x.value=!1}function y({target:v}){M(a)===!1&&(g(),n.value=v.naturalHeight===0?.5:v.naturalWidth/v.naturalHeight,L(v,1))}function L(v,R){R===1e3||M(a)===!0||(v.complete===!0?p(v):u(()=>{L(v,R+1)},50))}function p(v){M(a)!==!0&&(c.value=c.value^1,S[c.value].value=null,o(),v.getAttribute("__qerror")!=="true"&&(z.value=!1),i("load",v.currentSrc||v.src))}function N(v){g(),o(),z.value=!0,S[c.value].value=b.value,S[c.value^1].value=w.value,i("error",v)}function A(v){const R=S[v].value,k={key:"img_"+v,class:l.value,style:$.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...R};return c.value===v?Object.assign(k,{class:k.class+"current",onLoad:y,onError:N}):k.class+="loaded",h("div",{class:"q-img__container absolute-full",key:"img"+v},h("img",k))}function ie(){return x.value===!1?h("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},j(m[z.value===!0?"error":"default"])):h("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},m.loading!==void 0?m.loading():e.noSpinner===!0?void 0:[h(ae,{color:e.spinnerColor,size:e.spinnerSize})])}{let v=function(){T(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,R=>{g(),z.value=!1,R===null?(o(),S[c.value^1].value=w.value):f(),S[c.value].value=R},{immediate:!0})};D.value===!0?F(v):v()}return()=>{const v=[];return t.value!==null&&v.push(h("div",{key:"filler",style:t.value})),S[0].value!==null&&v.push(A(0)),S[1].value!==null&&v.push(A(1)),v.push(h(le,{name:"q-transition--fade"},ie)),h("div",{key:"main",class:H.value,style:Q.value,role:"img","aria-label":e.alt},v)}}}),xe=_({name:"QPageContainer",setup(e,{slots:m}){const{proxy:{$q:i}}=P(),n=V(B,C);if(n===C)return console.error("QPageContainer needs to be child of QLayout"),C;ee(Z,!0);const t=d(()=>{const a={};return n.header.space===!0&&(a.paddingTop=`${n.header.size}px`),n.right.space===!0&&(a[`padding${i.lang.rtl===!0?"Left":"Right"}`]=`${n.right.size}px`),n.footer.space===!0&&(a.paddingBottom=`${n.footer.size}px`),n.left.space===!0&&(a[`padding${i.lang.rtl===!0?"Right":"Left"}`]=`${n.left.size}px`),a});return()=>h("div",{class:"q-page-container",style:t.value},j(m.default))}}),$e=_({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:m,emit:i}){const{proxy:{$q:n}}=P(),t=V(B,C);if(t===C)return console.error("QFooter needs to be child of QLayout"),C;const a=q(parseInt(e.heightHint,10)),u=q(!0),g=q(D.value===!0||t.isContainer.value===!0?0:window.innerHeight),r=d(()=>e.reveal===!0||t.view.value.indexOf("F")!==-1||n.platform.is.ios&&t.isContainer.value===!0),s=d(()=>t.isContainer.value===!0?t.containerHeight.value:g.value),w=d(()=>{if(e.modelValue!==!0)return 0;if(r.value===!0)return u.value===!0?a.value:0;const o=t.scroll.value.position+s.value+a.value-t.height.value;return o>0?o:0}),b=d(()=>e.modelValue!==!0||r.value===!0&&u.value!==!0),S=d(()=>e.modelValue===!0&&b.value===!0&&e.reveal===!0),c=d(()=>"q-footer q-layout__section--marginal "+(r.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(b.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(r.value!==!0?" hidden":""):"")),x=d(()=>{const o=t.rows.value.bottom,y={};return o[0]==="l"&&t.left.space===!0&&(y[n.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),o[2]==="r"&&t.right.space===!0&&(y[n.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),y});function z(o,y){t.update("footer",o,y)}function H(o,y){o.value!==y&&(o.value=y)}function Q({height:o}){H(a,o),z("size",o)}function l(){if(e.reveal!==!0)return;const{direction:o,position:y,inflectionPoint:L}=t.scroll.value;H(u,o==="up"||y-L<100||t.height.value-s.value-y-a.value<300)}function $(o){S.value===!0&&H(u,!0),i("focusin",o)}T(()=>e.modelValue,o=>{z("space",o),H(u,!0),t.animate()}),T(w,o=>{z("offset",o)}),T(()=>e.reveal,o=>{o===!1&&H(u,e.modelValue)}),T(u,o=>{t.animate(),i("reveal",o)}),T([a,t.scroll,t.height],l),T(()=>n.screen.height,o=>{t.isContainer.value!==!0&&H(g,o)});const f={};return t.instances.footer=f,e.modelValue===!0&&z("size",a.value),z("space",e.modelValue),z("offset",w.value),O(()=>{t.instances.footer===f&&(t.instances.footer=void 0,z("size",0),z("offset",0),z("space",!1))}),()=>{const o=te(m.default,[h(I,{debounce:0,onResize:Q})]);return e.elevated===!0&&o.push(h("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),h("footer",{class:c.value,style:x.value,onFocusin:$},o)}}}),{passive:Y}=U,me=["both","horizontal","vertical"],ye=_({name:"QScrollObserver",props:{axis:{type:String,validator:e=>me.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:re},emits:["scroll"],setup(e,{emit:m}){const i={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let n=null,t,a;T(()=>e.scrollTarget,()=>{r(),g()});function u(){n==null||n();const b=Math.max(0,se(t)),S=ce(t),c={top:b-i.position.top,left:S-i.position.left};if(e.axis==="vertical"&&c.top===0||e.axis==="horizontal"&&c.left===0)return;const x=Math.abs(c.top)>=Math.abs(c.left)?c.top<0?"up":"down":c.left<0?"left":"right";i.position={top:b,left:S},i.directionChanged=i.direction!==x,i.delta=c,i.directionChanged===!0&&(i.direction=x,i.inflectionPoint=i.position),m("scroll",{...i})}function g(){t=ue(a,e.scrollTarget),t.addEventListener("scroll",s,Y),s(!0)}function r(){t!==void 0&&(t.removeEventListener("scroll",s,Y),t=void 0)}function s(b){if(b===!0||e.debounce===0||e.debounce==="0")u();else if(n===null){const[S,c]=e.debounce?[setTimeout(u,e.debounce),clearTimeout]:[requestAnimationFrame(u),cancelAnimationFrame];n=()=>{c(S),n=null}}}const{proxy:w}=P();return T(()=>w.$q.lang.rtl,u),F(()=>{a=w.$el.parentNode,g()}),O(()=>{n==null||n(),r()}),Object.assign(w,{trigger:s,getPosition:()=>i}),G}}),Le=_({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:m,emit:i}){const{proxy:{$q:n}}=P(),t=q(null),a=q(n.screen.height),u=q(e.container===!0?0:n.screen.width),g=q({position:0,direction:"down",inflectionPoint:0}),r=q(0),s=q(D.value===!0?0:W()),w=d(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),b=d(()=>e.container===!1?{minHeight:n.screen.height+"px"}:null),S=d(()=>s.value!==0?{[n.lang.rtl===!0?"left":"right"]:`${s.value}px`}:null),c=d(()=>s.value!==0?{[n.lang.rtl===!0?"right":"left"]:0,[n.lang.rtl===!0?"left":"right"]:`-${s.value}px`,width:`calc(100% + ${s.value}px)`}:null);function x(f){if(e.container===!0||document.qScrollPrevented!==!0){const o={position:f.position.top,direction:f.direction,directionChanged:f.directionChanged,inflectionPoint:f.inflectionPoint.top,delta:f.delta.top};g.value=o,e.onScroll!==void 0&&i("scroll",o)}}function z(f){const{height:o,width:y}=f;let L=!1;a.value!==o&&(L=!0,a.value=o,e.onScrollHeight!==void 0&&i("scrollHeight",o),Q()),u.value!==y&&(L=!0,u.value=y),L===!0&&e.onResize!==void 0&&i("resize",f)}function H({height:f}){r.value!==f&&(r.value=f,Q())}function Q(){if(e.container===!0){const f=a.value>r.value?W():0;s.value!==f&&(s.value=f)}}let l=null;const $={instances:{},view:d(()=>e.view),isContainer:d(()=>e.container),rootRef:t,height:a,containerHeight:r,scrollbarWidth:s,totalWidth:d(()=>u.value+s.value),rows:d(()=>{const f=e.view.toLowerCase().split(" ");return{top:f[0].split(""),middle:f[1].split(""),bottom:f[2].split("")}}),header:E({size:0,offset:0,space:!1}),right:E({size:300,offset:0,space:!1}),footer:E({size:0,offset:0,space:!1}),left:E({size:300,offset:0,space:!1}),scroll:g,animate(){l!==null?clearTimeout(l):document.body.classList.add("q-body--layout-animate"),l=setTimeout(()=>{l=null,document.body.classList.remove("q-body--layout-animate")},155)},update(f,o,y){$[f][o]=y}};if(ee(B,$),W()>0){let f=function(){L=null,p.classList.remove("hide-scrollbar")},o=function(){if(L===null){if(p.scrollHeight>n.screen.height)return;p.classList.add("hide-scrollbar")}else clearTimeout(L);L=setTimeout(f,300)},y=function(N){L!==null&&N==="remove"&&(clearTimeout(L),f()),window[`${N}EventListener`]("resize",o)},L=null;const p=document.body;T(()=>e.container!==!0?"add":"remove",y),e.container!==!0&&y("add"),de(()=>{y("remove")})}return()=>{const f=te(m.default,[h(ye,{onScroll:x}),h(I,{onResize:z})]),o=h("div",{class:w.value,style:b.value,ref:e.container===!0?void 0:t,tabindex:-1},f);return e.container===!0?h("div",{class:"q-layout-container overflow-hidden",ref:t},[h(I,{onResize:H}),h("div",{class:"absolute-full",style:S.value},[h("div",{class:"scroll",style:c.value},[o])])]):o}}});export{Se as Q,qe as a,ze as b,we as c,xe as d,$e as e,Le as f,I as g};
