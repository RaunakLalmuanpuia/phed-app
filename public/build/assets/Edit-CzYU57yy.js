import{Q as Ye,a as oe}from"./QBreadcrumbs-DsuZaeHt.js";import{a as Re,Q as He}from"./QLayout-B2jM-S07.js";import{r as K,x as Xe,l as Ze,c as Y,b as se,d as re,o as u,w,e as s,i as a,E as el,g as p,f as c,q as k,Q as g,u as l,F as Be,v as Ae,t as _,G as ll,h as y,D as ol,W as sl}from"./app-CbREI8P3.js";import{Q as x}from"./QSelect-IqzjLApG.js";import{Q as H}from"./QStepperNavigation-xA6upw1V.js";import{Q as rl,a as X}from"./QStepper-DrezP_Of.js";import{Q as al}from"./QFile-BuhkbMkh.js";import{Q as tl}from"./QForm-BcbZ_lHu.js";import{_ as nl}from"./BackendLayout-CRRmzffb.js";import{u as il}from"./use-quasar-Lo_vMwUR.js";import{u as dl}from"./useUtils-DEL-msFm.js";import"./format-DJGpelYo.js";import"./QSlideTransition-DQpyXsiP.js";import"./use-panel-CNDr9uGK.js";import"./touch-Brv1Lm4s.js";import"./date-bw_mpKo_.js";const ml={class:"flex items-center justify-between q-pa-md bg-white"},ul={class:"q-pa-md"},cl={class:"row items-center q-gutter-md"},pl={class:"rounded-borders overflow-hidden",style:{"background-color":"#8a82f7"}},gl={class:"column q-gutter-sm"},_l={class:"row q-gutter-md"},fl={key:0,class:"row q-col-gutter-sm"},vl={class:"col-12 col-sm-6"},yl={class:"col-12 col-sm-6"},bl={class:"col-12 col-sm-6"},kl={class:"col-12 col-sm-6"},Vl={class:"col-12 col-sm-6"},ql={class:"col-12 col-sm-6"},wl={key:0,class:"col-12 col-sm-6"},hl={key:1,class:"row q-col-gutter-sm"},Ul={class:"col-12 col-sm-6"},El={class:"col-12 col-sm-6"},Pl={class:"col-12 col-sm-6"},Cl={class:"col-12 col-sm-6"},xl={class:"col-12 col-sm-6"},Ql={class:"col-12 col-sm-6"},Sl={class:"col-12 col-sm-6"},Ml={class:"col-12 col-sm-6"},Dl={class:"row q-col-gutter-sm"},Nl={class:"col-12 col-sm-6"},Il={key:0,class:"col-12 col-sm-6"},Rl={key:1,class:"col-12 col-sm-6"},Bl={class:"col-12 col-sm-6"},Al={key:2,class:"col-12 col-sm-6"},Fl={key:3,class:"col-12 col-sm-6"},Tl={key:4,class:"col-12 col-sm-6"},jl={key:5,class:"col-12 col-sm-6"},Wl={key:6,class:"col-12 col-sm-6"},$l={class:"col-12 col-sm-6"},Ol={key:7,class:"col-12 col-sm-6"},Gl={key:8,class:"col-12 col-sm-6"},Jl={key:9,class:"col-12 col-sm-6"},Ll={class:"col-12 col-sm-6"},zl={class:"row q-col-gutter-sm"},Kl={class:"text-subtitle2 q-mb-xs"},Yl={class:"rounded-borders"},Hl={class:"row q-col-gutter-sm q-mb-md"},Xl={class:"col-12 col-sm-6"},Zl={class:"col-12 col-sm-6"},eo={class:"col-12 col-sm-6"},lo={class:"col-12 col-sm-6"},oo={class:"col-12 col-sm-6"},so={class:"col-12 col-sm-6"},ro={class:"col-12 col-sm-6"},ao={class:"row q-col-gutter-sm q-mb-md"},to={class:"col-12 col-sm-6"},no={class:"col-12 col-sm-6"},io={key:0,class:"col-12 col-sm-6"},mo={key:1,class:"col-12 col-sm-6"},uo={key:2,class:"col-12 col-sm-6"},co={class:"col-12 col-sm-6"},po={key:3,class:"col-12 col-sm-6"},go={key:4,class:"col-12 col-sm-6"},_o={key:5,class:"col-12 col-sm-6"},fo={class:"col-12 col-sm-6"},vo={key:6,class:"col-12 col-sm-6"},yo={class:"row q-col-gutter-sm q-mb-md"},bo={class:"row items-center justify-between"},ko={class:"text-subtitle2"},Vo={key:0},qo=["href"],wo={key:1,class:"text-grey"},ae="https://storage.googleapis.com/a1aa/image/089155c9-d1c1-4945-5728-c9bdb3576171.jpg",To=Object.assign({layout:nl},{__name:"Edit",props:["documentTypes","offices","data","current_offices","schemes"],setup(C){var ie,de,me,ue,ce,pe,ge,_e,fe,ve,ye,be,ke,Ve,qe,we,he,Ue,Ee,Pe,Ce,xe,Qe;const{educationalQualifications:Fe,skills:te,formatDate:ne}=dl(),d=C,U=il(),f=K("1"),S=K(!!((ie=d.data)!=null&&ie.scheme_id)||!!((de=d.data)!=null&&de.scheme)),e=Xe({name:(me=d.data)==null?void 0:me.name,email:(ue=d.data)==null?void 0:ue.email,mobile:(ce=d.data)==null?void 0:ce.mobile,parent_name:(pe=d.data)==null?void 0:pe.parent_name,date_of_birth:(ge=d.data)==null?void 0:ge.date_of_birth,address:(_e=d.data)==null?void 0:_e.address,designation:(fe=d.data)==null?void 0:fe.designation,post_assigned:(ve=d.data)==null?void 0:ve.post_assigned,employment_type:(ye=d.data)==null?void 0:ye.employment_type,office:((ke=(be=d.data)==null?void 0:be.office)==null?void 0:ke.id)??null,educational_qln:(Ve=d.data)==null?void 0:Ve.educational_qln,technical_qln:(qe=d.data)==null?void 0:qe.technical_qln,name_of_workplace:(we=d.data)==null?void 0:we.name_of_workplace,post_per_qualification:(he=d.data)==null?void 0:he.post_per_qualification,engagement_card_no:(Ue=d.data)==null?void 0:Ue.engagement_card_no,date_of_engagement:(Ee=d.data)==null?void 0:Ee.date_of_engagement,skill_category:(Pe=d.data)==null?void 0:Pe.skill_category,skill_at_present:(Ce=d.data)==null?void 0:Ce.skill_at_present,scheme:((Qe=(xe=d.data)==null?void 0:xe.scheme)==null?void 0:Qe.id)??null,documents:[],avatar:null}),Z=K(null);function Te(){var r;(r=Z.value)==null||r.click()}function je(r){const o=r.target.files[0];if(o&&o.size<=800*1024){const m=new FileReader;m.onload=()=>{Q.value=m.result},e.avatar=o,m.readAsDataURL(o)}else alert("File too large or invalid type. Max size: 800KB.")}function We(){var r;Q.value=(r=d.data)!=null&&r.avatar?`/storage/${d.data.avatar}`:ae,e.avatar=null,Z.value.value=null}const Q=K(""),$e=(r,o)=>{e.documents[r]={...e.documents[r],file:o}},Oe=r=>{window.open(r,"_blank")},ee=()=>{if(f.value==="1"){if(!e.name||!e.mobile||!e.parent_name||!e.date_of_birth||!e.educational_qln){U.notify({type:"negative",message:"Please fill all required Personal Info fields."});return}f.value=E.value?"4":"2"}else if(f.value==="2"){if(!e.employment_type||!e.office){U.notify({type:"negative",message:"Please fill all required Job Info fields."});return}if(e.employment_type==="MR"&&(!e.skill_category||!e.skill_at_present||!e.date_of_engagement)){U.notify({type:"negative",message:"Please fill all required Job Info fields."});return}f.value="3"}else f.value==="3"&&(f.value="4")},le=()=>{f.value==="4"?f.value=E.value?"1":"3":f.value==="3"?f.value=E.value?"1":"2":f.value==="2"&&(f.value="1")},Ge=r=>r?typeof r=="string"?r:URL.createObjectURL(r):"#",Je=[{label:"MR",value:"MR"},{label:"PE",value:"PE"}],Le=()=>{U.dialog({title:"Confirm Submission",message:"Are you sure you want to submit?",cancel:!0,persistent:!0}).onOk(()=>{var o,m;const r=new FormData;r.append("name",e.name||""),r.append("email",e.email||""),r.append("mobile",e.mobile||""),r.append("parent_name",e.parent_name||""),r.append("date_of_birth",e.date_of_birth||""),r.append("address",e.address||""),r.append("designation",e.designation||""),r.append("post_assigned",e.post_assigned||""),r.append("employment_type",e.employment_type||""),r.append("office",((o=e.office)==null?void 0:o.id)||e.office||""),r.append("educational_qln",e.educational_qln||""),r.append("technical_qln",e.technical_qln||""),r.append("name_of_workplace",e.name_of_workplace||""),r.append("post_per_qualification",e.post_per_qualification||""),r.append("engagement_card_no",e.engagement_card_no||""),r.append("date_of_engagement",e.date_of_engagement||""),r.append("skill_category",e.skill_category||""),r.append("skill_at_present",e.skill_at_present||""),S.value||(e.scheme=""),r.append("scheme",((m=e.scheme)==null?void 0:m.id)||e.scheme),e.avatar&&typeof e.avatar!="string"&&r.append("avatar",e.avatar),Object.entries(e.documents).forEach(([v,i])=>{i!=null&&i.file&&r.append(`documents[${v}]`,i.file)}),axios.post(route("employee.update",d.data),r,{headers:{"Content-Type":"multipart/form-data"}}).then(v=>{const{employee:i,message:V}=v.data;U.notify({type:"positive",message:v.data.message||"Employee saved successfully."}),e.reset(),sl.get(route("employee.show",i))}).catch(v=>{if(v.response){const i=v.response.data.errors,V=[];let b=null;if(i){for(const q in i)b||(b=q),i[q]&&V.push(...i[q]);if(e.errors=i,b){const h={name:1,email:1,mobile:1,parent_name:1,date_of_birth:1,educational_qln:1,technical_qln:1,employment_type:2,designation:2,date_of_engagement:2,name_of_workplace:2,office:2,post_per_qualification:2,skill_category:2,skill_at_present:2,documents:3}[b]||1;f.value=String(h)}U.notify({type:"negative",message:V.join(", ")})}else v.response.data.message&&U.notify({type:"negative",message:v.response.data.message})}else U.notify({type:"negative",message:"System Error. Please try again later."})})})};Ze(()=>{var r,o;(r=d.data.documents)!=null&&r.length&&d.data.documents.forEach(m=>{e.documents[m.document_type_id]={name:m.name,url:`/storage/${m.path}`}}),(o=d.data)!=null&&o.avatar?Q.value=`/storage/${d.data.avatar}`:Q.value=ae}),Y(()=>{var r;return!!((r=se().props.roles)!=null&&r.find(o=>o==="Admin"))});const ze=Y(()=>{var r;return!!((r=se().props.roles)!=null&&r.find(o=>o==="Manager"))}),Ke=Y(()=>{var r;return!!((r=se().props.roles)!=null&&r.find(o=>o==="Viewer"))}),E=Y(()=>ze.value||Ke.value),M=()=>{window.history.back()};return(r,o)=>(u(),re(He,{class:"container",padding:""},{default:w(()=>[s("div",ml,[s("div",null,[o[31]||(o[31]=s("div",{class:"stitle"},"Edit Employee",-1)),a(Ye,{class:"text-dark"},{default:w(()=>[a(oe,{class:"cursor-pointer",icon:"dashboard",label:"Dashboard",onClick:o[0]||(o[0]=m=>r.$inertia.get(r.route("dashboard")))}),a(oe,{class:"cursor-pointer",label:"All Employees",onClick:o[1]||(o[1]=m=>r.$inertia.get(E.value?r.route("employees.manager.all"):r.route("employees.all")))}),a(oe,{class:"cursor-pointer",label:"Go Back",onClick:M})]),_:1})])]),o[55]||(o[55]=s("br",null,null,-1)),a(tl,{onSubmit:el(Le,["prevent"]),class:"bg-white q-pa-md"},{default:w(()=>[a(rl,{modelValue:f.value,"onUpdate:modelValue":o[30]||(o[30]=m=>f.value=m),ref:"stepper",animated:"",color:"secondary"},{default:w(()=>[a(X,{name:"1",title:"Personal Info",icon:"person",done:f.value>1},{default:w(()=>{var m,v,i,V,b,q,h,P,D,N,I,R,B,A,F,T,j,W,$,O,G,J,L,z,n,Se,Me,De,Ne,Ie;return[s("div",ul,[s("div",cl,[s("div",pl,[a(Re,{src:Q.value,alt:"Profile Photo",style:{width:"120px",height:"120px"},"img-class":"object-cover"},null,8,["src"])]),s("div",gl,[s("div",_l,[a(k,{label:"Upload new Photo",color:"primary",onClick:Te,class:"text-weight-medium",rounded:"",unelevated:""}),a(k,{label:"Reset",color:"grey-4","text-color":"dark",onClick:We,class:"text-weight-medium",rounded:"",unelevated:""})]),o[32]||(o[32]=s("p",{class:"text-subtitle2 text-grey-7"}," Allowed JPG, GIF or PNG. Max size of 800K ",-1))])]),s("input",{ref_key:"fileInput",ref:Z,type:"file",accept:"image/*",class:"hidden",onChange:je},null,544)]),E.value?(u(),c("div",fl,[s("div",vl,[a(g,{modelValue:l(e).name,"onUpdate:modelValue":o[2]||(o[2]=t=>l(e).name=t),label:"Name",disable:"",outlined:"",dense:"",error:!!((m=l(e).errors)!=null&&m.name),"error-message":(v=l(e).errors)==null?void 0:v.name,rules:[t=>!!t||"Name is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",yl,[a(g,{modelValue:l(e).email,"onUpdate:modelValue":o[3]||(o[3]=t=>l(e).email=t),label:"Email",type:"email",outlined:"",dense:"",error:!!((i=l(e).errors)!=null&&i.email),"error-message":(V=l(e).errors)==null?void 0:V.email},null,8,["modelValue","error","error-message"])]),s("div",bl,[a(g,{modelValue:l(e).mobile,"onUpdate:modelValue":o[4]||(o[4]=t=>l(e).mobile=t),label:"Mobile",mask:"##########",outlined:"",dense:"",error:!!((b=l(e).errors)!=null&&b.mobile),"error-message":(q=l(e).errors)==null?void 0:q.mobile,rules:[t=>!!t||"Mobile is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",kl,[a(g,{modelValue:l(e).address,"onUpdate:modelValue":o[5]||(o[5]=t=>l(e).address=t),label:"Address",outlined:"",dense:"",error:!!((h=l(e).errors)!=null&&h.address),"error-message":(P=l(e).errors)==null?void 0:P.address,rules:[t=>!!t||"Address is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Vl,[a(g,{modelValue:l(e).name_of_workplace,"onUpdate:modelValue":o[6]||(o[6]=t=>l(e).name_of_workplace=t),label:"Workplace",outlined:"",dense:"",error:!!((D=l(e).errors)!=null&&D.name_of_workplace),"error-message":(N=l(e).errors)==null?void 0:N.name_of_workplace,rules:[t=>!!t||"Workplace is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",ql,[a(g,{modelValue:l(e).technical_qln,"onUpdate:modelValue":o[7]||(o[7]=t=>l(e).technical_qln=t),label:"Technical Qualification",outlined:"",dense:"",error:!!((I=l(e).errors)!=null&&I.technical_qln),"error-message":(R=l(e).errors)==null?void 0:R.technical_qln,rules:[t=>!!t||"Technical Qualification is required"]},null,8,["modelValue","error","error-message","rules"])]),l(e).employment_type==="MR"?(u(),c("div",wl,[a(g,{modelValue:l(e).post_assigned,"onUpdate:modelValue":o[8]||(o[8]=t=>l(e).post_assigned=t),label:"Post/Work Assigned",outlined:"",dense:"",error:!!((B=l(e).errors)!=null&&B.post_assigned),"error-message":(A=l(e).errors)==null?void 0:A.post_assigned,rules:[t=>!!t||"Post/Work Assigned is required"]},null,8,["modelValue","error","error-message","rules"])])):p("",!0)])):p("",!0),E.value?p("",!0):(u(),c("div",hl,[s("div",Ul,[a(g,{modelValue:l(e).name,"onUpdate:modelValue":o[9]||(o[9]=t=>l(e).name=t),label:"Name",outlined:"",dense:"",error:!!((F=l(e).errors)!=null&&F.name),"error-message":(T=l(e).errors)==null?void 0:T.name,rules:[t=>!!t||"Name is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",El,[a(g,{modelValue:l(e).email,"onUpdate:modelValue":o[10]||(o[10]=t=>l(e).email=t),label:"Email",type:"email",outlined:"",dense:"",error:!!((j=l(e).errors)!=null&&j.email),"error-message":(W=l(e).errors)==null?void 0:W.email},null,8,["modelValue","error","error-message"])]),s("div",Pl,[a(g,{modelValue:l(e).mobile,"onUpdate:modelValue":o[11]||(o[11]=t=>l(e).mobile=t),label:"Mobile",mask:"##########",outlined:"",dense:"",error:!!(($=l(e).errors)!=null&&$.mobile),"error-message":(O=l(e).errors)==null?void 0:O.mobile,rules:[t=>!!t||"Mobile is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Cl,[a(g,{modelValue:l(e).parent_name,"onUpdate:modelValue":o[12]||(o[12]=t=>l(e).parent_name=t),label:"Parent Name",outlined:"",dense:"",error:!!((G=l(e).errors)!=null&&G.parent_name),"error-message":(J=l(e).errors)==null?void 0:J.parent_name,rules:[t=>!!t||"Parent Name is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",xl,[a(g,{modelValue:l(e).date_of_birth,"onUpdate:modelValue":o[13]||(o[13]=t=>l(e).date_of_birth=t),label:"Date of Birth",type:"date",outlined:"",dense:"",error:!!((L=l(e).errors)!=null&&L.date_of_birth),"error-message":(z=l(e).errors)==null?void 0:z.date_of_birth,rules:[t=>!!t||"Date of Birth is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Ql,[a(g,{modelValue:l(e).address,"onUpdate:modelValue":o[14]||(o[14]=t=>l(e).address=t),label:"Address",outlined:"",dense:"",error:!!((n=l(e).errors)!=null&&n.address),"error-message":(Se=l(e).errors)==null?void 0:Se.address,rules:[t=>!!t||"Address is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Sl,[a(x,{modelValue:l(e).educational_qln,"onUpdate:modelValue":o[15]||(o[15]=t=>l(e).educational_qln=t),options:l(Fe),label:"Educational Qualification *",outlined:"",dense:"","emit-value":"","map-options":"",error:!!((Me=l(e).errors)!=null&&Me.educational_qln),"error-message":(De=l(e).errors)==null?void 0:De.educational_qln,rules:[t=>!!t||"Education Qualification is required"]},null,8,["modelValue","options","error","error-message","rules"])]),s("div",Ml,[a(g,{modelValue:l(e).technical_qln,"onUpdate:modelValue":o[16]||(o[16]=t=>l(e).technical_qln=t),label:"Technical Qualification",outlined:"",dense:"",error:!!((Ne=l(e).errors)!=null&&Ne.technical_qln),"error-message":(Ie=l(e).errors)==null?void 0:Ie.technical_qln,rules:[t=>!!t||"Technical Qualification is required"]},null,8,["modelValue","error","error-message","rules"])])])),a(H,null,{default:w(()=>[a(k,{flat:"",color:"negative",label:"Cancel",class:"q-ml-sm",onClick:M}),a(k,{color:"primary",label:"Next",onClick:ee})]),_:1})]}),_:1},8,["done"]),E.value?p("",!0):(u(),re(X,{key:0,name:"2",title:"Job Info",icon:"work",done:f.value>2},{default:w(()=>{var m,v,i,V,b,q,h,P,D,N,I,R,B,A,F,T,j,W,$,O,G,J,L,z;return[s("div",Dl,[s("div",Nl,[a(x,{modelValue:l(e).employment_type,"onUpdate:modelValue":o[17]||(o[17]=n=>l(e).employment_type=n),label:"Employment Type *",options:Je,"emit-value":"","map-options":"",outlined:"",dense:"",error:!!((m=l(e).errors)!=null&&m.employment_type),"error-message":(v=l(e).errors)==null?void 0:v.employment_type,rules:[n=>!!n||"Employment Type is required"]},null,8,["modelValue","error","error-message","rules"])]),l(e).employment_type==="PE"?(u(),c("div",Il,[a(g,{modelValue:l(e).designation,"onUpdate:modelValue":o[18]||(o[18]=n=>l(e).designation=n),label:"Designation *",outlined:"",dense:"",error:!!((i=l(e).errors)!=null&&i.designation),"error-message":(V=l(e).errors)==null?void 0:V.designation,rules:[n=>!!n||"Designation is required"]},null,8,["modelValue","error","error-message","rules"])])):p("",!0),l(e).employment_type==="MR"?(u(),c("div",Rl,[a(g,{modelValue:l(e).post_assigned,"onUpdate:modelValue":o[19]||(o[19]=n=>l(e).post_assigned=n),label:"Post/Work Assigned *",type:"text",outlined:"",dense:"",error:!!((b=l(e).errors)!=null&&b.post_assigned),"error-message":(q=l(e).errors)==null?void 0:q.post_assigned,rules:[n=>!!n||"Post/Work Assigned is required"]},null,8,["modelValue","error","error-message","rules"])])):p("",!0),s("div",Bl,[a(x,{modelValue:l(e).office,"onUpdate:modelValue":o[20]||(o[20]=n=>l(e).office=n),label:"Office *",options:C.offices,"option-label":"name","option-value":"id","emit-value":"","map-options":"",outlined:"",dense:"",error:!!((h=l(e).errors)!=null&&h.office),"error-message":(P=l(e).errors)==null?void 0:P.office,rules:[n=>!!n||"Office is required"]},null,8,["modelValue","options","error","error-message","rules"])]),l(e).employment_type==="PE"?(u(),c("div",Al,[a(g,{modelValue:l(e).engagement_card_no,"onUpdate:modelValue":o[21]||(o[21]=n=>l(e).engagement_card_no=n),label:"Engagement Card No.",type:"text",outlined:"",dense:"",error:!!((D=l(e).errors)!=null&&D.engagement_card_no),"error-message":(N=l(e).errors)==null?void 0:N.engagement_card_no,rules:[n=>!!n||"Engagement Card No. is required"]},null,8,["modelValue","error","error-message","rules"])])):p("",!0),l(e).employment_type==="PE"?(u(),c("div",Fl,[a(g,{modelValue:l(e).date_of_engagement,"onUpdate:modelValue":o[22]||(o[22]=n=>l(e).date_of_engagement=n),label:"Date of Initial Engagement",type:"date",outlined:"",dense:"",error:!!((I=l(e).errors)!=null&&I.date_of_engagement),"error-message":(R=l(e).errors)==null?void 0:R.date_of_engagement,rules:[n=>!!n||"Date of Initial Engagement is required"]},null,8,["modelValue","error","error-message","rules"])])):p("",!0),l(e).employment_type==="MR"?(u(),c("div",Tl,[a(g,{modelValue:l(e).date_of_engagement,"onUpdate:modelValue":o[23]||(o[23]=n=>l(e).date_of_engagement=n),label:"Date of Initial Engagement *",type:"date",outlined:"",dense:"",error:!!((B=l(e).errors)!=null&&B.date_of_engagement),"error-message":(A=l(e).errors)==null?void 0:A.date_of_engagement,rules:[n=>!!n||"Date of Initial Engagement is required"]},null,8,["modelValue","error","error-message","rules"])])):p("",!0),l(e).employment_type==="MR"?(u(),c("div",jl,[a(x,{modelValue:l(e).skill_category,"onUpdate:modelValue":o[24]||(o[24]=n=>l(e).skill_category=n),label:"Skill Category at Initial Engagement *",options:l(te),"emit-value":"","map-options":"",outlined:"",dense:"",error:!!((F=l(e).errors)!=null&&F.skill_category),"error-message":(T=l(e).errors)==null?void 0:T.skill_category,rules:[n=>!!n||"Skill Category is required"]},null,8,["modelValue","options","error","error-message","rules"])])):p("",!0),l(e).employment_type==="MR"?(u(),c("div",Wl,[a(x,{modelValue:l(e).skill_at_present,"onUpdate:modelValue":o[25]||(o[25]=n=>l(e).skill_at_present=n),label:"Skill at Present *",options:l(te),"emit-value":"","map-options":"",outlined:"",dense:"",error:!!((j=l(e).errors)!=null&&j.skill_at_present),"error-message":(W=l(e).errors)==null?void 0:W.skill_at_present,rules:[n=>!!n||"Skill at Present is required"]},null,8,["modelValue","options","error","error-message","rules"])])):p("",!0),s("div",$l,[a(g,{modelValue:l(e).name_of_workplace,"onUpdate:modelValue":o[26]||(o[26]=n=>l(e).name_of_workplace=n),label:"Workplace",outlined:"",dense:"",error:!!(($=l(e).errors)!=null&&$.name_of_workplace),"error-message":(O=l(e).errors)==null?void 0:O.name_of_workplace},null,8,["modelValue","error","error-message"])]),l(e).employment_type==="MR"?(u(),c("div",Ol,[a(g,{modelValue:l(e).post_per_qualification,"onUpdate:modelValue":o[27]||(o[27]=n=>l(e).post_per_qualification=n),label:"Post Selected",outlined:"",dense:"",error:!!((G=l(e).errors)!=null&&G.post_per_qualification),"error-message":(J=l(e).errors)==null?void 0:J.post_per_qualification,rules:[n=>!!n||"Post per Qualification is required"]},null,8,["modelValue","error","error-message","rules"])])):p("",!0),l(e).employment_type==="MR"?(u(),c("div",Gl,[a(x,{modelValue:S.value,"onUpdate:modelValue":o[28]||(o[28]=n=>S.value=n),options:[{label:"Yes",value:!0},{label:"No",value:!1}],label:"Does Employee belong to a Scheme? *",outlined:"",dense:"","emit-value":"","map-options":""},null,8,["modelValue"])])):p("",!0),S.value?(u(),c("div",Jl,[s("div",Ll,[a(x,{modelValue:l(e).scheme,"onUpdate:modelValue":o[29]||(o[29]=n=>l(e).scheme=n),label:"Scheme *",options:C.schemes,"option-label":"name","option-value":"id","emit-value":"","map-options":"",outlined:"",dense:"",error:!!((L=l(e).errors)!=null&&L.scheme),"error-message":(z=l(e).errors)==null?void 0:z.scheme,rules:[n=>!!n||"Scheme is required"]},null,8,["modelValue","options","error","error-message","rules"])])])):p("",!0)]),a(H,null,{default:w(()=>[a(k,{flat:"",color:"negative",label:"Cancel",class:"q-ml-sm",onClick:M}),a(k,{flat:"",color:"primary",label:"Back",onClick:le,class:"q-ml-sm"}),a(k,{color:"primary",label:"Next",onClick:ee})]),_:1})]}),_:1},8,["done"])),E.value?p("",!0):(u(),re(X,{key:1,name:"3",title:"Upload Documents",icon:"cloud_upload",done:f.value>3},{default:w(()=>[s("div",zl,[(u(!0),c(Be,null,Ae(C.documentTypes,(m,v)=>{var i,V;return u(),c("div",{class:"col-12 col-sm-6",key:m.id},[s("div",Kl,_(m.name),1),a(al,{filled:"","model-value":((i=l(e).documents[m.id])==null?void 0:i.file)||null,"onUpdate:modelValue":b=>$e(m.id,b),label:"Upload File",accept:".pdf,.jpg,.jpeg,.png",clearable:"",class:"full-width"},ll({_:2},[(V=l(e).documents[m.id])!=null&&V.url?{name:"append",fn:w(()=>[a(k,{round:"",dense:"",flat:"",icon:"visibility",onClick:b=>Oe(l(e).documents[m.id].url),class:"q-ml-sm"},null,8,["onClick"])]),key:"0"}:void 0]),1032,["model-value","onUpdate:modelValue"])])}),128))]),a(H,null,{default:w(()=>[a(k,{flat:"",color:"negative",label:"Cancel",class:"q-ml-sm",onClick:M}),a(k,{flat:"",color:"primary",label:"Back",onClick:le,class:"q-ml-sm"}),a(k,{color:"primary",label:"Next",onClick:ee})]),_:1})]),_:1},8,["done"])),a(X,{name:"4",title:"Preview Information",icon:"visibility",done:f.value>4},{default:w(()=>{var m,v;return[s("div",Yl,[a(Re,{src:Q.value||ae,alt:"Profile Photo",style:{width:"120px",height:"120px"},"img-class":"object-cover"},null,8,["src"])]),o[52]||(o[52]=s("div",{class:"q-mb-md text-h6"},"Personal Info",-1)),s("div",Hl,[s("div",Xl,[o[33]||(o[33]=s("strong",null,"Name:",-1)),y(" "+_(l(e).name),1)]),s("div",Zl,[o[34]||(o[34]=s("strong",null,"Email:",-1)),y(" "+_(l(e).email),1)]),s("div",eo,[o[35]||(o[35]=s("strong",null,"Mobile:",-1)),y(" "+_(l(e).mobile),1)]),s("div",lo,[o[36]||(o[36]=s("strong",null,"Parent Name:",-1)),y(" "+_(l(e).parent_name),1)]),s("div",oo,[o[37]||(o[37]=s("strong",null,"Date of Birth:",-1)),y(" "+_(l(ne)(l(e).date_of_birth)),1)]),s("div",so,[o[38]||(o[38]=s("strong",null,"Education:",-1)),y(" "+_(l(e).educational_qln),1)]),s("div",ro,[o[39]||(o[39]=s("strong",null,"Technical Qualification:",-1)),y(" "+_(l(e).technical_qln),1)])]),o[53]||(o[53]=s("div",{class:"q-mb-md text-h6"},"Job Info",-1)),s("div",ao,[s("div",to,[o[40]||(o[40]=s("strong",null,"Employment Type:",-1)),y(" "+_(l(e).employment_type),1)]),s("div",no,[o[41]||(o[41]=s("strong",null,"Office:",-1)),y(" "+_(((m=C.offices.find(i=>i.id===l(e).office))==null?void 0:m.name)||"â€”"),1)]),l(e).employment_type==="PE"?(u(),c("div",io,[o[42]||(o[42]=s("strong",null,"Designation:",-1)),y(" "+_(l(e).designation),1)])):p("",!0),l(e).employment_type==="MR"?(u(),c("div",mo,[o[43]||(o[43]=s("strong",null,"Post/Work Assigned :",-1)),y(" "+_(l(e).post_assigned),1)])):p("",!0),l(e).employment_type==="PE"?(u(),c("div",uo,[o[44]||(o[44]=s("strong",null,"Engagement Card No. :",-1)),y(" "+_(l(e).engagement_card_no),1)])):p("",!0),s("div",co,[o[45]||(o[45]=s("strong",null,"Date of Initial Engagement:",-1)),y(" "+_(l(ne)(l(e).date_of_engagement)),1)]),l(e).employment_type==="MR"?(u(),c("div",po,[o[46]||(o[46]=s("strong",null,"Skill Category at Initial Engagement:",-1)),y(" "+_(l(e).skill_category),1)])):p("",!0),l(e).employment_type==="MR"?(u(),c("div",go,[o[47]||(o[47]=s("strong",null,"Skill at Present:",-1)),y(" "+_(l(e).skill_at_present),1)])):p("",!0),l(e).employment_type==="MR"?(u(),c("div",_o,[o[48]||(o[48]=s("strong",null,"Post Selected:",-1)),y(" "+_(l(e).post_per_qualification),1)])):p("",!0),s("div",fo,[o[49]||(o[49]=s("strong",null,"Workplace:",-1)),y(" "+_(l(e).name_of_workplace),1)]),S.value?(u(),c("div",vo,[o[50]||(o[50]=s("strong",null,"Scheme:",-1)),y(_(((v=((d==null?void 0:d.schemes)||C.schemes).find(i=>String(i.id)===String(l(e).scheme)))==null?void 0:v.name)||""),1)])):p("",!0)]),o[54]||(o[54]=s("div",{class:"q-mb-md text-h6"},"Uploaded Documents",-1)),s("div",yo,[(u(!0),c(Be,null,Ae(C.documentTypes,(i,V)=>{var b,q,h,P;return u(),c("div",{class:"col-12 col-sm-6",key:i.id},[s("div",bo,[s("div",ko,[s("strong",null,_(i.name),1)]),(b=l(e).documents[i.id])!=null&&b.file||(q=l(e).documents[i.id])!=null&&q.url?(u(),c("div",Vo,[s("a",{href:Ge(((h=l(e).documents[i.id])==null?void 0:h.file)||((P=l(e).documents[i.id])==null?void 0:P.url)),target:"_blank",class:"text-primary text-weight-medium"},[a(ol,{name:"visibility",class:"q-mr-xs"}),o[51]||(o[51]=y(" View File "))],8,qo)])):(u(),c("div",wo,"No document uploaded"))])])}),128))]),a(H,null,{default:w(()=>[a(k,{flat:"",color:"negative",label:"Cancel",class:"q-ml-sm",onClick:M}),a(k,{flat:"",color:"primary",label:"Back",onClick:le,class:"q-ml-sm"}),a(k,{type:"submit",color:"btn-primary",label:"Submit"})]),_:1})]}),_:1,__:[52,53,54]},8,["done"])]),_:1},8,["modelValue"])]),_:1})]),_:1,__:[55]}))}});export{To as default};
