import{Q as Nt,a as ut}from"./QBreadcrumbs-zKZhvDWf.js";import{b as zt,a as Qt,Q as Ft}from"./QLayout-BLF1M3I_.js";import{J as ht,K as Be,L as _t,M as Qe,r as Q,D as P,j as ze,i as xt,N as ye,R as It,k as j,z as Re,O as Mt,P as Ht,S as tt,T as lt,H as Le,U as Ie,V as Xe,h as re,X as wt,Y as Wt,Z as Kt,I as Ue,x as pe,d as R,o as g,f as t,w as n,q as U,b as o,c as D,e as B,m as $,Q as te,F as Y,n as oe,t as k,l as ke,p as H,_ as ge,B as h,$ as ue,u as x,a0 as qe,a1 as Yt,a2 as Jt,a3 as Ye,a4 as Gt,a5 as Xt,a6 as Zt,a7 as el,a8 as dt,a9 as ct,aa as tl,ab as ll,W as Ze,ac as kt,ad as al,ae as Ct,af as qt,ag as nl,A as $t,G as ol,ah as sl,ai as ft,aj as il,ak as rl,al as ul,am as dl,E as mt,v as cl}from"./app-CADzKiXL.js";import{C as Ce,v as fl,b as gt,u as ml,p as vt,c as gl,d as vl,e as pl,r as pt,s as bl,Q as at,a as M,f as S,g as yl,_ as hl,h as _l}from"./BackendLayout-B6812H8N.js";import{r as xl,Q as Me}from"./QSelect-CHpCl5N6.js";import{Q as wl,u as kl,a as Cl,b as ql}from"./use-fullscreen-bIl4GHUC.js";import{Q as Ae}from"./QFile-C-0msOaj.js";import{u as he}from"./use-quasar-DmMgDEfi.js";import{u as Ee}from"./useUtils-D4FVGMUa.js";import{_ as Tt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as bt}from"./touch-BysFwVru.js";import{Q as St}from"./QForm-B9JofG3r.js";import"./date-BQYzVqbE.js";let $l=0;const Tl=["click","keydown"],Sl={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${$l++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Dl(e,l,a,u){const r=ht(_t,Be);if(r===Be)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Be;const{proxy:c}=Qe(),f=Q(null),_=Q(null),d=Q(null),s=P(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),i=P(()=>r.currentModel.value===e.name),m=P(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(i.value===!0?" q-tab--active"+(r.tabProps.value.activeClass?" "+r.tabProps.value.activeClass:"")+(r.tabProps.value.activeColor?` text-${r.tabProps.value.activeColor}`:"")+(r.tabProps.value.activeBgColor?` bg-${r.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&r.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||r.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),q=P(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(r.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),E=P(()=>e.disable===!0||r.hasFocus.value===!0||i.value===!1&&r.hasActiveTab.value===!0?-1:e.tabindex||0);function T(L,J){var N;if(J!==!0&&(L==null?void 0:L.qAvoidFocus)!==!0&&((N=f.value)==null||N.focus()),e.disable!==!0){r.updateModel({name:e.name}),a("click",L);return}}function y(L){Ht(L,[13,32])?T(L,!0):tt(L)!==!0&&L.keyCode>=35&&L.keyCode<=40&&L.altKey!==!0&&L.metaKey!==!0&&r.onKbdNavigate(L.keyCode,c.$el)===!0&&lt(L),a("keydown",L)}function v(){const L=r.tabProps.value.narrowIndicator,J=[],N=j("div",{ref:d,class:["q-tab__indicator",r.tabProps.value.indicatorClass]});e.icon!==void 0&&J.push(j(Re,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&J.push(j("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&J.push(e.alertIcon!==void 0?j(Re,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):j("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),L===!0&&J.push(N);const ae=[j("div",{class:"q-focus-helper",tabindex:-1,ref:f}),j("div",{class:q.value},Mt(l.default,J))];return L===!1&&ae.push(N),ae}const p={name:P(()=>e.name),rootRef:_,tabIndicatorRef:d,routeData:u};ze(()=>{r.unregisterTab(p)}),xt(()=>{r.registerTab(p)});function A(L,J){const N={ref:_,class:m.value,tabindex:E.value,role:"tab","aria-selected":i.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:T,onKeydown:y,...J};return ye(j(L,N,v()),[[It,s.value]])}return{renderTab:A,$tabs:r}}const je=Le({name:"QTab",props:Sl,emits:Tl,setup(e,{slots:l,emit:a}){const{renderTab:u}=Dl(e,l,a);return()=>u("div")}});function Rl(e,l,a){const u=a===!0?["left","right"]:["top","bottom"];return`absolute-${l===!0?u[0]:u[1]}${e?` text-${e}`:""}`}const El=["left","center","right","justify"],Vl=Le({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>El.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:l,emit:a}){const{proxy:u}=Qe(),{$q:r}=u,{registerTick:c}=Ie(),{registerTick:f}=Ie(),{registerTick:_}=Ie(),{registerTimeout:d,removeTimeout:s}=Xe(),{registerTimeout:i,removeTimeout:m}=Xe(),q=Q(null),E=Q(null),T=Q(e.modelValue),y=Q(!1),v=Q(!0),p=Q(!1),A=Q(!1),L=[],J=Q(0),N=Q(!1);let ae=null,ne=null,G;const ie=P(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Rl(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),_e=P(()=>{const C=J.value,O=T.value;for(let z=0;z<C;z++)if(L[z].name.value===O)return!0;return!1}),xe=P(()=>`q-tabs__content--align-${y.value===!0?"left":A.value===!0?"justify":e.align}`),$e=P(()=>`q-tabs row no-wrap items-center q-tabs--${y.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),Te=P(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+xe.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),V=P(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),se=P(()=>e.vertical!==!0&&r.lang.rtl===!0),ve=P(()=>xl===!1&&se.value===!0);re(se,ce),re(()=>e.modelValue,C=>{Ve({name:C,setCurrent:!0,skipEmit:!0})}),re(()=>e.outsideArrows,Se);function Ve({name:C,setCurrent:O,skipEmit:z}){T.value!==C&&(z!==!0&&e["onUpdate:modelValue"]!==void 0&&a("update:modelValue",C),(O===!0||e["onUpdate:modelValue"]===void 0)&&(Pe(T.value,C),T.value=C))}function Se(){c(()=>{q.value&&Oe({width:q.value.offsetWidth,height:q.value.offsetHeight})})}function Oe(C){if(V.value===void 0||E.value===null)return;const O=C[V.value.container],z=Math.min(E.value[V.value.scroll],Array.prototype.reduce.call(E.value.children,(Z,W)=>Z+(W[V.value.content]||0),0)),X=O>0&&z>O;y.value=X,X===!0&&f(ce),A.value=O<parseInt(e.breakpoint,10)}function Pe(C,O){const z=C!=null&&C!==""?L.find(Z=>Z.name.value===C):null,X=O!=null&&O!==""?L.find(Z=>Z.name.value===O):null;if(Fe===!0)Fe=!1;else if(z&&X){const Z=z.tabIndicatorRef.value,W=X.tabIndicatorRef.value;ae!==null&&(clearTimeout(ae),ae=null),Z.style.transition="none",Z.style.transform="none",W.style.transition="none",W.style.transform="none";const I=Z.getBoundingClientRect(),le=W.getBoundingClientRect();W.style.transform=e.vertical===!0?`translate3d(0,${I.top-le.top}px,0) scale3d(1,${le.height?I.height/le.height:1},1)`:`translate3d(${I.left-le.left}px,0,0) scale3d(${le.width?I.width/le.width:1},1,1)`,_(()=>{ae=setTimeout(()=>{ae=null,W.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",W.style.transform="none"},70)})}X&&y.value===!0&&de(X.rootRef.value)}function de(C){const{left:O,width:z,top:X,height:Z}=E.value.getBoundingClientRect(),W=C.getBoundingClientRect();let I=e.vertical===!0?W.top-X:W.left-O;if(I<0){E.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(I),ce();return}I+=e.vertical===!0?W.height-Z:W.width-z,I>0&&(E.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(I),ce())}function ce(){const C=E.value;if(C===null)return;const O=C.getBoundingClientRect(),z=e.vertical===!0?C.scrollTop:Math.abs(C.scrollLeft);se.value===!0?(v.value=Math.ceil(z+O.width)<C.scrollWidth-1,p.value=z>0):(v.value=z>0,p.value=e.vertical===!0?Math.ceil(z+O.height)<C.scrollHeight:Math.ceil(z+O.width)<C.scrollWidth)}function K(C){ne!==null&&clearInterval(ne),ne=setInterval(()=>{ee(C)===!0&&b()},5)}function be(){K(ve.value===!0?Number.MAX_SAFE_INTEGER:0)}function fe(){K(ve.value===!0?0:Number.MAX_SAFE_INTEGER)}function b(){ne!==null&&(clearInterval(ne),ne=null)}function w(C,O){const z=Array.prototype.filter.call(E.value.children,le=>le===O||le.matches&&le.matches(".q-tab.q-focusable")===!0),X=z.length;if(X===0)return;if(C===36)return de(z[0]),z[0].focus(),!0;if(C===35)return de(z[X-1]),z[X-1].focus(),!0;const Z=C===(e.vertical===!0?38:37),W=C===(e.vertical===!0?40:39),I=Z===!0?-1:W===!0?1:void 0;if(I!==void 0){const le=se.value===!0?-1:1,we=z.indexOf(O)+I*le;return we>=0&&we<X&&(de(z[we]),z[we].focus({preventScroll:!0})),!0}}const F=P(()=>ve.value===!0?{get:C=>Math.abs(C.scrollLeft),set:(C,O)=>{C.scrollLeft=-O}}:e.vertical===!0?{get:C=>C.scrollTop,set:(C,O)=>{C.scrollTop=O}}:{get:C=>C.scrollLeft,set:(C,O)=>{C.scrollLeft=O}});function ee(C){const O=E.value,{get:z,set:X}=F.value;let Z=!1,W=z(O);const I=C<W?-1:1;return W+=I*5,W<0?(Z=!0,W=0):(I===-1&&W<=C||I===1&&W>=C)&&(Z=!0,W=C),X(O,W),ce(),Z}function me(C,O){for(const z in C)if(C[z]!==O[z])return!1;return!0}function He(){let C=null,O={matchedLen:0,queryDiff:9999,hrefLen:0};const z=L.filter(I=>{var le;return((le=I.routeData)==null?void 0:le.hasRouterLink.value)===!0}),{hash:X,query:Z}=u.$route,W=Object.keys(Z).length;for(const I of z){const le=I.routeData.exact.value===!0;if(I.routeData[le===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:we,query:We,matched:Bt,href:Ut}=I.routeData.resolvedLink.value,Ke=Object.keys(We).length;if(le===!0){if(we!==X||Ke!==W||me(Z,We)===!1)continue;C=I.name.value;break}if(we!==""&&we!==X||Ke!==0&&me(We,Z)===!1)continue;const De={matchedLen:Bt.length,queryDiff:W-Ke,hrefLen:Ut.length-we.length};if(De.matchedLen>O.matchedLen){C=I.name.value,O=De;continue}else if(De.matchedLen!==O.matchedLen)continue;if(De.queryDiff<O.queryDiff)C=I.name.value,O=De;else if(De.queryDiff!==O.queryDiff)continue;De.hrefLen>O.hrefLen&&(C=I.name.value,O=De)}if(C===null&&L.some(I=>I.routeData===void 0&&I.name.value===T.value)===!0){Fe=!1;return}Ve({name:C,setCurrent:!0})}function Pt(C){if(s(),N.value!==!0&&q.value!==null&&C.target&&typeof C.target.closest=="function"){const O=C.target.closest(".q-tab");O&&q.value.contains(O)===!0&&(N.value=!0,y.value===!0&&de(O))}}function jt(){d(()=>{N.value=!1},30)}function Ne(){st.avoidRouteWatcher===!1?i(He):m()}function ot(){if(G===void 0){const C=re(()=>u.$route.fullPath,Ne);G=()=>{C(),G=void 0}}}function Lt(C){L.push(C),J.value++,Se(),C.routeData===void 0||u.$route===void 0?i(()=>{if(y.value===!0){const O=T.value,z=O!=null&&O!==""?L.find(X=>X.name.value===O):null;z&&de(z.rootRef.value)}}):(ot(),C.routeData.hasRouterLink.value===!0&&Ne())}function At(C){L.splice(L.indexOf(C),1),J.value--,Se(),G!==void 0&&C.routeData!==void 0&&(L.every(O=>O.routeData===void 0)===!0&&G(),Ne())}const st={currentModel:T,tabProps:ie,hasFocus:N,hasActiveTab:_e,registerTab:Lt,unregisterTab:At,verifyRouteModel:Ne,updateModel:Ve,onKbdNavigate:w,avoidRouteWatcher:!1};wt(_t,st);function it(){ae!==null&&clearTimeout(ae),b(),G==null||G()}let rt,Fe;return ze(it),Wt(()=>{rt=G!==void 0,it()}),Kt(()=>{rt===!0&&(ot(),Fe=!0,Ne()),Se()}),()=>j("div",{ref:q,class:$e.value,role:"tablist",onFocusin:Pt,onFocusout:jt},[j(zt,{onResize:Oe}),j("div",{ref:E,class:Te.value,onScroll:ce},Ue(l.default)),j(Re,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(v.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||r.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:be,onTouchstartPassive:be,onMouseupPassive:b,onMouseleavePassive:b,onTouchendPassive:b}),j(Re,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(p.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||r.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:fe,onTouchstartPassive:fe,onMouseupPassive:b,onMouseleavePassive:b,onTouchendPassive:b})])}}),Ol={key:0},Pl={key:1},jl={class:"row q-col-gutter-md q-mt-sm"},Ll={class:"q-pa-sm"},Al={class:"q-pa-sm"},Bl={class:"q-pa-sm"},Ul={class:"q-pa-sm"},Nl={key:0},zl={key:0,class:"text-gray-500 text-center py-5 text-base italic"},Ql={key:1,class:"flex flex-col gap-6"},Fl={class:"flex flex-wrap justify-between items-center mb-4"},Il={class:"text-gray-600"},Ml={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4"},Hl={class:"text-gray-500"},Wl={class:"font-semibold mb-1"},Kl={__name:"Document",props:["data","office","documentTypes","canDeleteDocument","canApproveDocumentEdit","canRequestDocumentEdit"],setup(e){const l=e,a=he(),u=Q(""),r=Q(!1),c=P(()=>{var T;return(T=l.data)!=null&&T.documents?l.data.documents.filter(y=>{var p,A,L;const v=u.value.toLowerCase();return((p=y.name)==null?void 0:p.toLowerCase().includes(v))||((L=(A=y.type)==null?void 0:A.name)==null?void 0:L.toLowerCase().includes(v))}):[]}),f=P(()=>!Object.values(s.files).some(T=>T));function _(T){return new Date(T).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}const d=P(()=>{var T,y;return((y=(T=l.data.document_request)==null?void 0:T.slice(-1)[0])==null?void 0:y.approval_status)==="pending"}),s=pe({files:{}}),i=()=>{s.post(route("document.request",l.data),{onSuccess:()=>{s.reset("files"),r.value=!1,a.notify({type:"positive",message:"Document Request Submitted",position:"bottom"})},onError:T=>{Object.values(T).forEach(y=>{a.notify({type:"negative",message:y,position:"bottom"})})}})},m=T=>{s.post(route("document.approve",T),{onStart:()=>{a.loading.show()},onFinish:()=>{a.loading.hide(),r.value=!1,s.reset(),a.notify({type:"positive",message:"Document Approved",position:"bottom"})},onError:y=>{Object.values(y).forEach(v=>{a.notify({type:"negative",message:v,position:"bottom"})})}})},q=T=>{s.post(route("document.reject",T),{onStart:()=>{a.loading.show()},onFinish:()=>{a.loading.hide(),r.value=!1,s.reset(),a.notify({type:"negative",message:"Transfer Rejected",position:"bottom"})},onError:y=>{Object.values(y).forEach(v=>{a.notify({type:"negative",message:v,position:"bottom"})})}})},E=T=>{var y;a.dialog({title:"Confirm",message:`Are you sure you want to delete "${(y=T.type)==null?void 0:y.name}"?`,cancel:!0,persistent:!0}).onOk(()=>{s.delete(route("document.destroy",T),{preserveScroll:!0,onSuccess:()=>{a.notify({type:"positive",message:"Document deleted successfully."})},onError:v=>{Object.values(v).forEach(p=>{a.notify({type:"negative",message:p,position:"bottom"})})}})})};return(T,y)=>(g(),R(Y,null,[t(H,{class:"q-mt-md"},{default:n(()=>[t(U,{class:"flex items-center justify-between"},{default:n(()=>[y[3]||(y[3]=o("div",{class:"stitle text-lg font-bold"},"Uploaded Documents",-1)),e.canRequestDocumentEdit?(g(),D($,{key:0,label:"Request Document Update",color:"primary",disable:d.value,onClick:y[0]||(y[0]=v=>r.value=!0)},null,8,["disable"])):B("",!0)]),_:1,__:[3]}),t(U,null,{default:n(()=>[c.value.length===0?(g(),R("div",Ol,y[4]||(y[4]=[o("p",{class:"text-gray-500 text-center py-5 text-base italic"},"No documents uploaded",-1)]))):B("",!0),c.value.length>0?(g(),R("div",Pl,[o("div",jl,[t(te,{modelValue:u.value,"onUpdate:modelValue":y[1]||(y[1]=v=>u.value=v),dense:"",outlined:"",label:"Search by document type...",class:"col-12 col-sm-6"},null,8,["modelValue"])]),t(wl,{flat:"",dense:"",class:"q-ma-sm"},{default:n(()=>[y[6]||(y[6]=o("thead",null,[o("tr",{class:"text-left"},[o("th",null,"Type"),o("th",null,"Mime Type"),o("th",null,"Upload Date"),o("th",null,"Actions")])],-1)),o("tbody",null,[(g(!0),R(Y,null,oe(c.value,v=>{var p;return g(),R("tr",{key:v.id,class:"text-left"},[o("td",Ll,k(((p=v.type)==null?void 0:p.name)||"—"),1),o("td",Al,k(v.mime),1),o("td",Bl,k(_(v.upload_date)),1),o("td",Ul,[t($,{icon:"visibility",flat:"",dense:"",color:"primary",round:"",href:`/storage/${v.path}`,target:"_blank",title:"View Document"},null,8,["href"]),t($,{icon:"download",flat:"",dense:"",round:"",color:"primary",href:`/storage/${v.path}`,download:"",title:"Download Document"},null,8,["href"]),e.canDeleteDocument?(g(),D($,{key:0,icon:"delete",flat:"",dense:"",round:"",color:"red",onClick:A=>E(v),download:"",title:"Download Document"},null,8,["onClick"])):B("",!0)])])}),128)),c.value.length===0?(g(),R("tr",Nl,y[5]||(y[5]=[o("td",{colspan:"5",class:"text-center text-grey"},"No documents found",-1)]))):B("",!0)])]),_:1,__:[6]})])):B("",!0)]),_:1}),t(ke),t(U,null,{default:n(()=>[e.data.document_request.length===0?(g(),R("div",zl," No Document update request found. ")):(g(),R("div",Ql,[(g(!0),R(Y,null,oe(e.data.document_request,v=>(g(),D(H,{key:v.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:n(()=>[t(U,null,{default:n(()=>[o("div",Fl,[o("div",null,[y[7]||(y[7]=o("b",{class:"text-gray-600"},"Status:",-1)),o("span",{class:ge(["ml-1 font-medium capitalize",{"text-yellow-600":v.approval_status==="pending","text-green-600":v.approval_status==="approved","text-red-600":v.approval_status==="rejected"}])},k(v.approval_status),3)]),o("div",Il,[y[8]||(y[8]=o("b",null,"Requested On:",-1)),h(" "+k(_(v.request_date)),1)])]),o("div",null,[y[9]||(y[9]=o("b",{class:"block mb-3 text-gray-700"},"Documents",-1)),o("div",Ml,[(g(!0),R(Y,null,oe(v.files,p=>(g(),R("div",{key:p.id,class:"mb-2"},[o("div",Hl,[h(k(p.document_type.name)+": ",1),t($,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${p.path}`,target:"_blank"},null,8,["href"]),t($,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${p.path}`,target:"_blank",download:""},null,8,["href"])])]))),128))])])]),_:2},1024),v.approval_status==="pending"&&e.canApproveDocumentEdit?(g(),D(ue,{key:0,align:"right",class:"px-4 pb-4"},{default:n(()=>[t($,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:p=>m(v.id)},null,8,["onClick"]),t($,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:p=>q(v.id)},null,8,["onClick"])]),_:2},1024)):B("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}),t(qe,{modelValue:r.value,"onUpdate:modelValue":y[2]||(y[2]=v=>r.value=v)},{default:n(()=>[t(H,{style:{"min-width":"600px"}},{default:n(()=>[t(U,null,{default:n(()=>y[10]||(y[10]=[o("div",{class:"text-lg font-bold"},"Request Document Update",-1)])),_:1,__:[10]}),t(U,null,{default:n(()=>[(g(!0),R(Y,null,oe(e.documentTypes,v=>(g(),R("div",{key:v.id,class:"mb-4"},[o("div",Wl,k(v.name),1),t(Ae,{modelValue:x(s).files[v.id],"onUpdate:modelValue":p=>x(s).files[v.id]=p,filled:"",dense:"",label:"Choose file",accept:".pdf,.jpg,.jpeg,.png"},null,8,["modelValue","onUpdate:modelValue"])]))),128))]),_:1}),t(ue,{align:"right"},{default:n(()=>[ye(t($,{flat:"",label:"Cancel",color:"grey"},null,512),[[Ce]]),t($,{label:"Submit Request",color:"primary",loading:x(s).processing,disable:f.value,onClick:i},null,8,["loading","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Yl={key:0,class:"text-gray-500 text-center py-10 text-base italic"},Jl={key:1,class:"flex flex-col gap-6"},Gl={class:"flex flex-wrap justify-between items-center mb-4"},Xl={class:"text-gray-600"},Zl={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4"},ea={class:"text-gray-500"},ta={class:"text-gray-800 font-bold"},la={class:"text-gray-500"},aa={class:"text-gray-800 font-bold"},na={class:"text-gray-500"},oa={__name:"TransferRequest",props:["data","office"],setup(e){const{formatDate:l}=Ee(),a=he(),u=Q(!1),r=pe({}),c=_=>{r.post(route("transfer.approve",_),{onStart:()=>{a.loading.show()},onFinish:()=>{a.loading.hide(),u.value=!1,r.reset(),a.notify({type:"success",message:"Transfer Approved",position:"bottom"})},onError:d=>{Object.values(d).forEach(s=>{a.notify({type:"negative",message:s,position:"bottom"})})}})},f=_=>{r.post(route("transfer.reject",_),{onStart:()=>{a.loading.show()},onFinish:()=>{a.loading.hide(),u.value=!1,r.reset(),a.notify({type:"negative",message:"Transfer Rejected",position:"bottom"})},onError:d=>{Object.values(d).forEach(s=>{a.notify({type:"negative",message:s,position:"bottom"})})}})};return(_,d)=>(g(),D(H,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:n(()=>[t(U,{class:"flex items-center justify-between"},{default:n(()=>d[0]||(d[0]=[o("div",{class:"stitle text-lg font-bold"},"Transfer Request",-1)])),_:1,__:[0]}),t(ke),t(U,null,{default:n(()=>[e.data.transfer_requests.length===0?(g(),R("div",Yl," No transfer requests found. ")):(g(),R("div",Jl,[(g(!0),R(Y,null,oe(e.data.transfer_requests,s=>(g(),D(H,{key:s.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:n(()=>[t(U,null,{default:n(()=>{var i,m;return[o("div",Gl,[o("div",null,[d[1]||(d[1]=o("b",{class:"text-gray-600"},"Status:",-1)),o("span",{class:ge(["ml-1 font-medium capitalize",{"text-yellow-600":s.approval_status==="pending","text-green-600":s.approval_status==="approved","text-red-600":s.approval_status==="rejected"}])},k(s.approval_status),3)]),o("div",Xl,[d[2]||(d[2]=o("b",null,"Requested On:",-1)),h(" "+k(x(l)(s.request_date)),1)])]),o("div",null,[d[6]||(d[6]=o("b",{class:"block mb-3 text-gray-700"},"Transfer Details",-1)),o("div",Zl,[o("div",null,[o("div",ea,[d[3]||(d[3]=h(" Current Office: ")),o("span",ta,k(((i=s.current_office)==null?void 0:i.name)||"—"),1)])]),o("div",null,[o("div",la,[d[4]||(d[4]=h(" Requested Office: ")),o("span",aa,k(((m=s.requested_office)==null?void 0:m.name)||"—"),1)])]),o("div",null,[o("div",na,[d[5]||(d[5]=h(" Transfer Order: ")),t($,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${s.supporting_document}`,target:"_blank"},null,8,["href"]),t($,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${s.supporting_document}`,target:"_blank",download:""},null,8,["href"])])])])])]}),_:2},1024),s.approval_status==="pending"?(g(),D(ue,{key:0,align:"right",class:"px-4 pb-4"},{default:n(()=>[t($,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:i=>c(s.id)},null,8,["onClick"]),t($,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:i=>f(s.id)},null,8,["onClick"])]),_:2},1024)):B("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}))}},sa=Tt(oa,[["__scopeId","data-v-d2818299"]]),et=Le({name:"QTooltip",inheritAttrs:!1,props:{...ml,...Gt,...Ye,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...Ye.transitionShow,default:"jump-down"},transitionHide:{...Ye.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:gt},self:{type:String,default:"top middle",validator:gt},offset:{type:Array,default:()=>[14,14],validator:fl},scrollTarget:Jt,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Yt],setup(e,{slots:l,emit:a,attrs:u}){let r,c;const f=Qe(),{proxy:{$q:_}}=f,d=Q(null),s=Q(!1),i=P(()=>vt(e.anchor,_.lang.rtl)),m=P(()=>vt(e.self,_.lang.rtl)),q=P(()=>e.persistent!==!0),{registerTick:E,removeTick:T}=Ie(),{registerTimeout:y}=Xe(),{transitionProps:v,transitionStyle:p}=Xt(e),{localScrollTarget:A,changeScrollEvent:L,unconfigureScrollTarget:J}=gl(e,Pe),{anchorEl:N,canShow:ae,anchorEvents:ne}=vl({showing:s,configureAnchorEl:Oe}),{show:G,hide:ie}=Zt({showing:s,canShow:ae,handleShow:Te,handleHide:V,hideOnRouteChange:q,processOnMount:!0});Object.assign(ne,{delayShow:Ve,delayHide:Se});const{showPortal:_e,hidePortal:xe,renderPortal:$e}=el(f,d,ce,"tooltip");if(_.platform.is.mobile===!0){const K={anchorEl:N,innerRef:d,onClickOutside(fe){return ie(fe),fe.target.classList.contains("q-dialog__backdrop")&&lt(fe),!0}},be=P(()=>e.modelValue===null&&e.persistent!==!0&&s.value===!0);re(be,fe=>{(fe===!0?pl:pt)(K)}),ze(()=>{pt(K)})}function Te(K){_e(),E(()=>{c=new MutationObserver(()=>ve()),c.observe(d.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),ve(),Pe()}),r===void 0&&(r=re(()=>_.screen.width+"|"+_.screen.height+"|"+e.self+"|"+e.anchor+"|"+_.lang.rtl,ve)),y(()=>{_e(!0),a("show",K)},e.transitionDuration)}function V(K){T(),xe(),se(),y(()=>{xe(!0),a("hide",K)},e.transitionDuration)}function se(){c!==void 0&&(c.disconnect(),c=void 0),r!==void 0&&(r(),r=void 0),J(),dt(ne,"tooltipTemp")}function ve(){bl({targetEl:d.value,offset:e.offset,anchorEl:N.value,anchorOrigin:i.value,selfOrigin:m.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Ve(K){if(_.platform.is.mobile===!0){bt(),document.body.classList.add("non-selectable");const be=N.value,fe=["touchmove","touchcancel","touchend","click"].map(b=>[be,b,"delayHide","passiveCapture"]);ct(ne,"tooltipTemp",fe)}y(()=>{G(K)},e.delay)}function Se(K){_.platform.is.mobile===!0&&(dt(ne,"tooltipTemp"),bt(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),y(()=>{ie(K)},e.hideDelay)}function Oe(){if(e.noParentEvent===!0||N.value===null)return;const K=_.platform.is.mobile===!0?[[N.value,"touchstart","delayShow","passive"]]:[[N.value,"mouseenter","delayShow","passive"],[N.value,"mouseleave","delayHide","passive"]];ct(ne,"anchor",K)}function Pe(){if(N.value!==null||e.scrollTarget!==void 0){A.value=tl(N.value,e.scrollTarget);const K=e.noParentEvent===!0?ve:ie;L(A.value,K)}}function de(){return s.value===!0?j("div",{...u,ref:d,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",u.class],style:[u.style,p.value],role:"tooltip"},Ue(l.default)):null}function ce(){return j(ll,v.value,de)}return ze(se),Object.assign(f.proxy,{updatePosition:ve}),$e}}),ia={key:0,class:"text-gray-500 text-center py-10 text-base italic"},ra={key:1,class:"flex flex-col gap-6"},ua={class:"flex flex-wrap justify-between items-center mb-4"},da={class:""},ca={class:"text-gray-600"},fa={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg"},ma={class:"flex flex-col"},ga={class:"font-bold"},va={class:"text-gray-800"},pa={class:"font-bold"},ba={class:"font-bold"},ya={key:0,class:"mt-6"},ha={class:"space-y-2"},_a={class:"flex items-center space-x-2 text-gray-700"},xa={class:"flex space-x-1"},wa={__name:"EditRequest",props:["data"],setup(e){const{formatDate:l}=Ee(),a=_=>{Ze.post(route("edit.approve",_))},u=_=>{Ze.post(route("edit.reject",_))},r=_=>{try{return JSON.parse(_)}catch{return{}}},c={name:"Name",date_of_birth:"Date of Birth",parent_name:"Parent's Name",employment_type:"Employment Type",designation:"Designation",educational_qln:"Educational Qualification",technical_qln:"Technical Qualification",name_of_workplace:"Workplace Name",post_per_qualification:"Post per Qualification",date_of_engagement:"Date of Engagement",skill_category:"Skill Category",skill_at_present:"Skill at Present"},f=_=>{try{return _?JSON.parse(_):{}}catch{return{}}};return(_,d)=>(g(),D(H,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:n(()=>[t(U,null,{default:n(()=>d[0]||(d[0]=[o("div",{class:"stitle text-lg font-bold"},"Edit Requests",-1)])),_:1,__:[0]}),t(ke),t(U,null,{default:n(()=>[e.data.edit_requests.length===0?(g(),R("div",ia," No edit requests found. ")):(g(),R("div",ra,[(g(!0),R(Y,null,oe(e.data.edit_requests,s=>(g(),D(H,{key:s.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:n(()=>[t(U,null,{default:n(()=>[o("div",ua,[o("div",da,[d[1]||(d[1]=o("b",{class:"text-gray-600"},"Status:",-1)),o("span",{class:ge(["ml-1 font-medium capitalize",{"text-yellow-600":s.approval_status==="pending","text-green-600":s.approval_status==="approved","text-red-600":s.approval_status==="rejected"}])},k(s.approval_status),3)]),o("div",ca,[d[2]||(d[2]=o("b",null,"Requested On:",-1)),h(" "+k(x(l)(s.request_date)),1)])]),o("div",null,[d[5]||(d[5]=o("b",{class:"block mb-3 text-gray-700"},"Requested Changes",-1)),o("div",fa,[(g(!0),R(Y,null,oe(r(s.requested_changes),(i,m)=>(g(),R("div",{key:m},[o("div",ma,[o("span",ga,k(c[m]??m)+": ",1),o("span",va,[d[3]||(d[3]=h(" From: ")),o("span",pa,k(m==="date_of_birth"?x(l)(f(s.previous_data)[m]):f(s.previous_data)[m]||"—"),1),d[4]||(d[4]=h(" To: ")),o("span",ba,k(m==="date_of_birth"||m==="date_of_engagement"?x(l)(i):i),1)])])]))),128))])]),s.attachments&&s.attachments.length>0?(g(),R("div",ya,[d[8]||(d[8]=o("b",{class:"block mb-3 text-gray-700"},"Attached Documents",-1)),o("div",ha,[(g(!0),R(Y,null,oe(s.attachments,i=>{var m;return g(),R("div",{key:i.id,class:"flex items-center justify-between p-3 border rounded-lg bg-gray-50 hover:bg-gray-100 transition"},[o("div",_a,[t(Re,{name:"attach_file",size:"16px",class:"text-gray-500"}),o("span",null,[o("b",null,k(((m=i.type)==null?void 0:m.name)||"Unknown Type"),1)])]),o("div",xa,[t($,{flat:"",dense:"",round:"",color:"primary",icon:"visibility",href:`/storage/${i.path}`,target:"_blank"},{default:n(()=>[t(et,null,{default:n(()=>d[6]||(d[6]=[h("View")])),_:1,__:[6]})]),_:2},1032,["href"]),t($,{flat:"",dense:"",round:"",color:"primary",icon:"download",href:`/storage/${i.path}`,download:""},{default:n(()=>[t(et,null,{default:n(()=>d[7]||(d[7]=[h("Download")])),_:1,__:[7]})]),_:2},1032,["href"])])])}),128))])])):B("",!0)]),_:2},1024),s.approval_status==="pending"?(g(),D(ue,{key:0,align:"right",class:"px-4 pb-4"},{default:n(()=>[t($,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:i=>a(s.id)},null,8,["onClick"]),t($,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:i=>u(s.id)},null,8,["onClick"])]),_:2},1024)):B("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}))}},ka={key:0,class:"text-gray-500 text-center py-10 text-base italic"},Ca={key:1,class:"flex flex-col gap-6"},qa={class:"flex flex-wrap justify-between items-center mb-4"},$a={class:"text-gray-600"},Ta={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg"},Sa={class:"text-gray-500"},Da={class:"text-gray-800 font-bold"},Ra={class:"text-gray-500"},Ea={class:"text-gray-800 font-bold"},Va={class:"text-gray-500"},Oa={class:"text-gray-800 font-bold"},Pa={class:"text-gray-500"},ja={class:"text-gray-800 font-bold"},La={key:0},Aa={class:"text-gray-500"},Ba={__name:"DeletionRequest",props:["data"],setup(e){const{formatDate:l}=Ee(),a=he(),u=pe({});function r(_){try{return JSON.parse(_.reason)}catch{return{}}}const c=_=>{u.post(route("deletion.approve",_),{onStart:()=>{a.loading.show()},onFinish:()=>{a.loading.hide(),u.reset(),a.notify({type:"success",message:"Deletion Approved",position:"bottom"})},onError:d=>{Object.values(d).forEach(s=>{a.notify({type:"negative",message:s,position:"bottom"})})}})},f=_=>{u.post(route("deletion.reject",_),{onStart:()=>{a.loading.show()},onFinish:()=>{a.loading.hide(),u.reset(),a.notify({type:"negative",message:"Deletion Rejected",position:"bottom"})},onError:d=>{Object.values(d).forEach(s=>{a.notify({type:"negative",message:s,position:"bottom"})})}})};return(_,d)=>(g(),D(H,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:n(()=>[t(U,null,{default:n(()=>d[0]||(d[0]=[o("div",{class:"stitle text-lg font-bold"},"Deletion Requests",-1)])),_:1,__:[0]}),t(ke),t(U,null,{default:n(()=>[e.data.deletion_requests.length===0?(g(),R("div",ka," No deletion requests found. ")):(g(),R("div",Ca,[(g(!0),R(Y,null,oe(e.data.deletion_requests,s=>(g(),D(H,{key:s.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:n(()=>[t(U,null,{default:n(()=>[o("div",qa,[o("div",null,[d[1]||(d[1]=o("b",{class:"text-gray-600"},"Status:",-1)),o("span",{class:ge(["ml-1 font-medium capitalize",{"text-yellow-600":s.approval_status==="pending","text-green-600":s.approval_status==="approved","text-red-600":s.approval_status==="rejected"}])},k(s.approval_status),3)]),o("div",$a,[d[2]||(d[2]=o("b",null,"Requested On:",-1)),h(" "+k(x(l)(s.request_date)),1)])]),o("div",null,[d[8]||(d[8]=o("b",{class:"block mb-3 text-gray-700"},"Reason Details",-1)),o("div",Ta,[o("div",null,[o("div",Sa,[d[3]||(d[3]=h(" Reason: ")),o("span",Da,k(r(s).reason),1)])]),o("div",null,[o("div",Ra,[d[4]||(d[4]=h(" Year: ")),o("span",Ea,k(r(s).year),1)])]),o("div",null,[o("div",Va,[d[5]||(d[5]=h(" Remark: ")),o("span",Oa,k(r(s).remark),1)])]),o("div",null,[o("div",Pa,[d[6]||(d[6]=h(" Seniority List: ")),o("span",ja,k(r(s).seniority_list),1)])]),r(s).supporting_document?(g(),R("div",La,[o("div",Aa,[d[7]||(d[7]=h(" Supporting Document: ")),t($,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${r(s).supporting_document}`,target:"_blank"},null,8,["href"]),t($,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${r(s).supporting_document}`,target:"_blank",download:""},null,8,["href"])])])):B("",!0)])])]),_:2},1024),s.approval_status==="pending"?(g(),D(ue,{key:0,align:"right",class:"px-4 pb-4"},{default:n(()=>[t($,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:i=>c(s.id)},null,8,["onClick"]),t($,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:i=>f(s.id)},null,8,["onClick"])]),_:2},1024)):B("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}))}},Ua={key:0,class:"text-gray-500 text-center py-10 text-base italic"},Na={key:1,class:"flex flex-col gap-6"},za={class:"flex flex-wrap justify-between items-center mb-4"},Qa={class:"text-gray-600"},Fa={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg"},Ia={class:"text-gray-500"},Ma={class:"text-gray-800 font-bold"},Ha={class:"text-gray-500"},Wa={class:"text-gray-800 font-bold"},Ka={class:"text-gray-500"},Ya={class:"text-gray-800 font-bold"},Ja={class:"text-gray-500"},Ga={class:"text-gray-800 font-bold"},Xa={key:0},Za={class:"text-gray-500"},en={__name:"RequestDeletion",props:["data"],setup(e){const{formatDate:l}=Ee(),a=e,u=he(),r=pe({reason:"",seniority_list:"",year:"",remark:"",supporting_document:null}),c=P(()=>{var s,i;return((i=(s=a.data.deletion_requests)==null?void 0:s.slice(-1)[0])==null?void 0:i.approval_status)==="pending"}),f=Q(!1);function _(s){try{return JSON.parse(s.reason)}catch{return{}}}function d(){if(!r.reason){u.notify({type:"negative",message:"Reason is required",position:"bottom"});return}r.post(route("deletion.request",a.data),{preserveScroll:!0,onSuccess:()=>{u.notify({type:"positive",message:"Deletion request submitted successfully"}),f.value=!1,r.reset()},onError:s=>{Object.values(s).forEach(i=>{u.notify({type:"negative",message:i,position:"bottom"})})}})}return(s,i)=>(g(),R(Y,null,[t(H,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:n(()=>[t(U,{class:"flex items-center justify-between"},{default:n(()=>[i[8]||(i[8]=o("div",{class:"stitle text-lg font-bold"},"Request Deletion",-1)),o("div",null,[e.data.employment_type!=="Deleted"?(g(),D($,{key:0,label:"Request Deletion",color:"negative",disable:c.value,onClick:i[0]||(i[0]=m=>f.value=!0)},null,8,["disable"])):B("",!0)])]),_:1,__:[8]}),t(ke),t(U,null,{default:n(()=>[e.data.deletion_requests.length===0?(g(),R("div",Ua," No deletion requests found. ")):(g(),R("div",Na,[(g(!0),R(Y,null,oe(e.data.deletion_requests,m=>(g(),D(H,{key:m.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:n(()=>[t(U,null,{default:n(()=>[o("div",za,[o("div",null,[i[9]||(i[9]=o("b",{class:"text-gray-600"},"Status:",-1)),o("span",{class:ge(["ml-1 font-medium capitalize",{"text-yellow-600":m.approval_status==="pending","text-green-600":m.approval_status==="approved","text-red-600":m.approval_status==="rejected"}])},k(m.approval_status),3)]),o("div",Qa,[i[10]||(i[10]=o("b",null,"Requested On:",-1)),h(" "+k(x(l)(m.request_date)),1)])]),o("div",null,[i[16]||(i[16]=o("b",{class:"block mb-3 text-gray-700"},"Reason Details",-1)),o("div",Fa,[o("div",null,[o("div",Ia,[i[11]||(i[11]=h(" Reason: ")),o("span",Ma,k(_(m).reason),1)])]),o("div",null,[o("div",Ha,[i[12]||(i[12]=h(" Year: ")),o("span",Wa,k(_(m).year),1)])]),o("div",null,[o("div",Ka,[i[13]||(i[13]=h(" Remark: ")),o("span",Ya,k(_(m).remark),1)])]),o("div",null,[o("div",Ja,[i[14]||(i[14]=h(" Seniority List: ")),o("span",Ga,k(_(m).seniority_list),1)])]),_(m).supporting_document?(g(),R("div",Xa,[o("div",Za,[i[15]||(i[15]=h(" Supporting Document: ")),t($,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${_(m).supporting_document}`,target:"_blank"},null,8,["href"]),t($,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${_(m).supporting_document}`,target:"_blank",download:""},null,8,["href"])])])):B("",!0)])])]),_:2},1024)]),_:2},1024))),128))]))]),_:1})]),_:1}),t(qe,{modelValue:f.value,"onUpdate:modelValue":i[7]||(i[7]=m=>f.value=m)},{default:n(()=>[t(H,{style:{"min-width":"400px"}},{default:n(()=>[t(U,null,{default:n(()=>i[17]||(i[17]=[o("div",{class:"text-h6"},"Submit Deletion Request",-1)])),_:1,__:[17]}),t(U,null,{default:n(()=>[t(te,{modelValue:x(r).reason,"onUpdate:modelValue":i[1]||(i[1]=m=>x(r).reason=m),label:"Reason",type:"textarea",outlined:"",error:!!x(r).errors.reason,"error-message":x(r).errors.reason,rules:[m=>!!m||"Reason is required"]},null,8,["modelValue","error","error-message","rules"]),t(te,{modelValue:x(r).seniority_list,"onUpdate:modelValue":i[2]||(i[2]=m=>x(r).seniority_list=m),label:"Seniority List",outlined:"",class:"q-mt-sm"},null,8,["modelValue"]),t(te,{modelValue:x(r).year,"onUpdate:modelValue":i[3]||(i[3]=m=>x(r).year=m),label:"Year",type:"number",outlined:"",class:"q-mt-sm"},null,8,["modelValue"]),t(te,{modelValue:x(r).remark,"onUpdate:modelValue":i[4]||(i[4]=m=>x(r).remark=m),label:"Remark",type:"textarea",outlined:"",class:"q-mt-sm"},null,8,["modelValue"]),t(Ae,{modelValue:x(r).supporting_document,"onUpdate:modelValue":i[5]||(i[5]=m=>x(r).supporting_document=m),label:"Supporting Document",outlined:"",class:"q-mt-sm",accept:".pdf,.jpg,.jpeg,.png",error:!!x(r).errors.supporting_document,"error-message":x(r).errors.supporting_document},null,8,["modelValue","error","error-message"])]),_:1}),t(ue,{align:"right"},{default:n(()=>[t($,{flat:"",label:"Cancel",color:"grey",onClick:i[6]||(i[6]=m=>f.value=!1)}),t($,{label:"Submit",color:"negative",onClick:d,loading:x(r).processing},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},tn={key:0,class:"text-gray-500 text-center py-10 text-base italic"},ln={key:1,class:"flex flex-col gap-6"},an={class:"flex flex-wrap justify-between items-center mb-4"},nn={class:""},on={class:"text-gray-600"},sn={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg"},rn={class:"flex flex-col"},un={class:"text-gray-500"},dn={class:"text-gray-800"},cn={class:"font-bold"},fn={class:"font-bold"},mn={class:"grid grid-cols-2 gap-4 items-start relative"},gn={class:"text-sm font-bold mb-1"},vn={class:"q-mt-md"},pn={class:"text-sm font-bold mb-1"},bn={key:3,class:"border rounded p-4 bg-gray-50 q-mt-md"},yn={class:"text-sm font-bold mb-2"},hn={__name:"RequestEdit",props:["data","documentTypes"],setup(e){const{formatDate:l,educationalQualifications:a}=Ee(),u=e,r=he(),c=Q(!1),f=pe({requested_changes:{name:"",date_of_birth:"",parent_name:"",educational_qln:"",technical_qln:""},documents:{}}),_=P(()=>{var T,y;return((y=(T=u.data.edit_requests)==null?void 0:T.slice(-1)[0])==null?void 0:y.approval_status)==="pending"});re(c,T=>{T||(f.reset(),f.clearErrors())});const d={date_of_birth:["Birth Certificate","Aadhar","EPIC","Educational Certificate"],name:["Birth Certificate","Aadhar","EPIC","Educational Certificate"],parent_name:["Birth Certificate"],educational_qln:["Educational Certificate"],technical_qln:["Technical Certificate"]},s={name:"Name",date_of_birth:"Date of Birth",parent_name:"Parent's Name",educational_qln:"Educational Qualification",technical_qln:"Technical Qualification"},i=()=>{f.reset(),f.clearErrors(),f.documents={}},m=P(()=>Object.values(f.requested_changes).some(T=>{var y;return T&&((y=T.trim)==null?void 0:y.call(T))!==""})),q=()=>{if(!m.value){r.notify({type:"warning",message:"Please enter at least one change before submitting."});return}const T=new FormData;Object.entries(f.requested_changes).forEach(([y,v])=>{v&&T.append(`requested_changes[${y}]`,v)}),Object.entries(f.documents).forEach(([y,v])=>{v&&[].concat(v).forEach(p=>{T.append(`documents[${y}][]`,p)})}),f.post(route("edit.request",u.data),{data:T,forceFormData:!0,onSuccess:()=>{c.value=!1,f.reset()},onError:y=>{Object.values(y).forEach(v=>{Array.isArray(v)?v.forEach(p=>{r.notify({type:"negative",message:p})}):r.notify({type:"negative",message:v})})}})},E=T=>{try{return JSON.parse(T)}catch{return{}}};return(T,y)=>(g(),R(Y,null,[t(H,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:n(()=>[t(U,{class:"flex items-center justify-between"},{default:n(()=>[y[2]||(y[2]=o("div",{class:"stitle text-lg font-bold"},"Request Edit",-1)),t($,{label:"Request Edit",color:"primary",disable:_.value,onClick:y[0]||(y[0]=v=>c.value=!0)},null,8,["disable"])]),_:1,__:[2]}),t(ke),t(U,null,{default:n(()=>[e.data.edit_requests.length===0?(g(),R("div",tn," No edit requests found. ")):(g(),R("div",ln,[(g(!0),R(Y,null,oe(e.data.edit_requests,v=>(g(),D(H,{key:v.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:n(()=>[t(U,null,{default:n(()=>[o("div",an,[o("div",nn,[y[3]||(y[3]=o("b",{class:"text-gray-600"},"Status:",-1)),o("span",{class:ge(["ml-1 font-medium capitalize",{"text-yellow-600":v.approval_status==="pending","text-green-600":v.approval_status==="approved","text-red-600":v.approval_status==="rejected"}])},k(v.approval_status),3)]),o("div",on,[y[4]||(y[4]=o("b",null,"Requested On:",-1)),h(" "+k(x(l)(v.request_date)),1)])]),o("div",null,[y[7]||(y[7]=o("b",{class:"block mb-3 text-gray-700"},"Requested Changes",-1)),o("div",sn,[(g(!0),R(Y,null,oe(E(v.requested_changes),(p,A)=>(g(),R("div",{key:A},[o("div",rn,[o("span",un,k(s[A]??A)+": ",1),o("span",dn,[y[5]||(y[5]=h(" From: ")),o("span",cn,k(A==="date_of_birth"?x(l)(E(v.previous_data)[A]):E(v.previous_data)[A]||"—"),1),y[6]||(y[6]=h(" To: ")),o("span",fn,k(A==="date_of_birth"||A==="date_of_engagement"?x(l)(p):p),1)])])]))),128))])])]),_:2},1024)]),_:2},1024))),128))]))]),_:1})]),_:1}),t(qe,{modelValue:c.value,"onUpdate:modelValue":y[1]||(y[1]=v=>c.value=v)},{default:n(()=>[t(H,{style:{"min-width":"700px"}},{default:n(()=>[t(U,null,{default:n(()=>y[8]||(y[8]=[o("div",{class:"text-lg font-bold"},"Request Edit",-1)])),_:1,__:[8]}),t(U,null,{default:n(()=>[(g(),R(Y,null,oe(s,(v,p)=>o("div",{key:p,class:"mb-6"},[o("div",mn,[o("div",null,[o("div",gn,"Existing "+k(v)+":",1),o("div",vn,k(p==="date_of_birth"?x(l)(u.data[p]):u.data[p]||"—"),1)]),y[9]||(y[9]=o("div",{class:"absolute top-0 bottom-0 left-1/2 w-px bg-gray-300"},null,-1)),o("div",null,[o("div",pn,"New "+k(v)+":",1),p==="date_of_birth"?(g(),D(te,{key:0,modelValue:x(f).requested_changes[p],"onUpdate:modelValue":A=>x(f).requested_changes[p]=A,type:"date",outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])):p==="educational_qln"?(g(),D(Me,{key:1,modelValue:x(f).requested_changes[p],"onUpdate:modelValue":A=>x(f).requested_changes[p]=A,options:x(a),label:"Select Qualification",outlined:"",dense:"","emit-value":"","map-options":""},null,8,["modelValue","onUpdate:modelValue","options"])):(g(),D(te,{key:2,modelValue:x(f).requested_changes[p],"onUpdate:modelValue":A=>x(f).requested_changes[p]=A,outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])),x(f).requested_changes[p]?(g(),R("div",bn,[o("div",yn," Required Documents for "+k(v)+": ",1),(g(!0),R(Y,null,oe(d[p],A=>(g(),R("div",{key:A,class:"mb-3"},[t(Ae,{filled:"",modelValue:x(f).documents[A],"onUpdate:modelValue":L=>x(f).documents[A]=L,label:A,accept:".pdf,.jpg,.jpeg,.png",clearable:"",class:"q-mt-md"},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))])):B("",!0)])]),t(ke,{spaced:"",class:"q-my-md"})])),64))]),_:1}),t(ue,{align:"right"},{default:n(()=>[t($,{flat:"",label:"Clear",color:"red",onClick:i}),ye(t($,{flat:"",label:"Cancel"},null,512),[[Ce]]),t($,{label:"Submit",color:"primary",loading:x(f).processing,disable:!m.value,onClick:q},null,8,["loading","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},_n={key:0,class:"text-gray-500 text-center py-10 text-base italic"},xn={key:1,class:"flex flex-col gap-6"},wn={class:"flex flex-wrap justify-between items-center mb-4"},kn={class:"text-gray-600"},Cn={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p- rounded-lg"},qn={class:"text-gray-500"},$n={class:"text-gray-800 font-bold"},Tn={class:"text-gray-500"},Sn={class:"text-gray-800 font-bold"},Dn={class:"text-gray-500"},Rn={__name:"RequestTransfer",props:["data","office"],setup(e){const{formatDate:l}=Ee(),a=e,u=he(),r=Q(!1),c=pe({requested_office_id:"",supporting_document:null});re(r,d=>{d||(c.reset(),c.clearErrors())});const f=P(()=>{var d,s;return((s=(d=a.data.transfer_requests)==null?void 0:d.slice(-1)[0])==null?void 0:s.approval_status)==="pending"}),_=()=>{if(!c.requested_office_id){u.notify({type:"negative",message:"Office is required",position:"bottom"});return}if(!c.supporting_document){u.notify({type:"negative",message:"Transfer Order is required",position:"bottom"});return}c.post(route("transfer.request",a.data),{onStart:()=>{u.loading.show()},onSuccess:()=>{u.loading.hide(),r.value=!1,c.reset(),u.notify({type:"positive",message:"Transfer Requested",position:"bottom"})},onFinish:()=>{u.loading.hide(),r.value=!1,c.reset()},onError:d=>{Object.values(d).forEach(s=>{u.notify({type:"negative",message:s,position:"bottom"})})}})};return(d,s)=>(g(),R(Y,null,[t(H,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:n(()=>[t(U,{class:"flex items-center justify-between"},{default:n(()=>[s[4]||(s[4]=o("div",{class:"stitle text-lg font-bold"},"Request Transfer",-1)),t($,{label:"Request Transfer",color:"primary",disable:f.value,onClick:s[0]||(s[0]=i=>r.value=!0)},null,8,["disable"])]),_:1,__:[4]}),t(ke),t(U,null,{default:n(()=>[e.data.transfer_requests.length===0?(g(),R("div",_n," No transfer requests found. ")):(g(),R("div",xn,[(g(!0),R(Y,null,oe(e.data.transfer_requests,i=>(g(),D(H,{key:i.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:n(()=>[t(U,null,{default:n(()=>{var m,q;return[o("div",wn,[o("div",null,[s[5]||(s[5]=o("b",{class:"text-gray-600"},"Status:",-1)),o("span",{class:ge(["ml-1 font-medium capitalize",{"text-yellow-600":i.approval_status==="pending","text-green-600":i.approval_status==="approved","text-red-600":i.approval_status==="rejected"}])},k(i.approval_status),3)]),o("div",kn,[s[6]||(s[6]=o("b",null,"Requested On:",-1)),h(" "+k(x(l)(i.request_date)),1)])]),o("div",null,[s[10]||(s[10]=o("b",{class:"block mb-3 text-gray-700"},"Transfer Details:",-1)),o("div",Cn,[o("div",null,[o("div",qn,[s[7]||(s[7]=h(" Current Office: ")),o("span",$n,k(((m=i.current_office)==null?void 0:m.name)||"—"),1)])]),o("div",null,[o("div",Tn,[s[8]||(s[8]=h(" Requested Office: ")),o("span",Sn,k(((q=i.requested_office)==null?void 0:q.name)||"—"),1)])]),o("div",null,[o("div",Dn,[s[9]||(s[9]=h(" Transfer Order: ")),t($,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${i.supporting_document}`,target:"_blank"},null,8,["href"]),t($,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${i.supporting_document}`,target:"_blank",download:""},null,8,["href"])])])])])]}),_:2},1024)]),_:2},1024))),128))]))]),_:1})]),_:1}),t(qe,{modelValue:r.value,"onUpdate:modelValue":s[3]||(s[3]=i=>r.value=i),persistent:""},{default:n(()=>[t(H,{style:{"min-width":"400px"}},{default:n(()=>[t(U,null,{default:n(()=>s[11]||(s[11]=[o("div",{class:"text-h6"},"Select Requested Office",-1)])),_:1,__:[11]}),t(U,null,{default:n(()=>[t(Me,{modelValue:x(c).requested_office_id,"onUpdate:modelValue":s[1]||(s[1]=i=>x(c).requested_office_id=i),options:e.office,"option-value":"id","option-label":"name",label:"Office",dense:"",outlined:"",error:!!x(c).errors.requested_office_id,"error-message":x(c).errors.requested_office_id,rules:[i=>!!i||"Office is required"]},null,8,["modelValue","options","error","error-message","rules"]),t(Ae,{modelValue:x(c).supporting_document,"onUpdate:modelValue":s[2]||(s[2]=i=>x(c).supporting_document=i),label:"Transfer Order",outlined:"",class:"q-mt-md",error:!!x(c).errors.supporting_document,"error-message":x(c).errors.supporting_document,rules:[i=>!!i||"Transfer Order is required"],accept:".pdf,.jpg,.jpeg,.png"},null,8,["modelValue","error","error-message","rules"])]),_:1}),t(ue,{align:"right"},{default:n(()=>[ye(t($,{flat:"",label:"Cancel",color:"negative"},null,512),[[Ce]]),t($,{flat:"",label:"Submit",color:"primary",onClick:_})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},En=Tt(Rn,[["__scopeId","data-v-bdab2036"]]),Vn=Le({name:"QTimelineEntry",props:{heading:Boolean,tag:{type:String,default:"h3"},side:{type:String,default:"right",validator:e=>["left","right"].includes(e)},icon:String,avatar:String,color:String,title:String,subtitle:String,body:String},setup(e,{slots:l}){const a=ht(kt,Be);if(a===Be)return console.error("QTimelineEntry needs to be child of QTimeline"),Be;const u=P(()=>`q-timeline__entry q-timeline__entry--${e.side}`+(e.icon!==void 0||e.avatar!==void 0?" q-timeline__entry--icon":"")),r=P(()=>`q-timeline__dot text-${e.color||a.color}`),c=P(()=>a.layout==="comfortable"&&a.side==="left");return()=>{const f=al(l.default,[]);if(e.body!==void 0&&f.unshift(e.body),e.heading===!0){const s=[j("div"),j("div"),j(e.tag,{class:"q-timeline__heading-title"},f)];return j("div",{class:"q-timeline__heading"},c.value===!0?s.reverse():s)}let _;e.icon!==void 0?_=[j(Re,{class:"row items-center justify-center",name:e.icon})]:e.avatar!==void 0&&(_=[j("img",{class:"q-timeline__dot-img",src:e.avatar})]);const d=[j("div",{class:"q-timeline__subtitle"},[j("span",{},Ue(l.subtitle,[e.subtitle]))]),j("div",{class:r.value},_),j("div",{class:"q-timeline__content"},[j("h6",{class:"q-timeline__title"},Ue(l.title,[e.title]))].concat(f))];return j("li",{class:u.value},c.value===!0?d.reverse():d)}}}),On=Le({name:"QTimeline",props:{...Ct,color:{type:String,default:"primary"},side:{type:String,default:"right",validator:e=>["left","right"].includes(e)},layout:{type:String,default:"dense",validator:e=>["dense","comfortable","loose"].includes(e)}},setup(e,{slots:l}){const a=Qe(),u=qt(e,a.proxy.$q);wt(kt,e);const r=P(()=>`q-timeline q-timeline--${e.layout} q-timeline--${e.layout}--${e.side}`+(u.value===!0?" q-timeline--dark":""));return()=>j("ul",{class:r.value},Ue(l.default))}}),Pn={class:"flex items-center justify-between q-pa-md bg-white"},jn={class:"flex q-gutter-sm"},Ln={key:0},An={class:"flex items-center justify-between"},Bn={key:0},Un={key:1,class:"text-subtitle2 text-grey-7 q-pa-md"},Nn={key:0},zn={key:1},Qn={__name:"Transfer",props:["data","office","canCreateTransfer","canDeleteTransfer"],setup(e){const l=e,a=he(),u=Q(!1),r=Q(!1),c=pe({old_office_id:null,new_office_id:null,transfer_date:"",is_present_transfer:!1,supporting_document:null}),f=P(()=>{var i;return[...((i=l.data)==null?void 0:i.transfers)||[]].sort((m,q)=>new Date(m.transfer_date)-new Date(q.transfer_date))});function _(i){return new Date(i).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}const d=i=>{if(!c.old_office_id){a.notify({type:"negative",message:"Old Office is required",position:"bottom"});return}if(!c.new_office_id){a.notify({type:"negative",message:"New Office is required",position:"bottom"});return}if(!c.transfer_date){a.notify({type:"negative",message:"Transfer Date is required",position:"bottom"});return}if(!c.supporting_document){a.notify({type:"negative",message:"Transfer Order is required",position:"bottom"});return}c.is_present_transfer=r.value,c.post(route("transfer.store",l.data),{onStart:()=>{a.loading.show(),c.reset()},onFinish:()=>{a.loading.hide(),u.value=!1,c.reset()},onError:m=>{Object.values(m).forEach(q=>{a.notify({type:"negative",message:q,position:"bottom"})})}})},s=i=>{a.dialog({title:"Confirmation",message:"Do you want to delete?",ok:"Yes",cancel:"No"}).onOk(()=>{Ze.delete(route("transfer.destroy",i),{onStart:m=>a.loading.show(),onFinish:m=>a.loading.hide(),preserveState:!1})})};return re(r,i=>{i?(c.old_office_id=l.data.office,c.transfer_date=new Date().toISOString().split("T")[0]):(c.old_office_id=null,c.transfer_date="")}),(i,m)=>(g(),R(Y,null,[t(H,{class:"q-mt-md"},{default:n(()=>[o("div",Pn,[m[8]||(m[8]=o("div",null,[o("div",{class:"stitle"},"Transfer History")],-1)),o("div",jn,[e.canCreateTransfer?(g(),D($,{key:0,onClick:m[0]||(m[0]=q=>u.value=!0),color:"btn-primary",icon:"add"})):B("",!0)])]),t(U,null,{default:n(()=>[f.value.length>0?(g(),R("div",Ln,[t(On,{color:"primary",class:"q-pa-md"},{default:n(()=>[(g(!0),R(Y,null,oe(f.value,(q,E)=>(g(),D(Vn,{key:q.id,title:_(q.transfer_date),icon:E===f.value.length-1?"flag":"swap_horiz"},{subtitle:n(()=>[o("div",An,[o("span",null,"Transfer #"+k(E+1),1),e.canDeleteTransfer?(g(),D($,{key:0,icon:"delete",color:"red",flat:"",dense:"",size:"m",onClick:T=>s(q.id),title:"Delete Transfer"},null,8,["onClick"])):B("",!0)])]),default:n(()=>{var T,y;return[o("div",null,[m[9]||(m[9]=h(" From ")),o("strong",null,k(((T=q.old_office)==null?void 0:T.name)||"Unknown Office"),1),m[10]||(m[10]=h(" to ")),o("strong",null,k(((y=q.new_office)==null?void 0:y.name)||"Unknown Office"),1)]),q.supporting_document?(g(),R("div",Bn,[m[11]||(m[11]=h(" Transfer Order: ")),t($,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${q.supporting_document}`,target:"_blank"},null,8,["href"]),t($,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${q.supporting_document}`,target:"_blank",download:""},null,8,["href"])])):B("",!0)]}),_:2},1032,["title","icon"]))),128))]),_:1})])):(g(),R("div",Un," No transfer history found "))]),_:1})]),_:1}),t(qe,{modelValue:u.value,"onUpdate:modelValue":m[7]||(m[7]=q=>u.value=q)},{default:n(()=>[t(H,{style:{"min-width":"400px"}},{default:n(()=>[t(U,null,{default:n(()=>m[12]||(m[12]=[o("div",{class:"stitle"},"Add Transfer",-1)])),_:1,__:[12]}),t(U,{class:"q-gutter-md"},{default:n(()=>[t(nl,{modelValue:r.value,"onUpdate:modelValue":m[1]||(m[1]=q=>r.value=q),label:"Is Present Transfer?",color:"primary"},null,8,["modelValue"]),r.value?(g(),R("div",Nn,[t(te,{modelValue:e.data.office.name,"onUpdate:modelValue":m[2]||(m[2]=q=>e.data.office.name=q),label:"Old Office",dense:"",outlined:"",readonly:""},null,8,["modelValue"])])):(g(),R("div",zn,[t(Me,{modelValue:x(c).old_office_id,"onUpdate:modelValue":m[3]||(m[3]=q=>x(c).old_office_id=q),options:e.office,"option-value":"id","option-label":"name",label:"Old Office",dense:"",clearable:"",outlined:""},null,8,["modelValue","options"])])),t(Me,{modelValue:x(c).new_office_id,"onUpdate:modelValue":m[4]||(m[4]=q=>x(c).new_office_id=q),options:e.office,"option-value":"id","option-label":"name",label:"New Office",dense:"",clearable:"",outlined:""},null,8,["modelValue","options"]),t(te,{modelValue:x(c).transfer_date,"onUpdate:modelValue":m[5]||(m[5]=q=>x(c).transfer_date=q),type:"date",label:"Transfer Date",dense:"",clearable:"",outlined:""},null,8,["modelValue"]),t(Ae,{modelValue:x(c).supporting_document,"onUpdate:modelValue":m[6]||(m[6]=q=>x(c).supporting_document=q),label:"Transfer Order",outlined:"",clearable:"",error:!!x(c).errors.supporting_document,"error-message":x(c).errors.supporting_document,accept:".pdf,.jpg,.jpeg,.png"},null,8,["modelValue","error","error-message"])]),_:1}),t(ue,{align:"right"},{default:n(()=>[ye(t($,{flat:"",label:"Cancel"},null,512),[[Ce]]),t($,{flat:"",label:"Submit",color:"primary",onClick:d})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Fn=Le({name:"QSpace",setup(){const e=j("div",{class:"q-space"});return()=>e}}),In={__name:"DeletionDialog",props:{modelValue:Boolean,employee:Object},emits:["update:modelValue"],setup(e,{emit:l}){const a=he(),u=e,r=l,c=Q(u.modelValue);re(()=>u.modelValue,d=>c.value=d),re(c,d=>r("update:modelValue",d));const f=pe({seniority_list:"",reason:"",year:new Date().getFullYear(),remark:"",supporting_document:null});function _(){f.post(route("deletion.store",u.employee),{preserveScroll:!0,onSuccess:()=>{c.value=!1,f.reset(),a.notify({type:"positive",message:"Employee Deleted successfully."})}})}return(d,s)=>(g(),D(qe,{modelValue:c.value,"onUpdate:modelValue":s[5]||(s[5]=i=>c.value=i)},{default:n(()=>[t(H,{style:{"min-width":"400px"}},{default:n(()=>[t(U,{class:"row items-center q-pa-sm bg-negative text-white"},{default:n(()=>[s[6]||(s[6]=o("div",{class:"text-h6"},"Employee Deletion Details",-1)),t(Fn),ye(t($,{icon:"close",flat:"",round:"",dense:""},null,512),[[Ce]])]),_:1,__:[6]}),t(St,{onSubmit:$t(_,["prevent"])},{default:n(()=>[t(U,{class:"q-gutter-md"},{default:n(()=>[t(te,{modelValue:x(f).seniority_list,"onUpdate:modelValue":s[0]||(s[0]=i=>x(f).seniority_list=i),label:"Seniority List",dense:"",outlined:"",type:"number"},null,8,["modelValue"]),t(te,{modelValue:x(f).reason,"onUpdate:modelValue":s[1]||(s[1]=i=>x(f).reason=i),label:"Reason",dense:"",outlined:"",required:""},null,8,["modelValue"]),t(te,{modelValue:x(f).year,"onUpdate:modelValue":s[2]||(s[2]=i=>x(f).year=i),label:"Year",dense:"",outlined:"",type:"number"},null,8,["modelValue"]),t(te,{modelValue:x(f).remark,"onUpdate:modelValue":s[3]||(s[3]=i=>x(f).remark=i),label:"Remark",type:"textarea",dense:"",outlined:""},null,8,["modelValue"]),t(Ae,{modelValue:x(f).supporting_document,"onUpdate:modelValue":s[4]||(s[4]=i=>x(f).supporting_document=i),label:"Supporting Document",dense:"",outlined:""},null,8,["modelValue"])]),_:1}),t(ue,{align:"right",class:"q-pa-sm"},{default:n(()=>[ye(t($,{flat:"",label:"Cancel"},null,512),[[Ce]]),t($,{color:"negative",label:"Submit Deletion",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},Mn={class:"flex items-center justify-between q-pa-md bg-white"},Hn={class:"flex q-gutter-sm"},Wn={__name:"Deletion",props:["deletion","canEditDelete"],setup(e){const l=he(),a=e,u=Q(!1),r=pe({reason:a.deletion.reason||"",seniority_list:a.deletion.seniority_list||"",year:a.deletion.year||"",remark:a.deletion.remark||"",supporting_document:null}),c=()=>{r.post(route("deletion.update",a.deletion),{preserveScroll:!0,onSuccess:()=>{u.value=!1,l.notify({type:"positive",message:"Deleted details updated successfully."})}})},f=_=>{window.open(_,"_blank")};return(_,d)=>(g(),R(Y,null,[t(H,{class:"q-mt-md"},{default:n(()=>[o("div",Mn,[d[8]||(d[8]=o("div",null,[o("div",{class:"stitle text-red"},"Deletion Detail")],-1)),o("div",Hn,[e.canEditDelete?(g(),D($,{key:0,onClick:d[0]||(d[0]=s=>u.value=!0),color:"btn-primary",icon:"edit"})):B("",!0)])]),t(U,null,{default:n(()=>[t(at,{class:"q-mt-sm"},{default:n(()=>[t(M,null,{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>d[9]||(d[9]=[h("Reason:")])),_:1,__:[9]}),t(S,{class:"text-label"},{default:n(()=>[h(k(e.deletion.reason),1)]),_:1})]),_:1}),t(M,null,{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>d[10]||(d[10]=[h("Seniority List:")])),_:1,__:[10]}),t(S,{class:"text-label"},{default:n(()=>[h(k(e.deletion.seniority_list),1)]),_:1})]),_:1}),t(M,null,{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>d[11]||(d[11]=[h("Year:")])),_:1,__:[11]}),t(S,{class:"text-label"},{default:n(()=>[h(k(e.deletion.year),1)]),_:1})]),_:1}),e.deletion.remark?(g(),D(M,{key:0},{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>d[12]||(d[12]=[h("Remark:")])),_:1,__:[12]}),t(S,{class:"text-label"},{default:n(()=>[h(k(e.deletion.remark),1)]),_:1})]),_:1})):B("",!0),e.deletion.supporting_document?(g(),D(M,{key:1},{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>d[13]||(d[13]=[h("Supporting Document:")])),_:1,__:[13]}),t(S,{class:"text-label"},{default:n(()=>[t($,{dense:"",flat:"",icon:"visibility",href:`/storage/${e.deletion.supporting_document}`,target:"_blank"},null,8,["href"])]),_:1})]),_:1})):B("",!0)]),_:1})]),_:1})]),_:1}),t(qe,{modelValue:u.value,"onUpdate:modelValue":d[7]||(d[7]=s=>u.value=s)},{default:n(()=>[t(H,{style:{"min-width":"500px","max-width":"90vw"}},{default:n(()=>[t(U,{class:"bg-negative text-white"},{default:n(()=>d[14]||(d[14]=[o("div",{class:"text-h6"},"Edit Deletion Detail",-1)])),_:1,__:[14]}),t(St,{onSubmit:$t(c,["prevent"])},{default:n(()=>[t(U,{class:"q-gutter-md"},{default:n(()=>[t(te,{modelValue:x(r).reason,"onUpdate:modelValue":d[1]||(d[1]=s=>x(r).reason=s),label:"Reason",outlined:"",dense:"",required:""},null,8,["modelValue"]),t(te,{modelValue:x(r).seniority_list,"onUpdate:modelValue":d[2]||(d[2]=s=>x(r).seniority_list=s),label:"Seniority List",outlined:"",dense:""},null,8,["modelValue"]),t(te,{modelValue:x(r).year,"onUpdate:modelValue":d[3]||(d[3]=s=>x(r).year=s),label:"Year",outlined:"",dense:"",type:"number"},null,8,["modelValue"]),t(te,{modelValue:x(r).remark,"onUpdate:modelValue":d[4]||(d[4]=s=>x(r).remark=s),label:"Remark",outlined:"",dense:"",type:"textarea"},null,8,["modelValue"]),t(Ae,{modelValue:x(r).supporting_document,"onUpdate:modelValue":d[6]||(d[6]=s=>x(r).supporting_document=s),label:"Supporting Document",outlined:"",dense:"",accept:".pdf,.png,.jpg,.jpeg"},ol({_:2},[e.deletion.supporting_document?{name:"append",fn:n(()=>[t($,{round:"",dense:"",flat:"",icon:"visibility",href:`/storage/${e.deletion.supporting_document}`,onClick:d[5]||(d[5]=s=>f(`/storage/${e.deletion.supporting_document}`)),class:"q-ml-sm"},null,8,["href"])]),key:"0"}:void 0]),1032,["modelValue"])]),_:1}),t(ue,{align:"right"},{default:n(()=>[ye(t($,{flat:"",label:"Cancel"},null,512),[[Ce]]),t($,{color:"primary",label:"Update",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Kn={class:"flex items-center justify-between q-pa-md bg-white"},Yn={class:"flex q-gutter-sm"},Jn={key:0,class:"text-grey-7 text-center q-pa-md"},Gn={class:"text-h6"},Xn={__name:"Remuneration",props:{data:Object,canCreateRemuneration:Boolean},setup(e){const{formatDate:l}=Ee(),a=e,u=Q(!1),r=Q(!1),c=pe({remuneration:"",next_increment_date:""}),f=(d=!1)=>{r.value=d,d&&a.data.remuneration_detail?(c.remuneration=a.data.remuneration_detail.remuneration,c.next_increment_date=a.data.remuneration_detail.next_increment_date):c.reset(),u.value=!0},_=()=>{r.value?c.put(route("remuneration.update",a.data.id),{onSuccess:()=>{u.value=!1}}):c.post(route("remuneration.store",a.data.id),{onSuccess:()=>{u.value=!1,c.reset()}})};return(d,s)=>(g(),R(Y,null,[t(H,{class:"q-mt-md"},{default:n(()=>[o("div",Kn,[s[4]||(s[4]=o("div",null,[o("div",{class:"stitle"},"Remuneration Detail")],-1)),o("div",Yn,[e.canCreateRemuneration?(g(),D($,{key:0,onClick:s[0]||(s[0]=i=>f(!!e.data.remuneration_detail)),color:"btn-primary",icon:e.data.remuneration_detail?"edit":"add"},null,8,["icon"])):B("",!0)])]),t(U,null,{default:n(()=>[e.data.remuneration_detail?(g(),D(at,{key:1,class:"q-mt-sm"},{default:n(()=>[t(M,null,{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>s[5]||(s[5]=[h("Remuneration:")])),_:1,__:[5]}),t(S,{class:"text-label"},{default:n(()=>[h(" ₹ "+k(e.data.remuneration_detail.remuneration.toLocaleString()),1)]),_:1})]),_:1}),t(M,null,{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>s[6]||(s[6]=[h("Medical Allowance (%):")])),_:1,__:[6]}),t(S,{class:"text-label"},{default:n(()=>[h(k(e.data.remuneration_detail.medical_percentage),1)]),_:1})]),_:1}),t(M,null,{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>s[7]||(s[7]=[h("Medical Allowance:")])),_:1,__:[7]}),t(S,{class:"text-label"},{default:n(()=>[h(" ₹ "+k(e.data.remuneration_detail.medical_amount.toLocaleString()),1)]),_:1})]),_:1}),t(M,null,{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>s[8]||(s[8]=[h("Total:")])),_:1,__:[8]}),t(S,{class:"text-label"},{default:n(()=>[h(" ₹ "+k(e.data.remuneration_detail.total.toLocaleString()),1)]),_:1})]),_:1}),t(M,null,{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>s[9]||(s[9]=[h("Monthly Remuneration:")])),_:1,__:[9]}),t(S,{class:"text-label"},{default:n(()=>[h(" ₹ "+k(e.data.remuneration_detail.round_total.toLocaleString()),1)]),_:1})]),_:1}),t(ke,{spaced:""}),t(M,null,{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>s[10]||(s[10]=[h("Date of next Increment:")])),_:1,__:[10]}),t(S,{class:"text-label"},{default:n(()=>[h(k(x(l)(e.data.remuneration_detail.next_increment_date)),1)]),_:1})]),_:1})]),_:1})):(g(),R("div",Jn," No remuneration data available. "))]),_:1})]),_:1}),t(qe,{modelValue:u.value,"onUpdate:modelValue":s[3]||(s[3]=i=>u.value=i)},{default:n(()=>[t(H,{style:{"min-width":"400px"}},{default:n(()=>[t(U,null,{default:n(()=>[o("div",Gn,k(r.value?"Edit":"Add")+" Remuneration",1)]),_:1}),t(U,{class:"q-gutter-md"},{default:n(()=>[t(te,{label:"Remuneration",type:"number",modelValue:x(c).remuneration,"onUpdate:modelValue":s[1]||(s[1]=i=>x(c).remuneration=i),outlined:"",dense:""},null,8,["modelValue"]),t(te,{label:"Next Increment Date",type:"date",modelValue:x(c).next_increment_date,"onUpdate:modelValue":s[2]||(s[2]=i=>x(c).next_increment_date=i),outlined:"",dense:""},null,8,["modelValue"])]),_:1}),t(ue,{align:"right"},{default:n(()=>[ye(t($,{flat:"",label:"Cancel"},null,512),[[Ce]]),t($,{color:"primary",label:r.value?"Update":"Save",onClick:_},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};function Dt(e,l){if(l&&e===l)return null;const a=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(a)===!0)return e;const u=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,r=u.display;return r==="block"||r==="table"?e:Dt(e.parentNode)}function Je(e,l,a){return!e||e===document.body?!1:a===!0&&e===l||(l===document?document.body:l).contains(e.parentNode)}function Rt(e,l,a){if(a||(a=document.createRange(),a.selectNode(e),a.setStart(e,0)),l.count===0)a.setEnd(e,l.count);else if(l.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<l.count?l.count-=e.textContent.length:(a.setEnd(e,l.count),l.count=0);else for(let u=0;l.count!==0&&u<e.childNodes.length;u++)a=Rt(e.childNodes[u],l,a);return a}const Zn=/^https?:\/\//;class eo{constructor(l,a){this.el=l,this.eVm=a,this._range=null}get selection(){if(this.el){const l=document.getSelection();if(Je(l.anchorNode,this.el,!0)&&Je(l.focusNode,this.el,!0))return l}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length!==0:!1}get range(){const l=this.selection;return l!=null&&l.rangeCount?l.getRangeAt(0):this._range}get parent(){const l=this.range;if(l!==null){const a=l.startContainer;return a.nodeType===document.ELEMENT_NODE?a:a.parentNode}return null}get blockParent(){const l=this.parent;return l!==null?Dt(l,this.el):null}save(l=this.range){l!==null&&(this._range=l)}restore(l=this._range){const a=document.createRange(),u=document.getSelection();l!==null?(a.setStart(l.startContainer,l.startOffset),a.setEnd(l.endContainer,l.endOffset),u.removeAllRanges(),u.addRange(a)):(u.selectAllChildren(this.el),u.collapseToEnd())}savePosition(){let l=-1,a;const u=document.getSelection(),r=this.el.parentNode;if(u.focusNode&&Je(u.focusNode,r))for(a=u.focusNode,l=u.focusOffset;a&&a!==r;)a!==this.el&&a.previousSibling?(a=a.previousSibling,l+=a.textContent.length):a=a.parentNode;this.savedPos=l}restorePosition(l=0){if(this.savedPos>0&&this.savedPos<l){const a=window.getSelection(),u=Rt(this.el,{count:this.savedPos});u&&(u.collapse(!1),a.removeAllRanges(),a.addRange(u))}}hasParent(l,a){const u=a?this.parent:this.blockParent;return u!==null?u.nodeName.toLowerCase()===l.toLowerCase():!1}hasParents(l,a,u=this.parent){return u===null?!1:l.includes(u.nodeName.toLowerCase())===!0?!0:a===!0?this.hasParents(l,a,u.parentNode):!1}is(l,a){if(this.selection===null)return!1;switch(l){case"formatBlock":return a==="DIV"&&this.parent===this.el||this.hasParent(a,a==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(l)===a;case"fontName":const u=document.queryCommandValue(l);return u===`"${a}"`||u===a;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const r=document.queryCommandState(l);return a!==void 0?r===a:r}}getParentAttribute(l){return this.parent!==null?this.parent.getAttribute(l):null}can(l){if(l==="outdent")return this.hasParents(["blockquote","li"],!0);if(l==="indent")return this.hasParents(["li"],!0);if(l==="link")return this.selection!==null||this.is("link")}apply(l,a,u=sl){if(l==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(a)&&this.is(l,a)&&(l="outdent",a=null),a==="PRE"&&this.is(l,"PRE")&&(a="P");else if(l==="print"){u();const r=window.open();r.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),r.print(),r.close();return}else if(l==="link"){const r=this.getParentAttribute("href");if(r===null){const c=this.selectWord(this.selection),f=c?c.toString():"";if(!f.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=Zn.test(f)?f:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(c.getRangeAt(0))}else this.eVm.editLinkUrl.value=r,this.range.selectNodeContents(this.parent),this.save();return}else if(l==="fullscreen"){this.eVm.toggleFullscreen(),u();return}else if(l==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),u();return}document.execCommand(l,!1,a),u()}selectWord(l){if(l===null||l.isCollapsed!==!0||l.modify===void 0)return l;const a=document.createRange();a.setStart(l.anchorNode,l.anchorOffset),a.setEnd(l.focusNode,l.focusOffset);const u=a.collapsed?["backward","forward"]:["forward","backward"];a.detach();const r=l.focusNode,c=l.focusOffset;return l.collapse(l.anchorNode,l.anchorOffset),l.modify("move",u[0],"character"),l.modify("move",u[1],"word"),l.extend(r,c),l.modify("extend",u[1],"character"),l.modify("extend",u[0],"word"),l}}function Et(e,l,a){l.handler?l.handler(e,a,a.caret):a.runCmd(l.cmd,l.param)}function nt(e){return j("div",{class:"q-editor__toolbar-group"},e)}function Vt(e,l,a,u=!1){const r=u||(l.type==="toggle"?l.toggled?l.toggled(e):l.cmd&&e.caret.is(l.cmd,l.param):!1),c=[];if(l.tip&&e.$q.platform.is.desktop){const f=l.key?j("div",[j("small",`(CTRL + ${String.fromCharCode(l.key)})`)]):null;c.push(j(et,{delay:1e3},()=>[j("div",{innerHTML:l.tip}),f]))}return j($,{...e.buttonProps.value,icon:l.icon!==null?l.icon:void 0,color:r?l.toggleColor||e.props.toolbarToggleColor:l.color||e.props.toolbarColor,textColor:r&&!e.props.toolbarPush?null:l.textColor||e.props.toolbarTextColor,label:l.label,disable:l.disable?typeof l.disable=="function"?l.disable(e):!0:!1,size:"sm",onClick(f){a==null||a(),Et(f,l,e)}},()=>c)}function to(e,l){const a=l.list==="only-icons";let u=l.label,r=l.icon!==null?l.icon:void 0,c,f;function _(){s.component.proxy.hide()}if(a)f=l.options.map(i=>{const m=i.type===void 0?e.caret.is(i.cmd,i.param):!1;return m&&(u=i.tip,r=i.icon!==null?i.icon:void 0),Vt(e,i,_,m)}),c=e.toolbarBackgroundClass.value,f=[nt(f)];else{const i=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,m=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,q=l.list==="no-icons";f=l.options.map(E=>{const T=E.disable?E.disable(e):!1,y=E.type===void 0?e.caret.is(E.cmd,E.param):!1;y&&(u=E.tip,r=E.icon!==null?E.icon:void 0);const v=E.htmlTip;return j(M,{active:y,activeClass:i,clickable:!0,disable:T,dense:!0,onClick(p){var A;_(),(p==null?void 0:p.qAvoidFocus)!==!0&&((A=e.contentRef.value)==null||A.focus()),e.caret.restore(),Et(p,E,e)}},()=>[q===!0?null:j(S,{class:y?i:m,side:!0},()=>j(Re,{name:E.icon!==null?E.icon:void 0})),j(S,v?()=>j("div",{class:"text-no-wrap",innerHTML:E.htmlTip}):E.tip?()=>j("div",{class:"text-no-wrap"},E.tip):void 0)])}),c=[e.toolbarBackgroundClass.value,m]}const d=l.highlight&&u!==l.label,s=j(yl,{...e.buttonProps.value,noCaps:!0,noWrap:!0,color:d?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:d&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:l.fixedLabel?l.label:u,icon:l.fixedIcon?l.icon!==null?l.icon:void 0:r,contentClass:c,onShow:i=>e.emit("dropdownShow",i),onHide:i=>e.emit("dropdownHide",i),onBeforeShow:i=>e.emit("dropdownBeforeShow",i),onBeforeHide:i=>e.emit("dropdownBeforeHide",i)},()=>f);return s}function lo(e){if(e.caret)return e.buttons.value.filter(l=>!e.isViewingSource.value||l.find(a=>a.cmd==="viewsource")).map(l=>nt(l.map(a=>e.isViewingSource.value&&a.cmd!=="viewsource"?!1:a.type==="slot"?Ue(e.slots[a.slot]):a.type==="dropdown"?to(e,a):Vt(e,a))))}function ao(e,l,a,u={}){const r=Object.keys(u);if(r.length===0)return{};const c={default_font:{cmd:"fontName",param:e,icon:a,tip:l}};return r.forEach(f=>{const _=u[f];c[f]={cmd:"fontName",param:_,icon:a,tip:_,htmlTip:`<font face="${_}">${_}</font>`}}),c}function no(e){if(e.caret){const l=e.props.toolbarColor||e.props.toolbarTextColor;let a=e.editLinkUrl.value;const u=()=>{e.caret.restore(),a!==e.editLinkUrl.value&&document.execCommand("createLink",!1,a===""?" ":a),e.editLinkUrl.value=null};return[j("div",{class:`q-mx-xs text-${l}`},`${e.$q.lang.editor.url}: `),j("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:a,onInput:r=>{il(r),a=r.target.value},onKeydown:r=>{if(tt(r)!==!0)switch(r.keyCode){case 13:return ft(r),u();case 27:ft(r),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),nt([j($,{key:"qedt_btm_rem",tabindex:-1,...e.buttonProps.value,label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}}),j($,{key:"qedt_btm_upd",...e.buttonProps.value,label:e.$q.lang.label.update,noCaps:!0,onClick:u})])]}}const oo=Object.prototype.toString,Ge=Object.prototype.hasOwnProperty,so=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(e=>"[object "+e+"]"));function yt(e){if(e!==Object(e)||so.has(oo.call(e))===!0||e.constructor&&Ge.call(e,"constructor")===!1&&Ge.call(e.constructor.prototype,"isPrototypeOf")===!1)return!1;let l;for(l in e);return l===void 0||Ge.call(e,l)}function Ot(){let e,l,a,u,r,c,f=arguments[0]||{},_=1,d=!1;const s=arguments.length;for(typeof f=="boolean"&&(d=f,f=arguments[1]||{},_=2),Object(f)!==f&&typeof f!="function"&&(f={}),s===_&&(f=this,_--);_<s;_++)if((e=arguments[_])!==null)for(l in e)a=f[l],u=e[l],f!==u&&(d===!0&&u&&((r=Array.isArray(u))||yt(u)===!0)?(r===!0?c=Array.isArray(a)===!0?a:[]:c=yt(a)===!0?a:{},f[l]=Ot(d,c,u)):u!==void 0&&(f[l]=u));return f}const io=Le({name:"QEditor",props:{...Ct,...Cl,modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(l=>l.length),default:()=>[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},emits:[...kl,"update:modelValue","keydown","click","focus","blur","dropdownShow","dropdownHide","dropdownBeforeShow","dropdownBeforeHide","linkShow","linkHide"],setup(e,{slots:l,emit:a}){const{proxy:u}=Qe(),{$q:r}=u,c=qt(e,r),{inFullscreen:f,toggleFullscreen:_}=ql(),d=rl(),s=Q(null),i=Q(null),m=Q(null),q=Q(!1),E=P(()=>!e.readonly&&!e.disable);let T,y,v=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),T=window.getComputedStyle(document.body).fontFamily;const p=P(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),A=P(()=>({type:"a",flat:e.toolbarOutline!==!0&&e.toolbarPush!==!0,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!E.value,size:"sm"})),L=P(()=>{const b=r.lang.editor,w=r.iconSet.editor;return{bold:{cmd:"bold",icon:w.bold,tip:b.bold,key:66},italic:{cmd:"italic",icon:w.italic,tip:b.italic,key:73},strike:{cmd:"strikeThrough",icon:w.strikethrough,tip:b.strikethrough,key:83},underline:{cmd:"underline",icon:w.underline,tip:b.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:w.unorderedList,tip:b.unorderedList},ordered:{cmd:"insertOrderedList",icon:w.orderedList,tip:b.orderedList},subscript:{cmd:"subscript",icon:w.subscript,tip:b.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:w.superscript,tip:b.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:F=>F.caret&&!F.caret.can("link"),icon:w.hyperlink,tip:b.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:w.toggleFullscreen,tip:b.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:w.viewSource,tip:b.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:w.quote,tip:b.quote,key:81},left:{cmd:"justifyLeft",icon:w.left,tip:b.left},center:{cmd:"justifyCenter",icon:w.center,tip:b.center},right:{cmd:"justifyRight",icon:w.right,tip:b.right},justify:{cmd:"justifyFull",icon:w.justify,tip:b.justify},print:{type:"no-state",cmd:"print",icon:w.print,tip:b.print,key:80},outdent:{type:"no-state",disable:F=>F.caret&&!F.caret.can("outdent"),cmd:"outdent",icon:w.outdent,tip:b.outdent},indent:{type:"no-state",disable:F=>F.caret&&!F.caret.can("indent"),cmd:"indent",icon:w.indent,tip:b.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:w.removeFormat,tip:b.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:w.hr,tip:b.hr},undo:{type:"no-state",cmd:"undo",icon:w.undo,tip:b.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:w.redo,tip:b.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:w.heading1||w.heading,tip:b.heading1,htmlTip:`<h1 class="q-ma-none">${b.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:w.heading2||w.heading,tip:b.heading2,htmlTip:`<h2 class="q-ma-none">${b.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:w.heading3||w.heading,tip:b.heading3,htmlTip:`<h3 class="q-ma-none">${b.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:w.heading4||w.heading,tip:b.heading4,htmlTip:`<h4 class="q-ma-none">${b.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:w.heading5||w.heading,tip:b.heading5,htmlTip:`<h5 class="q-ma-none">${b.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:w.heading6||w.heading,tip:b.heading6,htmlTip:`<h6 class="q-ma-none">${b.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:w.heading,tip:b.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:w.code,htmlTip:`<code>${b.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:w.size1||w.size,tip:b.size1,htmlTip:`<font size="1">${b.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:w.size2||w.size,tip:b.size2,htmlTip:`<font size="2">${b.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:w.size3||w.size,tip:b.size3,htmlTip:`<font size="3">${b.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:w.size4||w.size,tip:b.size4,htmlTip:`<font size="4">${b.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:w.size5||w.size,tip:b.size5,htmlTip:`<font size="5">${b.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:w.size6||w.size,tip:b.size6,htmlTip:`<font size="6">${b.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:w.size7||w.size,tip:b.size7,htmlTip:`<font size="7">${b.size7}</font>`}}}),J=P(()=>{const b=e.definitions||{},w=e.definitions||e.fonts?Ot(!0,{},L.value,b,ao(T,r.lang.editor.defaultFont,r.iconSet.editor.font,e.fonts)):L.value;return e.toolbar.map(F=>F.map(ee=>{if(ee.options)return{type:"dropdown",icon:ee.icon,label:ee.label,size:"sm",dense:!0,fixedLabel:ee.fixedLabel,fixedIcon:ee.fixedIcon,highlight:ee.highlight,list:ee.list,options:ee.options.map(He=>w[He])};const me=w[ee];return me?me.type==="no-state"||b[ee]&&(me.cmd===void 0||L.value[me.cmd]&&L.value[me.cmd].type==="no-state")?me:Object.assign({type:"toggle"},me):{type:"slot",slot:ee}}))}),N={$q:r,props:e,slots:l,emit:a,inFullscreen:f,toggleFullscreen:_,runCmd:ce,isViewingSource:q,editLinkUrl:m,toolbarBackgroundClass:p,buttonProps:A,contentRef:i,buttons:J,setContent:de};re(()=>e.modelValue,b=>{v!==b&&(v=b,de(b,!0))}),re(m,b=>{a(`link${b?"Show":"Hide"}`)});const ae=P(()=>e.toolbar&&e.toolbar.length!==0),ne=P(()=>{const b={},w=F=>{F.key&&(b[F.key]={cmd:F.cmd,param:F.param})};return J.value.forEach(F=>{F.forEach(ee=>{ee.options?ee.options.forEach(w):w(ee)})}),b}),G=P(()=>f.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),ie=P(()=>`q-editor q-editor--${q.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(f.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(c.value===!0?" q-editor--dark q-dark":"")),_e=P(()=>[e.contentClass,"q-editor__content",{col:f.value,"overflow-auto":f.value||e.maxHeight}]),xe=P(()=>e.disable===!0?{"aria-disabled":"true"}:{});function $e(){if(i.value!==null){const b=`inner${q.value===!0?"Text":"HTML"}`,w=i.value[b];w!==e.modelValue&&(v=w,a("update:modelValue",w))}}function Te(b){if(a("keydown",b),b.ctrlKey!==!0||tt(b)===!0){K();return}const w=b.keyCode,F=ne.value[w];if(F!==void 0){const{cmd:ee,param:me}=F;lt(b),ce(ee,me,!1)}}function V(b){K(),a("click",b)}function se(b){if(i.value!==null){const{scrollTop:w,scrollHeight:F}=i.value;y=F-w}N.caret.save(),a("blur",b)}function ve(b){ul(()=>{i.value!==null&&y!==void 0&&(i.value.scrollTop=i.value.scrollHeight-y)}),a("focus",b)}function Ve(b){const w=s.value;if(w!==null&&w.contains(b.target)===!0&&(b.relatedTarget===null||w.contains(b.relatedTarget)!==!0)){const F=`inner${q.value===!0?"Text":"HTML"}`;N.caret.restorePosition(i.value[F].length),K()}}function Se(b){const w=s.value;w!==null&&w.contains(b.target)===!0&&(b.relatedTarget===null||w.contains(b.relatedTarget)!==!0)&&(N.caret.savePosition(),K())}function Oe(){y=void 0}function Pe(b){N.caret.save()}function de(b,w){if(i.value!==null){w===!0&&N.caret.savePosition();const F=`inner${q.value===!0?"Text":"HTML"}`;i.value[F]=b,w===!0&&(N.caret.restorePosition(i.value[F].length),K())}}function ce(b,w,F=!0){be(),N.caret.restore(),N.caret.apply(b,w,()=>{be(),N.caret.save(),F&&K()})}function K(){setTimeout(()=>{m.value=null,u.$forceUpdate()},1)}function be(){dl(()=>{var b;(b=i.value)==null||b.focus({preventScroll:!0})})}function fe(){return i.value}return xt(()=>{N.caret=u.caret=new eo(i.value,N),de(e.modelValue),K(),document.addEventListener("selectionchange",Pe)}),ze(()=>{document.removeEventListener("selectionchange",Pe)}),Object.assign(u,{runCmd:ce,refreshToolbar:K,focus:be,getContentEl:fe}),()=>{let b;if(ae.value){const w=[j("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+p.value},lo(N))];m.value!==null&&w.push(j("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+p.value},no(N))),b=j("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},w)}return j("div",{ref:s,class:ie.value,style:{height:f.value===!0?"100%":null},...xe.value,onFocusin:Ve,onFocusout:Se},[b,j("div",{ref:i,style:G.value,class:_e.value,contenteditable:E.value,placeholder:e.placeholder,...d.listeners.value,onInput:$e,onKeydown:Te,onClick:V,onBlur:se,onFocus:ve,onMousedown:Oe,onTouchstartPassive:Oe})])}}}),ro={class:"flex items-center justify-between q-pa-md bg-white"},uo={class:"flex q-gutter-sm"},co={__name:"EngagementCard",props:{data:Object,canCreateEngagementCard:Boolean,canDownloadEngagementCard:Boolean},setup(e){var s,i;const l=e,a=pe({html_content:((i=(s=l.data)==null?void 0:s.engagement_card)==null?void 0:i.content)||""}),u=Q(!1),r=Q(""),c=he(),f=async()=>{u.value=!0;try{axios.get(route("engagement-card.show",l.data)).then(m=>{r.value=m.data,a.html_content=m.data})}catch{c.notify({type:"negative",message:"Failed to load card data"})}},_=()=>{a.post(route("engagement-card.store",l.data),{preserveScroll:!0,onSuccess:()=>{u.value=!1,c.notify({type:"positive",message:"Card saved successfully!"})}})},d=async()=>{try{const m=await axios.get(route("engagement-card.download",l.data),{responseType:"blob"}),q=window.URL.createObjectURL(new Blob([m.data],{type:"application/pdf"})),E=document.createElement("a");E.href=q,E.setAttribute("download",`EngagementCard_${l.data.id}.pdf`),document.body.appendChild(E),E.click(),E.remove()}catch{c.notify({type:"negative",message:"Failed to download PDF."})}};return(m,q)=>(g(),D(H,{class:"q-mt-md"},{default:n(()=>[o("div",ro,[q[2]||(q[2]=o("div",null,[o("div",{class:"stitle"},"Engagement Card")],-1)),o("div",uo,[e.data.engagement_card&&e.canCreateEngagementCard?(g(),D($,{key:0,color:"primary",icon:"edit",onClick:f})):B("",!0)])]),t(U,null,{default:n(()=>[!e.data.engagement_card&&e.canCreateEngagementCard?(g(),D($,{key:0,color:"primary",label:"Create",onClick:f})):B("",!0),e.data.engagement_card&&e.canDownloadEngagementCard?(g(),D($,{key:1,color:"primary",label:"Download",onClick:d})):B("",!0),t(qe,{modelValue:u.value,"onUpdate:modelValue":q[1]||(q[1]=E=>u.value=E),persistent:""},{default:n(()=>[t(H,{style:{width:"1000px","max-width":"100vw"}},{default:n(()=>[t(U,{class:"row items-center justify-between bg-primary text-white"},{default:n(()=>[q[3]||(q[3]=o("div",{class:"text-h6"},"Engagement Card",-1)),ye(t($,{dense:"",flat:"",icon:"close"},null,512),[[Ce]])]),_:1,__:[3]}),t(U,{style:{"flex-grow":"1",overflow:"auto",padding:"0"}},{default:n(()=>[t(io,{modelValue:x(a).html_content,"onUpdate:modelValue":q[0]||(q[0]=E=>x(a).html_content=E),style:{width:"100%","max-height":"1100px"}},null,8,["modelValue"])]),_:1}),t(ue,{align:"right",style:{"flex-shrink":"0"}},{default:n(()=>[t($,{color:"primary",label:"Save",onClick:_})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}))}},fo={class:"flex items-center justify-between q-pa-md bg-white"},mo={class:"row q-col-gutter-md"},go={class:"col-12 col-md-4"},vo={class:"column items-center q-gutter-sm"},po={class:"stitle"},bo={class:"q-mt-lg full-width"},yo={class:"q-mt-lg flex items-center justify-center"},ho={class:"col-12 col-md-8"},_o={class:"row q-col-gutter-md"},xo={class:"col-12 col-md-7"},wo={class:"col-12 col-md-5"},Lo=Object.assign({layout:hl},{__name:"Show",props:["data","office","documentTypes","canCreate","canEdit","canDelete","canCreateRemuneration","canCreateTransfer","canDeleteDocument","canDeleteTransfer","canCreateEngagementCard","canDownloadEngagementCard","canRequestEdit","canRequestDelete","canRequestTransfer","canApproveEdit","canApproveTransfer","canApproveDelete","canEditDelete","canRequestDocumentEdit","canApproveDocumentEdit"],setup(e){const{formatDate:l}=Ee(),a=e,u=Q("document"),r=Q(!1),c=P(()=>{var v;return!!((v=mt().props.roles)!=null&&v.find(p=>p==="Admin"))}),f=P(()=>{var v;return!!((v=mt().props.roles)!=null&&v.find(p=>p==="Manager"))}),_=P(()=>{const v=a.data.edit_requests;return v&&v.length?v[v.length-1]:null}),d=P(()=>{const v=a.data.deletion_requests;return v&&v.length?v[v.length-1]:null}),s=P(()=>{const v=a.data.transfer_requests;return v&&v.length?v[v.length-1]:null}),i=P(()=>{const v=a.data.document_request;return v&&v.length?v[v.length-1]:null});function m(v){if(!v)return!0;const p=new Date,A=new Date(v);return(p-A)/(1e3*60*60*24)<=15}const q=P(()=>_.value?c.value?_.value.approval_status==="pending":f.value?_.value.approval_status!=="pending"&&m(_.value.approval_date):!1:!1),E=P(()=>d.value?c.value?d.value.approval_status==="pending":f.value?d.value.approval_status!=="pending"&&m(d.value.approval_date):!1:!1),T=P(()=>s.value?c.value?s.value.approval_status==="pending":f.value?s.value.approval_status!=="pending"&&m(s.value.approval_date):!1:!1),y=P(()=>i.value?c.value?i.value.approval_status==="pending":f.value?i.value.approval_status!=="pending"&&m(i.value.approval_date):!1:!1);return(v,p)=>(g(),D(Ft,{class:"container",padding:""},{default:n(()=>[o("div",fo,[o("div",null,[p[5]||(p[5]=o("div",{class:"stitle"},"Employee Detail",-1)),t(Nt,{class:"text-dark"},{default:n(()=>[t(ut,{onClick:p[0]||(p[0]=A=>v.$inertia.get(v.route("dashboard"))),icon:"dashboard",label:"Dashboard"}),t(ut,{label:"All Employees",to:v.route("mis.import")},null,8,["to"])]),_:1})])]),p[24]||(p[24]=o("br",null,null,-1)),t(H,{flat:""},{default:n(()=>[t(U,null,{default:n(()=>[o("div",mo,[o("div",go,[t(H,{class:"q-pa-md"},{default:n(()=>{var A,L,J,N,ae,ne;return[o("div",vo,[t(cl,{size:"96px"},{default:n(()=>{var G,ie;return[(G=e.data)!=null&&G.avatar?(g(),D(Qt,{key:0,src:`/storage/${(ie=e.data)==null?void 0:ie.avatar}`},null,8,["src"])):(g(),D(Re,{key:1,name:"person",color:"primary"}))]}),_:1}),o("div",po,k(e.data.name),1),t(_l,{color:((L=(A=e.data)==null?void 0:A.employment_type)==null?void 0:L.trim())==="Deleted"?"red-6":"grey-6","text-color":"white",class:"stitle",label:((N=(J=e.data)==null?void 0:J.employment_type)==null?void 0:N.trim())==="MR"?"Muster Roll":((ne=(ae=e.data)==null?void 0:ae.employment_type)==null?void 0:ne.trim())==="PE"?"Provisional":"Deleted",style:{padding:"8px"},rounded:""},null,8,["color","label"]),o("div",bo,[t(at,{class:"rounded-borders"},{default:n(()=>{var G,ie,_e,xe,$e,Te;return[t(M,null,{default:n(()=>[t(S,{class:"text-label"},{default:n(()=>p[6]||(p[6]=[h("Details")])),_:1,__:[6]})]),_:1}),t(M,null,{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>p[7]||(p[7]=[h("Employee Code:")])),_:1,__:[7]}),t(S,{class:"text-label"},{default:n(()=>{var V;return[h(k((V=e.data)==null?void 0:V.employee_code),1)]}),_:1})]),_:1}),t(M,null,{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>p[8]||(p[8]=[h("Name:")])),_:1,__:[8]}),t(S,{class:"text-label"},{default:n(()=>{var V;return[h(k((V=e.data)==null?void 0:V.name),1)]}),_:1})]),_:1}),t(M,null,{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>p[9]||(p[9]=[h("Email:")])),_:1,__:[9]}),t(S,{class:"text-label"},{default:n(()=>[h(k(e.data.email),1)]),_:1})]),_:1}),t(M,null,{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>p[10]||(p[10]=[h("Contact:")])),_:1,__:[10]}),t(S,{class:"text-label"},{default:n(()=>{var V;return[h(k((V=e.data)==null?void 0:V.mobile),1)]}),_:1})]),_:1}),t(M,null,{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>p[11]||(p[11]=[h("Parent Name:")])),_:1,__:[11]}),t(S,{class:"text-label"},{default:n(()=>{var V;return[h(k((V=e.data)==null?void 0:V.parent_name),1)]}),_:1})]),_:1}),t(M,null,{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>p[12]||(p[12]=[h("Date of Birth:")])),_:1,__:[12]}),t(S,{class:"text-label"},{default:n(()=>[h(k(x(l)(e.data.date_of_birth)),1)]),_:1})]),_:1}),t(M,null,{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>p[13]||(p[13]=[h("Address:")])),_:1,__:[13]}),t(S,{class:"text-label"},{default:n(()=>{var V;return[h(k(((V=e.data)==null?void 0:V.address)??"N/A"),1)]}),_:1})]),_:1}),t(M,null,{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>p[14]||(p[14]=[h("Education Qln.:")])),_:1,__:[14]}),t(S,{class:"text-label"},{default:n(()=>{var V;return[h(k((V=e.data)==null?void 0:V.educational_qln),1)]}),_:1})]),_:1}),t(M,null,{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>p[15]||(p[15]=[h("Technical Qln.:")])),_:1,__:[15]}),t(S,{class:"text-label"},{default:n(()=>{var V;return[h(k((V=e.data)==null?void 0:V.technical_qln),1)]}),_:1})]),_:1}),t(M,null,{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>p[16]||(p[16]=[h("Designation:")])),_:1,__:[16]}),t(S,{class:"text-label"},{default:n(()=>{var V;return[h(k((V=e.data)==null?void 0:V.designation),1)]}),_:1})]),_:1}),t(M,null,{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>p[17]||(p[17]=[h("Office:")])),_:1,__:[17]}),t(S,{class:"text-label"},{default:n(()=>{var V,se;return[h(k((se=(V=e.data)==null?void 0:V.office)==null?void 0:se.name),1)]}),_:1})]),_:1}),t(M,null,{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>p[18]||(p[18]=[h("Office Type:")])),_:1,__:[18]}),t(S,{class:"text-label"},{default:n(()=>{var V,se;return[h(k((se=(V=e.data)==null?void 0:V.office)==null?void 0:se.type),1)]}),_:1})]),_:1}),t(M,null,{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>p[19]||(p[19]=[h("Workplace:")])),_:1,__:[19]}),t(S,{class:"text-label"},{default:n(()=>{var V;return[h(k((V=e.data)==null?void 0:V.name_of_workplace),1)]}),_:1})]),_:1}),t(M,null,{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>p[20]||(p[20]=[h("Date of Initial Engagement:")])),_:1,__:[20]}),t(S,{class:"text-label"},{default:n(()=>{var V;return[h(k(x(l)((V=e.data)==null?void 0:V.date_of_engagement)||"N/A"),1)]}),_:1})]),_:1}),((ie=(G=e.data)==null?void 0:G.employment_type)==null?void 0:ie.trim())==="MR"?(g(),D(M,{key:0},{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>p[21]||(p[21]=[h("Post Per Qualification:")])),_:1,__:[21]}),t(S,{class:"text-label"},{default:n(()=>{var V;return[h(k((V=e.data)==null?void 0:V.post_per_qualification),1)]}),_:1})]),_:1})):B("",!0),((xe=(_e=e.data)==null?void 0:_e.employment_type)==null?void 0:xe.trim())==="MR"?(g(),D(M,{key:1},{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>p[22]||(p[22]=[h("Skill Category:")])),_:1,__:[22]}),t(S,{class:"text-label"},{default:n(()=>{var V;return[h(k((V=e.data)==null?void 0:V.skill_category),1)]}),_:1})]),_:1})):B("",!0),((Te=($e=e.data)==null?void 0:$e.employment_type)==null?void 0:Te.trim())==="MR"?(g(),D(M,{key:2},{default:n(()=>[t(S,{side:"",class:"subtitle"},{default:n(()=>p[23]||(p[23]=[h("Skill at Present:")])),_:1,__:[23]}),t(S,{class:"text-label"},{default:n(()=>{var V;return[h(k((V=e.data)==null?void 0:V.skill_at_present),1)]}),_:1})]),_:1})):B("",!0)]}),_:1}),o("div",yo,[e.canEdit?(g(),D($,{key:0,label:"Edit",onClick:p[1]||(p[1]=G=>v.$inertia.get(v.route("employee.edit",e.data))),class:"q-mr-md",color:"primary"})):B("",!0),e.canDelete&&e.data.employment_type!=="Deleted"?(g(),D($,{key:1,label:"Delete",color:"negative",unelevated:"",onClick:p[2]||(p[2]=G=>r.value=!0)})):B("",!0)])])])]}),_:1})]),t(In,{modelValue:r.value,"onUpdate:modelValue":p[3]||(p[3]=A=>r.value=A),employee:e.data},null,8,["modelValue","employee"]),o("div",ho,[t(Vl,{modelValue:u.value,"onUpdate:modelValue":p[4]||(p[4]=A=>u.value=A),class:"text-primary bg-white shadow-1 q-pa-sm",dense:"",align:"center"},{default:n(()=>[t(je,{name:"document",label:"Documents",icon:"drive_folder_upload",alert:y.value,"alert-icon":"circle","alert-color":"red",class:ge(y.value?"text-red":"")},null,8,["alert","class"]),c.value&&e.canApproveEdit?(g(),D(je,{key:0,name:"edit",label:"Edit Request",icon:"edit",alert:q.value,"alert-icon":"circle","alert-color":"red",class:ge(q.value?"text-red":"")},null,8,["alert","class"])):B("",!0),c.value&&e.canApproveTransfer?(g(),D(je,{key:1,name:"transfer_request",label:"Transfer Request",icon:"input",alert:T.value,"alert-icon":"circle","alert-color":"red",class:ge(T.value?"text-red":"")},null,8,["alert","class"])):B("",!0),c.value&&e.canApproveDelete?(g(),D(je,{key:2,name:"deletion",label:"Deletion Request",icon:"delete_sweep",alert:E.value,"alert-icon":"circle","alert-color":"red",class:ge(E.value?"text-red":"")},null,8,["alert","class"])):B("",!0),f.value&&e.canRequestEdit?(g(),D(je,{key:3,name:"request_edit",label:"Request Edit",icon:"edit",alert:q.value,"alert-icon":"circle","alert-color":"red",class:ge(q.value?"text-red":"")},null,8,["alert","class"])):B("",!0),f.value&&e.canRequestTransfer?(g(),D(je,{key:4,name:"request_transfer",label:"Request Transfer",icon:"input"})):B("",!0),f.value&&e.canRequestDelete?(g(),D(je,{key:5,name:"request_deletion",label:"Request Deletion",icon:"delete_sweep"})):B("",!0)]),_:1},8,["modelValue"]),u.value==="document"?(g(),D(Kl,{key:0,data:e.data,documentTypes:e.documentTypes,canDeleteDocument:e.canDeleteDocument,canApproveDocumentEdit:e.canApproveDocumentEdit,canRequestDocumentEdit:e.canRequestDocumentEdit},null,8,["data","documentTypes","canDeleteDocument","canApproveDocumentEdit","canRequestDocumentEdit"])):B("",!0),u.value==="edit"?(g(),D(wa,{key:1,data:e.data},null,8,["data"])):B("",!0),u.value==="transfer_request"?(g(),D(sa,{key:2,data:e.data,office:e.office},null,8,["data","office"])):B("",!0),u.value==="deletion"?(g(),D(Ba,{key:3,data:e.data},null,8,["data"])):B("",!0),u.value==="request_edit"?(g(),D(hn,{key:4,data:e.data,documentTypes:e.documentTypes},null,8,["data","documentTypes"])):B("",!0),u.value==="request_transfer"?(g(),D(En,{key:5,data:e.data,office:e.office},null,8,["data","office"])):B("",!0),u.value==="request_deletion"?(g(),D(en,{key:6,data:e.data},null,8,["data"])):B("",!0),o("div",_o,[o("div",xo,[e.data.remuneration_detail?(g(),D(Xn,{key:0,data:e.data,canCreateRemuneration:e.canCreateRemuneration},null,8,["data","canCreateRemuneration"])):B("",!0),t(Qn,{data:e.data,office:e.office,canCreateTransfer:e.canCreateTransfer,canDeleteTransfer:e.canDeleteTransfer},null,8,["data","office","canCreateTransfer","canDeleteTransfer"])]),o("div",wo,[e.data.employment_type==="PE"?(g(),D(co,{key:0,data:e.data,canCreateEngagementCard:e.canCreateEngagementCard,canDownloadEngagementCard:e.canDownloadEngagementCard},null,8,["data","canCreateEngagementCard","canDownloadEngagementCard"])):B("",!0),e.data.employment_type==="Deleted"?(g(),D(Wn,{key:1,deletion:e.data.deletion_detail,canEditDelete:e.canEditDelete},null,8,["deletion","canEditDelete"])):B("",!0)])])])])]),_:1})]),_:1})]),_:1,__:[24]}))}});export{Lo as default};
