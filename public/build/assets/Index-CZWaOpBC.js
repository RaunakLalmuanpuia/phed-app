import{r as h,a as c,d as V,o as f,w as n,e as t,f as I,g as w,i as r,Q as g,q as _,W as Q}from"./app-BXWKz8m6.js";import{Q as y}from"./QForm-C3r1xNUI.js";import{Q as q,a as x}from"./QStepper-BJwd_Ees.js";import{a as O,Q as S}from"./QLayout-T0AkPtrj.js";import{F as P}from"./FrontendLayout-mC6BJo4k.js";import{u as B}from"./use-quasar-CM7wr-kL.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */import"./QSlideTransition-d_caXKTk.js";import"./use-panel-_GuEU7-G.js";import"./touch-nhsbzi5z.js";const k={class:"bg-white"},E={class:"row"},F={class:"col-xs-12 col-sm-6"},N={class:"flex items-center justify-center"},U={class:"flex"},j={class:"flex"},z={key:0,class:"col-xs-12 col-sm-6"},C=Object.assign({layout:P},{__name:"Index",setup(M){const u=B(),d=h(1),a=c({userId:"",errors:{}}),l=c({otp:"",errors:{}}),b=p=>{u.loading.show(),axios.post(route("bio.send"),{...a}).then(e=>{d.value=2}).catch(e=>{var o,s;a.errors=((s=(o=e==null?void 0:e.response)==null?void 0:o.data)==null?void 0:s.errors)||{}}).finally(()=>u.loading.hide())},v=p=>{u.loading.show(),axios.post(route("bio.verify"),{userId:a.userId,...l}).then(e=>{const o=e.data.mobile;o?Q.visit(route("bio.show",{employee:o})):l.errors.otp=["Invalid Otp"]}).catch(e=>{var o,s;l.errors=((s=(o=e==null?void 0:e.response)==null?void 0:o.data)==null?void 0:s.errors)||{}}).finally(()=>u.loading.hide())};return(p,e)=>(f(),V(S,{class:"container"},{default:n(()=>[t("div",k,[t("div",E,[t("div",F,[t("div",N,[t("div",null,[e[5]||(e[5]=t("p",{class:"login-title"},"Employee Bio",-1)),r(q,{modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=o=>d.value=o),vertical:"",color:"accent",flat:"",animated:""},{default:n(()=>[r(x,{name:1,title:"Enter your registered mobile no",icon:"o_email",done:d.value>1},{default:n(()=>[r(y,{style:{"max-width":"750px"},class:"column q-gutter-sm q-my-lg",onSubmit:b},{default:n(()=>{var o,s,m;return[e[3]||(e[3]=t("span",{class:"text-caption text-grey-7 text-weight-medium"},"Enter your registered mobile no",-1)),r(g,{placeholder:"Mobile",dense:"",modelValue:a.userId,"onUpdate:modelValue":e[0]||(e[0]=i=>a.userId=i),outlined:"","no-error-icon":"",error:!!((o=a.errors)!=null&&o.userId),"error-message":(m=(s=a.errors)==null?void 0:s.userId)==null?void 0:m.toString(),rules:[i=>!!i||"Mobile is required"]},null,8,["modelValue","error","error-message","rules"]),t("div",U,[r(_,{class:"sized-btn",color:"btn-primary",type:"submit",rounded:"",label:"Send OTP","no-caps":""})])]}),_:1,__:[3]})]),_:1},8,["done"]),r(x,{name:2,title:"Verify OTP",icon:"o_verified",done:d.value>2},{default:n(()=>[r(y,{style:{"max-width":"750px"},class:"column q-gutter-sm q-my-lg",onSubmit:v},{default:n(()=>{var o,s,m;return[e[4]||(e[4]=t("span",{class:"text-caption text-grey-7 text-weight-medium"},"Verify OTP",-1)),r(g,{placeholder:"OTP",dense:"",modelValue:l.otp,"onUpdate:modelValue":e[1]||(e[1]=i=>l.otp=i),outlined:"","no-error-icon":"",error:!!((o=l.errors)!=null&&o.otp),"error-message":(m=(s=l.errors)==null?void 0:s.otp)==null?void 0:m.toString(),rules:[i=>!!i||"OTP is required"]},null,8,["modelValue","error","error-message","rules"]),t("div",j,[r(_,{class:"sized-btn",color:"btn-primary",type:"submit",rounded:"",label:"Verify OTP","no-caps":""})])]}),_:1,__:[4]})]),_:1},8,["done"])]),_:1},8,["modelValue"])])])]),p.$q.screen.gt.sm?(f(),I("div",z,[r(O,{height:"480",width:"580",src:"/images/phed_logo.png"})])):w("",!0)])])]),_:1}))}}),Y=T(C,[["__scopeId","data-v-77639001"]]);export{Y as default};
