import{Q as rt,a as Be}from"./QBreadcrumbs-B2QfNl3X.js";import{Q as w}from"./QSelect-CCVo7Y3Q.js";import{x as it,r as _,d as D,o as d,w as i,e as l,i as a,g as u,y as O,z as P,p as Fe,q as b,h as Ne,t as v,A as dt,D as je,u as o,Q as c,b6 as mt,f as p,F as ut,v as ct,G as pt,br as gt,aA as _t}from"./app-BUqhnzPm.js";import{a as Ie,Q as ft}from"./QLayout-CwzJPS3D.js";import{Q as W}from"./QTd-Cpho22aX.js";import{Q as vt}from"./QTable-Dj5hSTBf.js";import{Q as yt}from"./QFile-BJGq-Gaf.js";import{_ as bt,C as xt}from"./BackendLayout-B4VKV5U2.js";import{u as kt}from"./use-quasar-Gqu1uUMC.js";import{u as qt}from"./useUtils-ppGv4Db3.js";import"./QChip-CM8_4_HM.js";import"./format-C4QW3o8r.js";/* empty css            */import"./QMarkupTable-Cc6WqFhy.js";import"./use-fullscreen-Be-XHZoV.js";import"./touch-QnEEk1Q2.js";import"./QSlideTransition-C3WU2b4u.js";import"./date-Byi8jsRW.js";const Vt={class:"flex items-center justify-between q-pa-md bg-white"},wt={class:"q-pa-md"},Dt={class:"row q-col-gutter-md"},Ut={class:"row q-gutter-sm col-12 col-sm justify-end"},ht={class:"flex items-center gap-3"},Ct={class:"text-body1"},Et={class:"text-caption text-grey"},Pt={class:"text-caption text-grey"},Qt={class:"grid grid-cols-2 gap-4 items-start relative"},St={class:"row q-mb-sm items-center"},Mt={class:"col-8 text-body1"},Rt={key:0,class:"row q-mb-sm items-center"},Tt={key:1,class:"row q-mb-sm items-center"},Yt={key:2,class:"row q-mb-sm items-center"},Bt={key:3,class:"row q-mb-sm items-center"},Ft={class:"col-8 text-body1"},Nt={key:4,class:"row q-mb-sm items-center"},jt={class:"col-8 text-body1"},It={class:"row q-mb-sm items-center"},$t={class:"col-8 text-body1"},At={class:"row q-mb-sm items-center"},Ot={class:"col-8 text-body1"},Wt={class:"row q-mb-sm items-center"},Gt={class:"col-8 text-body1"},zt={class:"row q-mb-sm items-center"},Kt={class:"col-8 text-body1"},Lt={class:"row q-mb-sm items-center"},Jt={class:"col-8 text-body1"},Ht={class:"row q-mb-sm items-center"},Xt={class:"col-8 text-body1"},Zt={class:"row q-mb-sm items-center"},el={class:"col-8 text-body1"},tl={class:"row q-mb-sm items-center"},ll={class:"col-8 text-body1"},ol={key:5,class:"row q-mb-sm items-center"},sl={class:"col-8 text-body1"},al={key:6,class:"row q-mb-sm items-center"},nl={class:"col-8 text-body1"},rl={class:"row q-mb-sm items-center"},il={class:"col-8 text-body1"},dl={class:"row q-mb-sm items-center"},ml={class:"col-8 text-body1"},ul={key:7,class:"row q-mb-sm items-center"},cl={class:"col-8 text-body1"},pl={key:8,class:"row q-mb-sm items-center"},gl={class:"col-8 text-body1"},_l={key:9,class:"row q-mb-sm items-center"},fl={class:"col-8 text-body1"},vl={key:10,class:"row q-mb-sm items-center"},yl={class:"col-8 text-body1"},bl={key:11,class:"row q-mb-sm items-center"},xl={class:"col-8 text-body1"},kl={class:"q-pa-md"},ql={class:"row items-center q-gutter-md"},Vl={class:"rounded-borders overflow-hidden",style:{"background-color":"#8a82f7"}},wl={class:"column q-gutter-sm"},Dl={class:"row q-gutter-md"},Ul={class:"text-subtitle2 q-mb-xs"},$e="https://storage.googleapis.com/a1aa/image/089155c9-d1c1-4945-5728-c9bdb3576171.jpg",Gl=Object.assign({layout:bt},{__name:"Document",props:["office","documentTypes","canUpdateDocument"],setup(Q){const{educationalQualifications:Ae,designations:Oe,skills:G,formatDate:We}=qt(),x=kt(),t=it({name:"",email:"",mobile:"",parent_name:"",date_of_birth:"",address:"",designation:"",post_assigned:"",employment_type:"",educational_qln:"",technical_qln:"",name_of_workplace:"",post_per_qualification:"",engagement_card_no:"",date_of_engagement:"",date_of_retirement:"",skill_category:"",skill_at_present:"",documents:[],deletedDocuments:[],avatar:null,delete_avatar:!1}),f=_({offices:[],type:null,scheme:null}),Ge=[{label:"MR",value:"MR"},{label:"PE",value:"PE"},{label:"WC",value:"WC"}],ze=[{label:"No",value:"no"},{label:"Yes",value:"yes"}],B=_(""),S=_([]),F=_(!1),C=_(!1),N=_(!1),k=_(null);function Ke(){if(!f.value.offices||f.value.offices.length===0){x.notify({type:"negative",message:"Please select an office"});return}N.value=!0,S.value=[],setTimeout(()=>{k.value&&k.value.requestServerInteraction()})}function j(){U.value.page=1,k.value&&k.value.requestServerInteraction()}function I(){S.value=[],N.value=!1}function Le(s){(!s||s.length===0)&&I()}const $=_(null);function Je(){var s;(s=$.value)==null||s.click()}function He(s){const e=s.target.files[0];if(e&&e.size<=800*1024){const n=new FileReader;n.onload=()=>{E.value=n.result},t.avatar=e,n.readAsDataURL(e)}else alert("File too large or invalid type. Max size: 800KB.")}function Xe(){E.value=$e,t.avatar=null,$.value.value=null,t.delete_avatar=!0}const E=_(""),Ze=s=>{t.documents[s]&&(t.deletedDocuments||(t.deletedDocuments=[]),t.deletedDocuments.includes(s)||t.deletedDocuments.push(s),t.documents[s]={file:null,url:null})},U=_({sortBy:"name",descending:!1,page:1,rowsPerPage:50,rowsNumber:0}),et=[{name:"employee",label:"Employee",align:"left",field:"employee",sortable:!0},{name:"employment_type",label:"Employment Type",field:"employment_type",align:"left",sortable:!0},{name:"designation",label:"Designation",field:"designation",align:"left",sortable:!0},{name:"post_assigned",label:"Post Assigned",field:"post_assigned",align:"left",sortable:!0},{name:"office",label:"Office",field:"office.name",align:"left"},{name:"actions",label:"Actions",align:"center"}],M=_(null),m=_(null),tt=s=>{m.value=s,M.value=s.id,t.name=s.name,t.email=s.email,t.mobile=s.mobile,t.parent_name=s.parent_name,t.date_of_birth=s.date_of_birth,t.address=s.address,t.designation=s.designation,t.post_assigned=s.post_assigned,t.technical_qln=s.technical_qln,t.educational_qln=s.educational_qln,t.name_of_workplace=s.name_of_workplace,t.post_per_qualification=s.post_per_qualification,t.engagement_card_no=s.engagement_card_no,t.date_of_engagement=s.date_of_engagement,t.date_of_retirement=s.date_of_retirement,t.skill_category=s.skill_category,t.skill_at_present=s.skill_at_present,t.documents=[],s.documents&&s.documents.length>0&&s.documents.forEach(e=>{t.documents[e.document_type_id]={url:`/storage/${e.path}`,name:e.name,type:e.type,file:null}}),s!=null&&s.avatar?E.value=`/storage/${s.avatar}`:E.value=$e,C.value=!0},lt=(s,e)=>{t.documents[s]={...t.documents[s],file:e}};function ot(s){const{page:e,rowsPerPage:n,sortBy:g,descending:h}=s.pagination;F.value=!0,axios.get(route("mis.json-employee-document"),{params:{filter:{...f.value},page:e,rowsPerPage:n,search:B.value,sortBy:g,descending:h}}).then(y=>{const{list:q}=y.data,{data:V,per_page:R,current_page:T,total:Y}=q;S.value=V,U.value.page=T,U.value.rowsNumber=Y,U.value.rowsPerPage=R}).catch(y=>{var q,V;x.notify({type:"negative",message:(V=(q=y==null?void 0:y.response)==null?void 0:q.data)==null?void 0:V.message})}).finally(()=>F.value=!1)}const st=()=>{if(!M.value)return;const s=new FormData;s.append("name",t.name||""),s.append("email",t.email||""),s.append("mobile",t.mobile||""),s.append("parent_name",t.parent_name||""),s.append("date_of_birth",t.date_of_birth||""),s.append("address",t.address||""),s.append("designation",t.designation||""),s.append("post_assigned",t.post_assigned||""),s.append("educational_qln",t.educational_qln||""),s.append("technical_qln",t.technical_qln||""),s.append("name_of_workplace",t.name_of_workplace||""),s.append("post_per_qualification",t.post_per_qualification||""),s.append("engagement_card_no",t.engagement_card_no||""),s.append("date_of_engagement",t.date_of_engagement||""),s.append("date_of_retirement",t.date_of_retirement||""),s.append("skill_category",t.skill_category||""),s.append("skill_at_present",t.skill_at_present||""),t.deletedDocuments&&t.deletedDocuments.length>0&&t.deletedDocuments.forEach(e=>{s.append("deleted_documents[]",e)}),Object.entries(t.documents).forEach(([e,n])=>{n!=null&&n.file&&s.append(`documents[${e}]`,n.file)}),t.delete_avatar&&s.append("delete_avatar",1),t.avatar&&typeof t.avatar!="string"&&s.append("avatar",t.avatar),axios.post(route("document.update",M.value),s,{headers:{"Content-Type":"multipart/form-data"}}).then(({data:e})=>{const{employee:n,message:g}=e;x.notify({type:"positive",message:g||"Employee saved successfully."}),k.value&&k.value.requestServerInteraction(),C.value=!1,t.reset(),M.value=null}).catch(e=>{var n;if(e.response)if(e.response.status===422){const g=e.response.data.errors,h=g?Object.values(g)[0][0]:"Validation failed.";x.notify({type:"negative",message:h})}else x.notify({type:"negative",message:((n=e.response.data)==null?void 0:n.message)||"Something went wrong!"});else e.request?x.notify({type:"negative",message:"Upload failed: File too large or server did not respond."}):x.notify({type:"negative",message:"Unexpected error occurred."})})},at=s=>{window.open(s,"_blank")},nt=()=>{window.history.back()};return(s,e)=>(d(),D(ft,{class:"container",padding:""},{default:i(()=>[l("div",Vt,[l("div",null,[e[25]||(e[25]=l("div",{class:"stitle"},"Employee Documents",-1)),a(rt,{class:"text-dark"},{default:i(()=>[a(Be,{onClick:e[0]||(e[0]=n=>s.$inertia.get(s.route("dashboard"))),icon:"dashboard",label:"Dashboard",class:"cursor-pointer"}),a(Be,{class:"cursor-pointer",label:"Go Back",onClick:nt})]),_:1})])]),e[53]||(e[53]=l("br",null,null,-1)),a(O,{flat:""},{default:i(()=>[a(P,null,{default:i(()=>[l("div",wt,[a(O,{flat:"",class:"q-mt-md bg-white shadow-1"},{default:i(()=>[a(P,null,{default:i(()=>[e[26]||(e[26]=l("div",{class:"text-subtitle1 text-weight-medium text-grey-8 q-mb-md"}," Office Filter ",-1)),l("div",Dt,[a(w,{label:"Select Office(s)",class:"col-12 col-sm-4",modelValue:f.value.offices,"onUpdate:modelValue":[e[1]||(e[1]=n=>f.value.offices=n),Le],options:Q.office,"option-label":"name","option-value":"id","emit-value":"","map-options":"",outlined:"",dense:"",clearable:"",onClear:I},null,8,["modelValue","options"]),a(w,{label:"Select Employment Type",class:"col-12 col-sm-4",modelValue:f.value.type,"onUpdate:modelValue":[e[2]||(e[2]=n=>f.value.type=n),j],options:Ge,"emit-value":"","map-options":"",outlined:"",dense:"",clearable:"",onClear:I},null,8,["modelValue"]),f.value.type==="MR"?(d(),D(w,{key:0,label:"Is Scheme?",class:"col-12 col-sm-4",modelValue:f.value.scheme,"onUpdate:modelValue":[e[3]||(e[3]=n=>f.value.scheme=n),j],options:ze,"emit-value":"","map-options":"",outlined:"",dense:"",clearable:""},null,8,["modelValue"])):u("",!0)])]),_:1,__:[26]}),a(Fe),a(P,{class:"row items-center justify-between q-gutter-md"},{default:i(()=>[l("div",Ut,[Q.canUpdateDocument?(d(),D(b,{key:0,label:"Get Employee",color:"primary",onClick:Ke})):u("",!0)])]),_:1})]),_:1})])]),_:1})]),_:1}),e[54]||(e[54]=l("br",null,null,-1)),N.value?(d(),D(vt,{key:0,ref_key:"empTable",ref:k,title:"Employees Document",rows:S.value,columns:et,"row-key":"id",loading:F.value,pagination:U.value,"onUpdate:pagination":e[5]||(e[5]=n=>U.value=n),"rows-per-page-options":[5,10,20,50],onRequest:ot},{"top-right":i(()=>[a(c,{dense:"",outlined:"",debounce:"800",modelValue:B.value,"onUpdate:modelValue":[e[4]||(e[4]=n=>B.value=n),j],placeholder:"Search",class:"col-12 col-sm-auto",clearable:""},{append:i(()=>[a(je,{name:"search"})]),_:1},8,["modelValue"])]),"body-cell-employee":i(n=>[a(W,{props:n},{default:i(()=>[l("div",ht,[a(dt,null,{default:i(()=>[n.row.avatar?(d(),D(Ie,{key:0,src:`/storage/${n.row.avatar}`},null,8,["src"])):(d(),D(je,{key:1,name:"person",size:"md",color:"primary"}))]),_:2},1024),l("div",null,[l("div",Ct,v(n.row.name),1),l("div",Et,v(n.row.mobile),1),l("div",Pt,v(o(We)(n.row.date_of_birth)),1)])]),Ne(" "+v(),1)]),_:2},1032,["props"])]),"body-cell-office":i(n=>[a(W,{props:n},{default:i(()=>{var g;return[Ne(v((g=n.row.office)==null?void 0:g.name),1)]}),_:2},1032,["props"])]),"body-cell-actions":i(n=>[a(W,{props:n},{default:i(()=>[Q.canUpdateDocument?(d(),D(b,{key:0,dense:"",flat:"",round:"",color:"primary",icon:"edit",onClick:g=>tt(n.row),"aria-label":"Edit"},null,8,["onClick"])):u("",!0)]),_:2},1032,["props"])]),_:1},8,["rows","loading","pagination"])):u("",!0),a(mt,{modelValue:C.value,"onUpdate:modelValue":e[24]||(e[24]=n=>C.value=n)},{default:i(()=>[a(O,{style:{"min-width":"900px"}},{default:i(()=>[a(P,null,{default:i(()=>e[27]||(e[27]=[l("div",{class:"text-lg font-bold"},"Update Document",-1)])),_:1,__:[27]}),a(P,{class:"q-gutter-md"},{default:i(()=>{var n,g,h,y,q,V,R,T,Y,z,K,L,J,H,X,Z,ee,te,le,oe,se,ae,ne,re,ie,de,me,ue,ce,pe,ge,_e,fe,ve,ye,be,xe,ke,qe,Ve,we,De,Ue,he,Ce,Ee,Pe,Qe,Se,Me,Re;return[l("div",Qt,[l("div",null,[l("div",St,[e[28]||(e[28]=l("div",{class:"col-4 text-subtitle2 text-grey-8"},"Office",-1)),l("div",Mt,v((n=m.value)==null?void 0:n.office.name),1)]),((g=m.value)==null?void 0:g.employment_type)==="WC"?(d(),p("div",Rt,e[29]||(e[29]=[l("div",{class:"col-4 text-subtitle2 text-grey-8"},"Employment Type",-1),l("div",{class:"col-8 text-body1"},"Work Charge Employee",-1)]))):u("",!0),((h=m.value)==null?void 0:h.employment_type)==="PE"?(d(),p("div",Tt,e[30]||(e[30]=[l("div",{class:"col-4 text-subtitle2 text-grey-8"},"Employment Type",-1),l("div",{class:"col-8 text-body1"},"Provisional Employee",-1)]))):u("",!0),((y=m.value)==null?void 0:y.employment_type)==="MR"?(d(),p("div",Yt,e[31]||(e[31]=[l("div",{class:"col-4 text-subtitle2 text-grey-8"},"Employment Type",-1),l("div",{class:"col-8 text-body1"},"Muster Roll Employee",-1)]))):u("",!0),((q=m.value)==null?void 0:q.employment_type)==="MR"?(d(),p("div",Bt,[e[32]||(e[32]=l("div",{class:"col-4 text-subtitle2 text-grey-8"},"Is Scheme",-1)),l("div",Ft,v((V=m.value)!=null&&V.scheme_id?"Yes":"No"),1)])):u("",!0),(R=m.value)!=null&&R.scheme_id?(d(),p("div",Nt,[e[33]||(e[33]=l("div",{class:"col-4 text-subtitle2 text-grey-8"},"Scheme",-1)),l("div",jt,v((Y=(T=m.value)==null?void 0:T.scheme)==null?void 0:Y.name),1)])):u("",!0),l("div",It,[e[34]||(e[34]=l("div",{class:"col-4 text-subtitle2 text-grey-8"},"Name",-1)),l("div",$t,[a(c,{modelValue:o(t).name,"onUpdate:modelValue":e[6]||(e[6]=r=>o(t).name=r),outlined:"",dense:"",error:!!((z=o(t).errors)!=null&&z.name),"error-message":(K=o(t).errors)==null?void 0:K.name},null,8,["modelValue","error","error-message"])])]),l("div",At,[e[35]||(e[35]=l("div",{class:"col-4 text-subtitle2 text-grey-8"},"Email",-1)),l("div",Ot,[a(c,{modelValue:o(t).email,"onUpdate:modelValue":e[7]||(e[7]=r=>o(t).email=r),type:"email",outlined:"",dense:"",error:!!((L=o(t).errors)!=null&&L.email),"error-message":(J=o(t).errors)==null?void 0:J.email},null,8,["modelValue","error","error-message"])])]),l("div",Wt,[e[36]||(e[36]=l("div",{class:"col-4 text-subtitle2 text-grey-8"},"Contact",-1)),l("div",Gt,[a(c,{modelValue:o(t).mobile,"onUpdate:modelValue":e[8]||(e[8]=r=>o(t).mobile=r),mask:"##########",outlined:"",dense:"",error:!!((H=o(t).errors)!=null&&H.mobile),"error-message":(X=o(t).errors)==null?void 0:X.mobile},null,8,["modelValue","error","error-message"])])]),l("div",zt,[e[37]||(e[37]=l("div",{class:"col-4 text-subtitle2 text-grey-8"},"Parent Name",-1)),l("div",Kt,[a(c,{modelValue:o(t).parent_name,"onUpdate:modelValue":e[9]||(e[9]=r=>o(t).parent_name=r),outlined:"",dense:"",error:!!((Z=o(t).errors)!=null&&Z.parent_name),"error-message":(ee=o(t).errors)==null?void 0:ee.parent_name},null,8,["modelValue","error","error-message"])])]),l("div",Lt,[e[38]||(e[38]=l("div",{class:"col-4 text-subtitle2 text-grey-8"},"Date of Birth",-1)),l("div",Jt,[a(c,{modelValue:o(t).date_of_birth,"onUpdate:modelValue":e[10]||(e[10]=r=>o(t).date_of_birth=r),label:"MM/DD/YYYY",type:"date",outlined:"",dense:"",error:!!((te=o(t).errors)!=null&&te.date_of_birth),"error-message":(le=o(t).errors)==null?void 0:le.date_of_birth},null,8,["modelValue","error","error-message"])])]),l("div",Ht,[e[39]||(e[39]=l("div",{class:"col-4 text-subtitle2 text-grey-8"},"Present Address",-1)),l("div",Xt,[a(c,{modelValue:o(t).address,"onUpdate:modelValue":e[11]||(e[11]=r=>o(t).address=r),outlined:"",dense:"",error:!!((oe=o(t).errors)!=null&&oe.address),"error-message":(se=o(t).errors)==null?void 0:se.address},null,8,["modelValue","error","error-message"])])]),l("div",Zt,[e[40]||(e[40]=l("div",{class:"col-4 text-subtitle2 text-grey-8"},"Education Qln.",-1)),l("div",el,[a(w,{modelValue:o(t).educational_qln,"onUpdate:modelValue":e[12]||(e[12]=r=>o(t).educational_qln=r),options:o(Ae),outlined:"",dense:"","emit-value":"","map-options":"",error:!!((ae=o(t).errors)!=null&&ae.educational_qln),"error-message":(ne=o(t).errors)==null?void 0:ne.educational_qln},null,8,["modelValue","options","error","error-message"])])]),l("div",tl,[e[41]||(e[41]=l("div",{class:"col-4 text-subtitle2 text-grey-8"},"Technical Qln.",-1)),l("div",ll,[a(c,{modelValue:o(t).technical_qln,"onUpdate:modelValue":e[13]||(e[13]=r=>o(t).technical_qln=r),outlined:"",dense:"",error:!!((re=o(t).errors)!=null&&re.technical_qln),"error-message":(ie=o(t).errors)==null?void 0:ie.technical_qln},null,8,["modelValue","error","error-message"])])]),((de=m.value)==null?void 0:de.employment_type)==="PE"||((me=m.value)==null?void 0:me.employment_type)==="WC"?(d(),p("div",ol,[e[42]||(e[42]=l("div",{class:"col-4 text-subtitle2 text-grey-8"},"Designation",-1)),l("div",sl,[a(w,{modelValue:o(t).designation,"onUpdate:modelValue":e[14]||(e[14]=r=>o(t).designation=r),options:o(Oe),outlined:"",dense:"","emit-value":"","map-options":"",error:!!((ue=o(t).errors)!=null&&ue.designation),"error-message":(ce=o(t).errors)==null?void 0:ce.designation,rules:[r=>!!r||"Designation is required"]},null,8,["modelValue","options","error","error-message","rules"])])])):u("",!0),((pe=m.value)==null?void 0:pe.employment_type)==="MR"?(d(),p("div",al,[e[43]||(e[43]=l("div",{class:"col-4 text-subtitle2 text-grey-8"},"Post/Work Assigned",-1)),l("div",nl,[a(c,{modelValue:o(t).post_assigned,"onUpdate:modelValue":e[15]||(e[15]=r=>o(t).post_assigned=r),type:"text",outlined:"",dense:"",error:!!((ge=o(t).errors)!=null&&ge.post_assigned),"error-message":(_e=o(t).errors)==null?void 0:_e.post_assigned},null,8,["modelValue","error","error-message"])])])):u("",!0),l("div",rl,[e[44]||(e[44]=l("div",{class:"col-4 text-subtitle2 text-grey-8"},"Workplace",-1)),l("div",il,[a(c,{modelValue:o(t).name_of_workplace,"onUpdate:modelValue":e[16]||(e[16]=r=>o(t).name_of_workplace=r),outlined:"",dense:"",error:!!((fe=o(t).errors)!=null&&fe.name_of_workplace),"error-message":(ve=o(t).errors)==null?void 0:ve.name_of_workplace},null,8,["modelValue","error","error-message"])])]),l("div",dl,[e[45]||(e[45]=l("div",{class:"col-4 text-subtitle2 text-grey-8"},"Date of Initial Engagement",-1)),l("div",ml,[a(c,{modelValue:o(t).date_of_engagement,"onUpdate:modelValue":e[17]||(e[17]=r=>o(t).date_of_engagement=r),label:"MM/DD/YYYY",type:"date",outlined:"",dense:"",error:!!((ye=o(t).errors)!=null&&ye.date_of_engagement),"error-message":(be=o(t).errors)==null?void 0:be.date_of_engagement},null,8,["modelValue","error","error-message"])])]),((xe=m.value)==null?void 0:xe.employment_type)==="WC"?(d(),p("div",ul,[e[46]||(e[46]=l("div",{class:"col-4 text-subtitle2 text-grey-8"},"Date of Retirement",-1)),l("div",cl,[a(c,{modelValue:o(t).date_of_retirement,"onUpdate:modelValue":e[18]||(e[18]=r=>o(t).date_of_retirement=r),label:"MM/DD/YYYY",type:"date",outlined:"",dense:"",error:!!((ke=o(t).errors)!=null&&ke.date_of_retirement),"error-message":(qe=o(t).errors)==null?void 0:qe.date_of_retirement},null,8,["modelValue","error","error-message"])])])):u("",!0),((Ve=m.value)==null?void 0:Ve.employment_type)==="PE"?(d(),p("div",pl,[e[47]||(e[47]=l("div",{class:"col-4 text-subtitle2 text-grey-8"},"Engagement Card No.",-1)),l("div",gl,[a(c,{modelValue:o(t).engagement_card_no,"onUpdate:modelValue":e[19]||(e[19]=r=>o(t).engagement_card_no=r),type:"text",outlined:"",dense:"",error:!!((we=o(t).errors)!=null&&we.engagement_card_no),"error-message":(De=o(t).errors)==null?void 0:De.engagement_card_no},null,8,["modelValue","error","error-message"])])])):u("",!0),((Ue=m.value)==null?void 0:Ue.employment_type)==="MR"?(d(),p("div",_l,[e[48]||(e[48]=l("div",{class:"col-4 text-subtitle2 text-grey-8"},"Skill Category at Initial Engagement",-1)),l("div",fl,[a(w,{modelValue:o(t).skill_category,"onUpdate:modelValue":e[20]||(e[20]=r=>o(t).skill_category=r),options:o(G),"emit-value":"","map-options":"",outlined:"",dense:"",error:!!((he=o(t).errors)!=null&&he.skill_category),"error-message":(Ce=o(t).errors)==null?void 0:Ce.skill_category},null,8,["modelValue","options","error","error-message"])])])):u("",!0),((Ee=m.value)==null?void 0:Ee.employment_type)==="MR"?(d(),p("div",vl,[e[49]||(e[49]=l("div",{class:"col-4 text-subtitle2 text-grey-8"},"Skill Category at Present",-1)),l("div",yl,[a(w,{modelValue:o(t).skill_at_present,"onUpdate:modelValue":e[21]||(e[21]=r=>o(t).skill_at_present=r),options:o(G),"emit-value":"","map-options":"",outlined:"",dense:"",error:!!((Pe=o(t).errors)!=null&&Pe.skill_at_present),"error-message":(Qe=o(t).errors)==null?void 0:Qe.skill_at_present},null,8,["modelValue","options","error","error-message"])])])):u("",!0),((Se=m.value)==null?void 0:Se.employment_type)==="MR"?(d(),p("div",bl,[e[50]||(e[50]=l("div",{class:"col-4 text-subtitle2 text-grey-8"},"Post Selected",-1)),l("div",xl,[a(c,{modelValue:o(t).post_per_qualification,"onUpdate:modelValue":e[22]||(e[22]=r=>o(t).post_per_qualification=r),label:"Post Selected",outlined:"",dense:"",error:!!((Me=o(t).errors)!=null&&Me.post_per_qualification),"error-message":(Re=o(t).errors)==null?void 0:Re.post_per_qualification},null,8,["modelValue","error","error-message"])])])):u("",!0)]),e[52]||(e[52]=l("div",{class:"absolute top-0 bottom-0 left-1/2 w-px bg-gray-300"},null,-1)),l("div",null,[l("div",kl,[l("div",ql,[l("div",Vl,[a(Ie,{src:E.value,alt:"Profile Photo",style:{width:"120px",height:"120px"},"img-class":"object-cover"},null,8,["src"])]),l("div",wl,[l("div",Dl,[a(b,{label:"Upload new Photo",color:"primary",onClick:Je,class:"text-weight-medium",rounded:"",unelevated:""}),a(b,{label:"Reset",color:"grey-4","text-color":"dark",onClick:Xe,class:"text-weight-medium",rounded:"",unelevated:""})]),e[51]||(e[51]=l("p",{class:"text-subtitle2 text-grey-7"}," Allowed JPG, GIF or PNG. Max size of 800K ",-1))])]),l("input",{ref_key:"fileInput",ref:$,type:"file",accept:"image/*",class:"hidden",onChange:He},null,544)]),(d(!0),p(ut,null,ct(Q.documentTypes,(r,hl)=>{var Te,Ye;return d(),p("div",{class:"col-12 col-sm-6",key:r.id},[l("div",Ul,v(r.name),1),a(yt,{filled:"","model-value":((Te=o(t).documents[r.id])==null?void 0:Te.file)||null,"onUpdate:modelValue":A=>lt(r.id,A),label:"Upload File",accept:".pdf,.jpg,.jpeg,.png",clearable:"",class:"full-width"},pt({_:2},[(Ye=o(t).documents[r.id])!=null&&Ye.url?{name:"append",fn:i(()=>[a(b,{round:"",dense:"",flat:"",icon:"visibility",onClick:A=>at(o(t).documents[r.id].url),class:"q-ml-sm"},null,8,["onClick"]),a(b,{round:"",dense:"",flat:"",icon:"delete",color:"negative",onClick:A=>Ze(r.id),class:"q-ml-sm"},null,8,["onClick"])]),key:"0"}:void 0]),1032,["model-value","onUpdate:modelValue"])])}),128))])]),a(Fe)]}),_:1}),a(gt,{align:"right"},{default:i(()=>[_t(a(b,{flat:"",label:"Cancel",onClick:e[23]||(e[23]=n=>!C.value)},null,512),[[xt]]),a(b,{color:"primary",label:"Update",onClick:st})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1,__:[53,54]}))}});export{Gl as default};
