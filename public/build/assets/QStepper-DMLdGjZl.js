import{Q}from"./QSlideTransition-CmjCMJZl.js";import{u as D,a as K,b as N,c as T,d as B}from"./use-panel-D8gfmSsF.js";import{H as P,M as I,r as x,c as o,n as a,D as $,N as R,R as E,J as V,K as h,bh as k,bi as W,I as C,ag as j,ah as F,X as H,O as L,aS as U}from"./app-DwxL3EhH.js";const w=P({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:l}){const{proxy:{$q:s}}=I(),v=x(null),r=o(()=>e.stepper.modelValue===e.step.name),i=o(()=>{const t=e.step.disable;return t===!0||t===""}),p=o(()=>{const t=e.step.error;return t===!0||t===""}),c=o(()=>{const t=e.step.done;return i.value===!1&&(t===!0||t==="")}),_=o(()=>{const t=e.step.headerNav,n=t===!0||t===""||t===void 0;return i.value===!1&&e.stepper.headerNav&&n}),d=o(()=>e.step.prefix&&(r.value===!1||e.stepper.activeIcon==="none")&&(p.value===!1||e.stepper.errorIcon==="none")&&(c.value===!1||e.stepper.doneIcon==="none")),f=o(()=>{const t=e.step.icon||e.stepper.inactiveIcon;if(r.value===!0){const n=e.step.activeIcon||e.stepper.activeIcon;return n==="none"?t:n||s.iconSet.stepper.active}if(p.value===!0){const n=e.step.errorIcon||e.stepper.errorIcon;return n==="none"?t:n||s.iconSet.stepper.error}if(i.value===!1&&c.value===!0){const n=e.step.doneIcon||e.stepper.doneIcon;return n==="none"?t:n||s.iconSet.stepper.done}return t}),u=o(()=>{const t=p.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(r.value===!0){const n=e.step.activeColor||e.stepper.activeColor||e.step.color;return n!==void 0?n:t}return t!==void 0?t:i.value===!1&&c.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),g=o(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(u.value!==void 0?` text-${u.value}`:"")+(p.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(d.value===!0?"prefix":"icon"):"")+(r.value===!0?" q-stepper__tab--active":"")+(c.value===!0?" q-stepper__tab--done":"")+(_.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(i.value===!0?" q-stepper__tab--disabled":"")),S=o(()=>e.stepper.headerNav!==!0?!1:_.value);function q(){var t;(t=v.value)==null||t.focus(),r.value===!1&&e.goToPanel(e.step.name)}function b(t){t.keyCode===13&&r.value===!1&&e.goToPanel(e.step.name)}return()=>{const t={class:g.value};_.value===!0&&(t.onClick=q,t.onKeyup=b,Object.assign(t,i.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:l.tabindex||0}));const n=[a("div",{class:"q-focus-helper",tabindex:-1,ref:v}),a("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[a("span",{class:"row flex-center"},[d.value===!0?e.step.prefix:a($,{name:f.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const m=[a("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&m.push(a("div",{class:"q-stepper__caption"},e.step.caption)),n.push(a("div",{class:"q-stepper__label q-stepper__line relative-position"},m))}return R(a("div",t,n),[[E,S.value]])}}});function A(e){return a("div",{class:"q-stepper__step-content"},[a("div",{class:"q-stepper__step-inner"},C(e.default))])}const y={setup(e,{slots:l}){return()=>A(l)}},G=P({name:"QStep",props:{...D,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:l,emit:s}){const{proxy:{$q:v}}=I(),r=V(k,h);if(r===h)return console.error("QStep needs to be a child of QStepper"),h;const{getCache:i}=K(),p=x(null),c=o(()=>r.value.modelValue===e.name),_=o(()=>v.platform.is.ios!==!0&&v.platform.is.chrome===!0||c.value!==!0||r.value.vertical!==!0?{}:{onScroll(u){const{target:g}=u;g.scrollTop>0&&(g.scrollTop=0),e.onScroll!==void 0&&s("scroll",u)}}),d=o(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function f(){const u=r.value.vertical;return u===!0&&r.value.keepAlive===!0?a(W,r.value.keepAliveProps.value,c.value===!0?[a(r.value.needsUniqueKeepAliveWrapper.value===!0?i(d.value,()=>({...y,name:d.value})):y,{key:d.value},l.default)]:void 0):u!==!0||c.value===!0?A(l):void 0}return()=>a("div",{ref:p,class:"q-stepper__step",role:"tabpanel",..._.value},r.value.vertical===!0?[a(w,{stepper:r.value,step:e,goToPanel:r.value.goToPanel}),r.value.animated===!0?a(Q,f):f()]:[f()])}}),z=/(-\w)/g;function M(e){const l={};for(const s in e){const v=s.replace(z,r=>r[1].toUpperCase());l[v]=e[s]}return l}const Y=P({name:"QStepper",props:{...j,...T,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:N,setup(e,{slots:l}){const s=I(),v=F(e,s.proxy.$q),{updatePanelsList:r,isValidPanelName:i,updatePanelIndex:p,getPanelContent:c,getPanels:_,panelDirectives:d,goToPanel:f,keepAliveProps:u,needsUniqueKeepAliveWrapper:g}=B();H(k,o(()=>({goToPanel:f,keepAliveProps:u,needsUniqueKeepAliveWrapper:g,...e})));const S=o(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(v.value===!0?" q-stepper--dark q-dark":"")),q=o(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function b(){const t=C(l.message,[]);if(e.vertical===!0){i(e.modelValue)&&p();const n=a("div",{class:"q-stepper__content"},C(l.default));return t===void 0?[n]:t.concat(n)}return[a("div",{class:q.value},_().map(n=>{const m=M(n.props);return a(w,{key:m.name,stepper:e,step:m,goToPanel:f})})),t,U("div",{class:"q-stepper__content q-panel-parent"},c(),"cont",e.swipeable,()=>d.value)]}return()=>(r(l),a("div",{class:S.value},L(l.navigation,b())))}});export{Y as Q,G as a};
