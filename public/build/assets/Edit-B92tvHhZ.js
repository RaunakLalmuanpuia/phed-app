import{Q as Fe,a as z}from"./QBreadcrumbs-BPzl3Nvd.js";import{a as we,Q as Te}from"./QLayout-D_4lhnAr.js";import{r as G,x as je,i as Ae,D as Ue,E as Ee,c as L,o as p,w as q,b as s,f as a,A as Oe,e as V,d as v,m as b,Q as c,u as l,F as Qe,n as he,t as f,G as We,B as y,z as Je,W as ze}from"./app-CfWHsIiJ.js";import{Q as T}from"./QSelect-3VCKS2Ve.js";import{Q as j}from"./QStepperNavigation-BtpjW4_V.js";import{Q as Ge,a as A}from"./QStepper-CDlEO_mn.js";import{Q as Le}from"./QFile-BU7YOu7k.js";import{Q as Ke}from"./QForm-Bv4AoueP.js";import{_ as He}from"./BackendLayout-Co0gyRue.js";import{u as Xe}from"./use-quasar-DHczZ9tJ.js";import{u as Ye}from"./useUtils-FhkNX5Ho.js";import"./touch-CUFcxDzv.js";import"./date-cfAoxGAh.js";const Ze={class:"flex items-center justify-between q-pa-md bg-white"},el={class:"q-pa-md"},ll={class:"row items-center q-gutter-md"},ol={class:"rounded-borders overflow-hidden",style:{"background-color":"#8a82f7"}},sl={class:"column q-gutter-sm"},rl={class:"row q-gutter-md"},al={key:0,class:"row q-col-gutter-sm"},tl={class:"col-12 col-sm-6"},nl={class:"col-12 col-sm-6"},il={class:"col-12 col-sm-6"},dl={class:"col-12 col-sm-6"},ml={class:"col-12 col-sm-6"},ul={class:"col-12 col-sm-6"},pl={key:1,class:"row q-col-gutter-sm"},cl={class:"col-12 col-sm-6"},fl={class:"col-12 col-sm-6"},gl={class:"col-12 col-sm-6"},_l={class:"col-12 col-sm-6"},vl={class:"col-12 col-sm-6"},yl={class:"col-12 col-sm-6"},bl={class:"col-12 col-sm-6"},kl={class:"col-12 col-sm-6"},ql={class:"row q-col-gutter-sm"},Vl={class:"col-12 col-sm-6"},wl={class:"col-12 col-sm-6"},Ul={class:"col-12 col-sm-6"},El={key:0,class:"col-12 col-sm-6"},Ql={key:1,class:"col-12 col-sm-6"},hl={key:2,class:"col-12 col-sm-6"},Cl={key:3,class:"col-12 col-sm-6"},Pl={class:"col-12 col-sm-6"},Ml={key:4,class:"col-12 col-sm-6"},Dl={class:"row q-col-gutter-sm"},Sl={class:"text-subtitle2 q-mb-xs"},Il={class:"rounded-borders"},xl={class:"row q-col-gutter-sm q-mb-md"},$l={class:"col-12 col-sm-6"},Nl={class:"col-12 col-sm-6"},Bl={class:"col-12 col-sm-6"},Rl={class:"col-12 col-sm-6"},Fl={class:"col-12 col-sm-6"},Tl={class:"col-12 col-sm-6"},jl={class:"col-12 col-sm-6"},Al={class:"row q-col-gutter-sm q-mb-md"},Ol={class:"col-12 col-sm-6"},Wl={class:"col-12 col-sm-6"},Jl={class:"col-12 col-sm-6"},zl={class:"col-12 col-sm-6"},Gl={key:0,class:"col-12 col-sm-6"},Ll={key:1,class:"col-12 col-sm-6"},Kl={key:2,class:"col-12 col-sm-6"},Hl={class:"col-12 col-sm-6"},Xl={class:"row q-col-gutter-sm q-mb-md"},Yl={class:"row items-center justify-between"},Zl={class:"text-subtitle2"},eo={key:0},lo=["href"],oo={key:1,class:"text-grey"},K="https://storage.googleapis.com/a1aa/image/089155c9-d1c1-4945-5728-c9bdb3576171.jpg",vo=Object.assign({layout:He},{__name:"Edit",props:["documentTypes","offices","data","current_offices"],setup(C){var X,Y,Z,ee,le,oe,se,re,ae,te,ne,ie,de,me,ue,pe,ce;const{educationalQualifications:Ce,skills:H,formatDate:Pe}=Ye(),m=C,E=Xe(),u=G("1"),e=je({name:(X=m.data)==null?void 0:X.name,email:(Y=m.data)==null?void 0:Y.email,mobile:(Z=m.data)==null?void 0:Z.mobile,parent_name:(ee=m.data)==null?void 0:ee.parent_name,date_of_birth:(le=m.data)==null?void 0:le.date_of_birth,address:(oe=m.data)==null?void 0:oe.address,designation:(se=m.data)==null?void 0:se.designation,employment_type:(re=m.data)==null?void 0:re.employment_type,office:((te=(ae=m.data)==null?void 0:ae.office)==null?void 0:te.id)??null,educational_qln:(ne=m.data)==null?void 0:ne.educational_qln,technical_qln:(ie=m.data)==null?void 0:ie.technical_qln,name_of_workplace:(de=m.data)==null?void 0:de.name_of_workplace,post_per_qualification:(me=m.data)==null?void 0:me.post_per_qualification,date_of_engagement:(ue=m.data)==null?void 0:ue.date_of_engagement,skill_category:(pe=m.data)==null?void 0:pe.skill_category,skill_at_present:(ce=m.data)==null?void 0:ce.skill_at_present,documents:[],avatar:null}),O=G(null);function Me(){var r;(r=O.value)==null||r.click()}function De(r){const o=r.target.files[0];if(o&&o.size<=800*1024){const n=new FileReader;n.onload=()=>{h.value=n.result},e.avatar=o,n.readAsDataURL(o)}else alert("File too large or invalid type. Max size: 800KB.")}function Se(){var r;h.value=(r=m.data)!=null&&r.avatar?`/storage/${m.data.avatar}`:K,e.avatar=null,O.value.value=null}const h=G(""),Ie=(r,o)=>{e.documents[r]={...e.documents[r],file:o}},xe=r=>{window.open(r,"_blank")},W=()=>{if(u.value==="1"){if(!e.name||!e.mobile||!e.parent_name||!e.date_of_birth||!e.educational_qln){E.notify({type:"negative",message:"Please fill all required Personal Info fields."});return}u.value=w.value?"2":"4"}else if(u.value==="2"){if(!e.employment_type||!e.designation||!e.office){E.notify({type:"negative",message:"Please fill all required Job Info fields."});return}if(e.employment_type==="MR"&&(!e.skill_category||!e.skill_at_present||!e.date_of_engagement)){E.notify({type:"negative",message:"Please fill all required Job Info fields."});return}u.value="3"}else u.value==="3"&&(u.value="4")},J=()=>{u.value==="4"?u.value=w.value?"3":"1":u.value==="3"?u.value=w.value?"2":"1":u.value==="2"&&(u.value="1")},$e=r=>r?typeof r=="string"?r:URL.createObjectURL(r):"#",Ne=[{label:"MR",value:"MR"},{label:"PE",value:"PE"}],Be=()=>{E.dialog({title:"Confirm Submission",message:"Are you sure you want to submit?",cancel:!0,persistent:!0}).onOk(()=>{var o;const r=new FormData;r.append("name",e.name),r.append("email",e.email||""),r.append("mobile",e.mobile),r.append("parent_name",e.parent_name),r.append("date_of_birth",e.date_of_birth),r.append("address",e.address),r.append("designation",e.designation),r.append("employment_type",e.employment_type),r.append("office",((o=e.office)==null?void 0:o.id)||e.office),r.append("educational_qln",e.educational_qln),r.append("technical_qln",e.technical_qln),r.append("name_of_workplace",e.name_of_workplace),r.append("post_per_qualification",e.post_per_qualification),r.append("date_of_engagement",e.date_of_engagement||""),r.append("skill_category",e.skill_category),r.append("skill_at_present",e.skill_at_present),e.avatar&&typeof e.avatar!="string"&&r.append("avatar",e.avatar),Object.entries(e.documents).forEach(([n,d])=>{d!=null&&d.file&&r.append(`documents[${n}]`,d.file)}),axios.post(route("employee.update",m.data),r,{headers:{"Content-Type":"multipart/form-data"}}).then(n=>{const{employee:d,message:k}=n.data;E.notify({type:"positive",message:n.data.message||"Employee saved successfully."}),e.reset(),ze.get(route("employee.show",d))}).catch(n=>{if(n.response){const d=n.response.data.errors,k=[];let g=null;if(d){for(const _ in d)g||(g=_),d[_]&&k.push(...d[_]);if(e.errors=d,g){const U={name:1,email:1,mobile:1,parent_name:1,date_of_birth:1,educational_qln:1,technical_qln:1,employment_type:2,designation:2,date_of_engagement:2,name_of_workplace:2,office:2,post_per_qualification:2,skill_category:2,skill_at_present:2,documents:3}[g]||1;u.value=String(U)}E.notify({type:"negative",message:k.join(", ")})}else n.response.data.message&&E.notify({type:"negative",message:n.response.data.message})}else E.notify({type:"negative",message:"System Error. Please try again later."})})})};Ae(()=>{var r,o;(r=m.data.documents)!=null&&r.length&&m.data.documents.forEach(n=>{e.documents[n.document_type_id]={name:n.name,url:`/storage/${n.path}`}}),(o=m.data)!=null&&o.avatar?h.value=`/storage/${m.data.avatar}`:h.value=K});const w=Ue(()=>{var r;return!!((r=Ee().props.roles)!=null&&r.find(o=>o==="Admin"))}),Re=Ue(()=>{var r;return!!((r=Ee().props.roles)!=null&&r.find(o=>o==="Manager"))});return(r,o)=>(p(),L(Te,{class:"container",padding:""},{default:q(()=>[s("div",Ze,[s("div",null,[o[30]||(o[30]=s("div",{class:"stitle"},"Edit Employee",-1)),a(Fe,{class:"text-dark"},{default:q(()=>[a(z,{class:"cursor-pointer",icon:"dashboard",label:"Dashboard",onClick:o[0]||(o[0]=n=>r.$inertia.get(r.route("dashboard")))}),a(z,{class:"cursor-pointer",label:"All Employees",onClick:o[1]||(o[1]=n=>r.$inertia.get(r.route("employees.all")))}),a(z,{label:"Edit Employee"})]),_:1})])]),o[51]||(o[51]=s("br",null,null,-1)),a(Ke,{onSubmit:Oe(Be,["prevent"]),class:"bg-white q-pa-md"},{default:q(()=>[a(Ge,{modelValue:u.value,"onUpdate:modelValue":o[29]||(o[29]=n=>u.value=n),ref:"stepper",animated:"",color:"secondary"},{default:q(()=>[a(A,{name:"1",title:"Personal Info",icon:"person",done:u.value>1},{default:q(()=>{var n,d,k,g,_,U,Q,P,M,D,S,I,x,$,N,B,R,F,i,fe,ge,_e,ve,ye,be,ke,qe,Ve;return[s("div",el,[s("div",ll,[s("div",ol,[a(we,{src:h.value,alt:"Profile Photo",style:{width:"120px",height:"120px"},"img-class":"object-cover"},null,8,["src"])]),s("div",sl,[s("div",rl,[a(b,{label:"Upload new Photo",color:"primary",onClick:Me,class:"text-weight-medium",rounded:"",unelevated:""}),a(b,{label:"Reset",color:"grey-4","text-color":"dark",onClick:Se,class:"text-weight-medium",rounded:"",unelevated:""})]),o[31]||(o[31]=s("p",{class:"text-subtitle2 text-grey-7"}," Allowed JPG, GIF or PNG. Max size of 800K ",-1))])]),s("input",{ref_key:"fileInput",ref:O,type:"file",accept:"image/*",class:"hidden",onChange:De},null,544)]),Re.value?(p(),v("div",al,[s("div",tl,[a(c,{modelValue:l(e).name,"onUpdate:modelValue":o[2]||(o[2]=t=>l(e).name=t),label:"Name",disable:"",outlined:"",dense:"",error:!!((n=l(e).errors)!=null&&n.name),"error-message":(d=l(e).errors)==null?void 0:d.name,rules:[t=>!!t||"Name is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",nl,[a(c,{modelValue:l(e).email,"onUpdate:modelValue":o[3]||(o[3]=t=>l(e).email=t),label:"Email",type:"email",outlined:"",dense:"",error:!!((k=l(e).errors)!=null&&k.email),"error-message":(g=l(e).errors)==null?void 0:g.email},null,8,["modelValue","error","error-message"])]),s("div",il,[a(c,{modelValue:l(e).mobile,"onUpdate:modelValue":o[4]||(o[4]=t=>l(e).mobile=t),label:"Mobile",mask:"##########",outlined:"",dense:"",error:!!((_=l(e).errors)!=null&&_.mobile),"error-message":(U=l(e).errors)==null?void 0:U.mobile,rules:[t=>!!t||"Mobile is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",dl,[a(c,{modelValue:l(e).address,"onUpdate:modelValue":o[5]||(o[5]=t=>l(e).address=t),label:"Address",outlined:"",dense:"",error:!!((Q=l(e).errors)!=null&&Q.address),"error-message":(P=l(e).errors)==null?void 0:P.address,rules:[t=>!!t||"Address is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",ml,[a(c,{modelValue:l(e).name_of_workplace,"onUpdate:modelValue":o[6]||(o[6]=t=>l(e).name_of_workplace=t),label:"Workplace",outlined:"",dense:"",error:!!((M=l(e).errors)!=null&&M.name_of_workplace),"error-message":(D=l(e).errors)==null?void 0:D.name_of_workplace,rules:[t=>!!t||"Workplace is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",ul,[a(c,{modelValue:l(e).technical_qln,"onUpdate:modelValue":o[7]||(o[7]=t=>l(e).technical_qln=t),label:"Technical Qualification",outlined:"",dense:"",error:!!((S=l(e).errors)!=null&&S.technical_qln),"error-message":(I=l(e).errors)==null?void 0:I.technical_qln,rules:[t=>!!t||"Technical Qualification is required"]},null,8,["modelValue","error","error-message","rules"])])])):V("",!0),w.value?(p(),v("div",pl,[s("div",cl,[a(c,{modelValue:l(e).name,"onUpdate:modelValue":o[8]||(o[8]=t=>l(e).name=t),label:"Name",outlined:"",dense:"",error:!!((x=l(e).errors)!=null&&x.name),"error-message":($=l(e).errors)==null?void 0:$.name,rules:[t=>!!t||"Name is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",fl,[a(c,{modelValue:l(e).email,"onUpdate:modelValue":o[9]||(o[9]=t=>l(e).email=t),label:"Email",type:"email",outlined:"",dense:"",error:!!((N=l(e).errors)!=null&&N.email),"error-message":(B=l(e).errors)==null?void 0:B.email},null,8,["modelValue","error","error-message"])]),s("div",gl,[a(c,{modelValue:l(e).mobile,"onUpdate:modelValue":o[10]||(o[10]=t=>l(e).mobile=t),label:"Mobile",mask:"##########",outlined:"",dense:"",error:!!((R=l(e).errors)!=null&&R.mobile),"error-message":(F=l(e).errors)==null?void 0:F.mobile,rules:[t=>!!t||"Mobile is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",_l,[a(c,{modelValue:l(e).parent_name,"onUpdate:modelValue":o[11]||(o[11]=t=>l(e).parent_name=t),label:"Parent Name",outlined:"",dense:"",error:!!((i=l(e).errors)!=null&&i.parent_name),"error-message":(fe=l(e).errors)==null?void 0:fe.parent_name,rules:[t=>!!t||"Parent Name is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",vl,[a(c,{modelValue:l(e).date_of_birth,"onUpdate:modelValue":o[12]||(o[12]=t=>l(e).date_of_birth=t),label:"Date of Birth",type:"date",outlined:"",dense:"",error:!!((ge=l(e).errors)!=null&&ge.date_of_birth),"error-message":(_e=l(e).errors)==null?void 0:_e.date_of_birth,rules:[t=>!!t||"Date of Birth is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",yl,[a(c,{modelValue:l(e).address,"onUpdate:modelValue":o[13]||(o[13]=t=>l(e).address=t),label:"Address",outlined:"",dense:"",error:!!((ve=l(e).errors)!=null&&ve.address),"error-message":(ye=l(e).errors)==null?void 0:ye.address,rules:[t=>!!t||"Address is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",bl,[a(T,{modelValue:l(e).educational_qln,"onUpdate:modelValue":o[14]||(o[14]=t=>l(e).educational_qln=t),options:l(Ce),label:"Educational Qualification *",outlined:"",dense:"","emit-value":"","map-options":"",error:!!((be=l(e).errors)!=null&&be.educational_qln),"error-message":(ke=l(e).errors)==null?void 0:ke.educational_qln,rules:[t=>!!t||"Education Qualification is required"]},null,8,["modelValue","options","error","error-message","rules"])]),s("div",kl,[a(c,{modelValue:l(e).technical_qln,"onUpdate:modelValue":o[15]||(o[15]=t=>l(e).technical_qln=t),label:"Technical Qualification",outlined:"",dense:"",error:!!((qe=l(e).errors)!=null&&qe.technical_qln),"error-message":(Ve=l(e).errors)==null?void 0:Ve.technical_qln,rules:[t=>!!t||"Technical Qualification is required"]},null,8,["modelValue","error","error-message","rules"])])])):V("",!0),a(j,null,{default:q(()=>[a(b,{flat:"",color:"negative",label:"Cancel",class:"q-ml-sm",onClick:o[16]||(o[16]=t=>r.$inertia.get(w.value?r.route("employees.all"):r.route("employees.manager.all")))}),a(b,{color:"primary",label:"Next",onClick:W})]),_:1})]}),_:1},8,["done"]),w.value?(p(),L(A,{key:0,name:"2",title:"Job Info",icon:"work",done:u.value>2},{default:q(()=>{var n,d,k,g,_,U,Q,P,M,D,S,I,x,$,N,B,R,F;return[s("div",ql,[s("div",Vl,[a(T,{modelValue:l(e).employment_type,"onUpdate:modelValue":o[17]||(o[17]=i=>l(e).employment_type=i),label:"Employment Type *",options:Ne,"emit-value":"","map-options":"",outlined:"",dense:"",error:!!((n=l(e).errors)!=null&&n.employment_type),"error-message":(d=l(e).errors)==null?void 0:d.employment_type,rules:[i=>!!i||"Employment Type is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",wl,[a(c,{modelValue:l(e).designation,"onUpdate:modelValue":o[18]||(o[18]=i=>l(e).designation=i),label:"Designation *",outlined:"",dense:"",error:!!((k=l(e).errors)!=null&&k.designation),"error-message":(g=l(e).errors)==null?void 0:g.designation,rules:[i=>!!i||"Designation is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Ul,[a(T,{modelValue:l(e).office,"onUpdate:modelValue":o[19]||(o[19]=i=>l(e).office=i),label:"Office *",options:C.offices,"option-label":"name","option-value":"id","emit-value":"","map-options":"",outlined:"",dense:"",error:!!((_=l(e).errors)!=null&&_.office),"error-message":(U=l(e).errors)==null?void 0:U.office,rules:[i=>!!i||"Office is required"]},null,8,["modelValue","options","error","error-message","rules"])]),l(e).employment_type==="PE"?(p(),v("div",El,[a(c,{modelValue:l(e).date_of_engagement,"onUpdate:modelValue":o[20]||(o[20]=i=>l(e).date_of_engagement=i),label:"Date of Initial Engagement",type:"date",outlined:"",dense:"",error:!!((Q=l(e).errors)!=null&&Q.date_of_engagement),"error-message":(P=l(e).errors)==null?void 0:P.date_of_engagement,rules:[i=>!!i||"Date of Initial Engagement is required"]},null,8,["modelValue","error","error-message","rules"])])):V("",!0),l(e).employment_type==="MR"?(p(),v("div",Ql,[a(c,{modelValue:l(e).date_of_engagement,"onUpdate:modelValue":o[21]||(o[21]=i=>l(e).date_of_engagement=i),label:"Date of Initial Engagement *",type:"date",outlined:"",dense:"",error:!!((M=l(e).errors)!=null&&M.date_of_engagement),"error-message":(D=l(e).errors)==null?void 0:D.date_of_engagement,rules:[i=>!!i||"Date of Initial Engagement is required"]},null,8,["modelValue","error","error-message","rules"])])):V("",!0),l(e).employment_type==="MR"?(p(),v("div",hl,[a(T,{modelValue:l(e).skill_category,"onUpdate:modelValue":o[22]||(o[22]=i=>l(e).skill_category=i),label:"Skill Category at Initial Engagement *",options:l(H),"emit-value":"","map-options":"",outlined:"",dense:"",error:!!((S=l(e).errors)!=null&&S.skill_category),"error-message":(I=l(e).errors)==null?void 0:I.skill_category,rules:[i=>!!i||"Skill Category is required"]},null,8,["modelValue","options","error","error-message","rules"])])):V("",!0),l(e).employment_type==="MR"?(p(),v("div",Cl,[a(T,{modelValue:l(e).skill_at_present,"onUpdate:modelValue":o[23]||(o[23]=i=>l(e).skill_at_present=i),label:"Skill at Present *",options:l(H),"emit-value":"","map-options":"",outlined:"",dense:"",error:!!((x=l(e).errors)!=null&&x.skill_at_present),"error-message":($=l(e).errors)==null?void 0:$.skill_at_present,rules:[i=>!!i||"Skill at Present is required"]},null,8,["modelValue","options","error","error-message","rules"])])):V("",!0),s("div",Pl,[a(c,{modelValue:l(e).name_of_workplace,"onUpdate:modelValue":o[24]||(o[24]=i=>l(e).name_of_workplace=i),label:"Workplace",outlined:"",dense:"",error:!!((N=l(e).errors)!=null&&N.name_of_workplace),"error-message":(B=l(e).errors)==null?void 0:B.name_of_workplace},null,8,["modelValue","error","error-message"])]),l(e).employment_type==="MR"?(p(),v("div",Ml,[a(c,{modelValue:l(e).post_per_qualification,"onUpdate:modelValue":o[25]||(o[25]=i=>l(e).post_per_qualification=i),label:"Post Selected",outlined:"",dense:"",error:!!((R=l(e).errors)!=null&&R.post_per_qualification),"error-message":(F=l(e).errors)==null?void 0:F.post_per_qualification,rules:[i=>!!i||"Post per Qualification is required"]},null,8,["modelValue","error","error-message","rules"])])):V("",!0)]),a(j,null,{default:q(()=>[a(b,{flat:"",color:"negative",label:"Cancel",class:"q-ml-sm",onClick:o[26]||(o[26]=i=>r.$inertia.get(w.value?r.route("employees.all"):r.route("employees.manager.all")))}),a(b,{flat:"",color:"primary",label:"Back",onClick:J,class:"q-ml-sm"}),a(b,{color:"primary",label:"Next",onClick:W})]),_:1})]}),_:1},8,["done"])):V("",!0),w.value?(p(),L(A,{key:1,name:"3",title:"Upload Documents",icon:"cloud_upload",done:u.value>3},{default:q(()=>[s("div",Dl,[(p(!0),v(Qe,null,he(C.documentTypes,(n,d)=>{var k,g;return p(),v("div",{class:"col-12 col-sm-6",key:n.id},[s("div",Sl,f(n.name),1),a(Le,{filled:"","model-value":((k=l(e).documents[n.id])==null?void 0:k.file)||null,"onUpdate:modelValue":_=>Ie(n.id,_),label:"Upload File",accept:".pdf,.jpg,.jpeg,.png",clearable:"",class:"full-width"},We({_:2},[(g=l(e).documents[n.id])!=null&&g.url?{name:"append",fn:q(()=>[a(b,{round:"",dense:"",flat:"",icon:"visibility",onClick:_=>xe(l(e).documents[n.id].url),class:"q-ml-sm"},null,8,["onClick"])]),key:"0"}:void 0]),1032,["model-value","onUpdate:modelValue"])])}),128))]),a(j,null,{default:q(()=>[a(b,{flat:"",color:"negative",label:"Cancel",class:"q-ml-sm",onClick:o[27]||(o[27]=n=>r.$inertia.get(w.value?r.route("employees.all"):r.route("employees.manager.all")))}),a(b,{flat:"",color:"primary",label:"Back",onClick:J,class:"q-ml-sm"}),a(b,{color:"primary",label:"Next",onClick:W})]),_:1})]),_:1},8,["done"])):V("",!0),a(A,{name:"4",title:"Preview Information",icon:"visibility",done:u.value>4},{default:q(()=>{var n;return[s("div",Il,[a(we,{src:h.value||K,alt:"Profile Photo",style:{width:"120px",height:"120px"},"img-class":"object-cover"},null,8,["src"])]),o[48]||(o[48]=s("div",{class:"q-mb-md text-h6"},"Personal Info",-1)),s("div",xl,[s("div",$l,[o[32]||(o[32]=s("strong",null,"Name:",-1)),y(" "+f(l(e).name),1)]),s("div",Nl,[o[33]||(o[33]=s("strong",null,"Email:",-1)),y(" "+f(l(e).email),1)]),s("div",Bl,[o[34]||(o[34]=s("strong",null,"Mobile:",-1)),y(" "+f(l(e).mobile),1)]),s("div",Rl,[o[35]||(o[35]=s("strong",null,"Parent Name:",-1)),y(" "+f(l(e).parent_name),1)]),s("div",Fl,[o[36]||(o[36]=s("strong",null,"Date of Birth:",-1)),y(" "+f(l(e).date_of_birth),1)]),s("div",Tl,[o[37]||(o[37]=s("strong",null,"Education:",-1)),y(" "+f(l(e).educational_qln),1)]),s("div",jl,[o[38]||(o[38]=s("strong",null,"Technical Qualification:",-1)),y(" "+f(l(e).technical_qln),1)])]),o[49]||(o[49]=s("div",{class:"q-mb-md text-h6"},"Job Info",-1)),s("div",Al,[s("div",Ol,[o[39]||(o[39]=s("strong",null,"Employment Type:",-1)),y(" "+f(l(e).employment_type),1)]),s("div",Wl,[o[40]||(o[40]=s("strong",null,"Office:",-1)),y(" "+f(((n=C.offices.find(d=>d.id===l(e).office))==null?void 0:n.name)||"—"),1)]),s("div",Jl,[o[41]||(o[41]=s("strong",null,"Designation:",-1)),y(" "+f(l(e).designation),1)]),s("div",zl,[o[42]||(o[42]=s("strong",null,"Date of Initial Engagement:",-1)),y(" "+f(l(Pe)(l(e).date_of_engagement)),1)]),l(e).employment_type==="MR"?(p(),v("div",Gl,[o[43]||(o[43]=s("strong",null,"Skill Category at Initial Engagement:",-1)),y(" "+f(l(e).skill_category),1)])):V("",!0),l(e).employment_type==="MR"?(p(),v("div",Ll,[o[44]||(o[44]=s("strong",null,"Skill at Present:",-1)),y(" "+f(l(e).skill_at_present),1)])):V("",!0),l(e).employment_type==="MR"?(p(),v("div",Kl,[o[45]||(o[45]=s("strong",null,"Post Selected:",-1)),y(" "+f(l(e).post_per_qualification),1)])):V("",!0),s("div",Hl,[o[46]||(o[46]=s("strong",null,"Workplace:",-1)),y(" "+f(l(e).name_of_workplace),1)])]),o[50]||(o[50]=s("div",{class:"q-mb-md text-h6"},"Uploaded Documents",-1)),s("div",Xl,[(p(!0),v(Qe,null,he(C.documentTypes,(d,k)=>{var g,_,U,Q;return p(),v("div",{class:"col-12 col-sm-6",key:d.id},[s("div",Yl,[s("div",Zl,[s("strong",null,f(d.name),1)]),(g=l(e).documents[d.id])!=null&&g.file||(_=l(e).documents[d.id])!=null&&_.url?(p(),v("div",eo,[s("a",{href:$e(((U=l(e).documents[d.id])==null?void 0:U.file)||((Q=l(e).documents[d.id])==null?void 0:Q.url)),target:"_blank",class:"text-primary text-weight-medium"},[a(Je,{name:"visibility",class:"q-mr-xs"}),o[47]||(o[47]=y(" View File "))],8,lo)])):(p(),v("div",oo,"No document uploaded"))])])}),128))]),a(j,null,{default:q(()=>[a(b,{flat:"",color:"negative",label:"Cancel",class:"q-ml-sm",onClick:o[28]||(o[28]=d=>r.$inertia.get(w.value?r.route("employees.all"):r.route("employees.manager.all")))}),a(b,{flat:"",color:"primary",label:"Back",onClick:J,class:"q-ml-sm"}),a(b,{type:"submit",color:"btn-primary",label:"Submit"})]),_:1})]}),_:1,__:[48,49,50]},8,["done"])]),_:1},8,["modelValue"])]),_:1})]),_:1,__:[51]}))}});export{vo as default};
