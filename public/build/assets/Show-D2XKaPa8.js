import{Q as Qt,a as rt}from"./QBreadcrumbs-BwGvpHc3.js";import{b as zt,a as It,Q as Mt}from"./QLayout-6mv1sro-.js";import{K as yt,L as Oe,M as ht,N as Qe,r as j,E as $,j as Ue,i as _t,O as fe,R as Je,k as R,z as ke,P as Ft,S as Ht,T as et,U as tt,I as Pe,V as Ie,X as Xe,h as ce,Y as kt,Z as Wt,_ as Kt,J as Ae,c as S,o as p,w as a,f as t,q as B,b as m,Q as H,d as U,e as O,F as ne,n as Ce,t as C,m as P,p as F,x as pe,l as Le,B as b,$ as ge,a0 as be,W as Ze,a1 as Te,u as q,a2 as wt,a3 as Yt,a4 as qt,a5 as xt,a6 as Gt,A as Ct,H as Jt,a7 as Xt,a8 as Zt,a9 as el,aa as Ke,ab as tl,ac as ll,ad as al,ae as nl,af as ut,ag as dt,ah as ol,ai as sl,aj as ct,ak as il,al as rl,am as ul,an as dl,G as ft,v as cl}from"./app-FnaBhlub.js";import{b as St,Q as Me,a as V,c as h,C as Se,v as fl,d as mt,u as ml,p as vt,e as vl,f as gl,g as pl,r as gt,s as bl,_ as yl,h as hl}from"./BackendLayout-W9Vwr2yH.js";import{r as _l,Q as Be}from"./QSelect-BV2Sj7u-.js";import{a as kl,Q as Tt,u as wl,b as ql,c as xl}from"./QTable-CQ-lrb7r.js";import{Q as Cl}from"./QTd-1hKP9x31.js";import{u as De}from"./use-quasar-BVZ5AtQK.js";import{_ as Dt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{Q as lt}from"./QFile-CmWqodWW.js";import{Q as Rt}from"./QForm-DnsMhNFY.js";import{c as pt}from"./touch-Clfggjgd.js";let Sl=0;const Tl=["click","keydown"],Dl={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Sl++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Rl(e,l,n,o){const u=yt(ht,Oe);if(u===Oe)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Oe;const{proxy:v}=Qe(),d=j(null),c=j(null),s=j(null),i=$(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),r=$(()=>u.currentModel.value===e.name),g=$(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(r.value===!0?" q-tab--active"+(u.tabProps.value.activeClass?" "+u.tabProps.value.activeClass:"")+(u.tabProps.value.activeColor?` text-${u.tabProps.value.activeColor}`:"")+(u.tabProps.value.activeBgColor?` bg-${u.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&u.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||u.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),x=$(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(u.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),_=$(()=>e.disable===!0||u.hasFocus.value===!0||r.value===!1&&u.hasActiveTab.value===!0?-1:e.tabindex||0);function k(L,W){var E;if(W!==!0&&(L==null?void 0:L.qAvoidFocus)!==!0&&((E=d.value)==null||E.focus()),e.disable!==!0){u.updateModel({name:e.name}),n("click",L);return}}function N(L){Ht(L,[13,32])?k(L,!0):et(L)!==!0&&L.keyCode>=35&&L.keyCode<=40&&L.altKey!==!0&&L.metaKey!==!0&&u.onKbdNavigate(L.keyCode,v.$el)===!0&&tt(L),n("keydown",L)}function ee(){const L=u.tabProps.value.narrowIndicator,W=[],E=R("div",{ref:s,class:["q-tab__indicator",u.tabProps.value.indicatorClass]});e.icon!==void 0&&W.push(R(ke,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&W.push(R("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&W.push(e.alertIcon!==void 0?R(ke,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):R("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),L===!0&&W.push(E);const J=[R("div",{class:"q-focus-helper",tabindex:-1,ref:d}),R("div",{class:x.value},Ft(l.default,W))];return L===!1&&J.push(E),J}const G={name:$(()=>e.name),rootRef:c,tabIndicatorRef:s,routeData:o};Ue(()=>{u.unregisterTab(G)}),_t(()=>{u.registerTab(G)});function ae(L,W){const E={ref:c,class:g.value,tabindex:_.value,role:"tab","aria-selected":r.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:k,onKeydown:N,...W};return fe(R(L,E,ee()),[[Je,i.value]])}return{renderTab:ae,$tabs:u}}const Ve=Pe({name:"QTab",props:Dl,emits:Tl,setup(e,{slots:l,emit:n}){const{renderTab:o}=Rl(e,l,n);return()=>o("div")}});function $l(e,l,n){const o=n===!0?["left","right"]:["top","bottom"];return`absolute-${l===!0?o[0]:o[1]}${e?` text-${e}`:""}`}const El=["left","center","right","justify"],Vl=Pe({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>El.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:l,emit:n}){const{proxy:o}=Qe(),{$q:u}=o,{registerTick:v}=Ie(),{registerTick:d}=Ie(),{registerTick:c}=Ie(),{registerTimeout:s,removeTimeout:i}=Xe(),{registerTimeout:r,removeTimeout:g}=Xe(),x=j(null),_=j(null),k=j(e.modelValue),N=j(!1),ee=j(!0),G=j(!1),ae=j(!1),L=[],W=j(0),E=j(!1);let J=null,te=null,le;const me=$(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:$l(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),ye=$(()=>{const w=W.value,T=k.value;for(let A=0;A<w;A++)if(L[A].name.value===T)return!0;return!1}),D=$(()=>`q-tabs__content--align-${N.value===!0?"left":ae.value===!0?"justify":e.align}`),ue=$(()=>`q-tabs row no-wrap items-center q-tabs--${N.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),Ne=$(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+D.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),we=$(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),he=$(()=>e.vertical!==!0&&u.lang.rtl===!0),de=$(()=>_l===!1&&he.value===!0);ce(he,se),ce(()=>e.modelValue,w=>{Re({name:w,setCurrent:!0,skipEmit:!0})}),ce(()=>e.outsideArrows,qe);function Re({name:w,setCurrent:T,skipEmit:A}){k.value!==w&&(A!==!0&&e["onUpdate:modelValue"]!==void 0&&n("update:modelValue",w),(T===!0||e["onUpdate:modelValue"]===void 0)&&(Ee(k.value,w),k.value=w))}function qe(){v(()=>{x.value&&$e({width:x.value.offsetWidth,height:x.value.offsetHeight})})}function $e(w){if(we.value===void 0||_.value===null)return;const T=w[we.value.container],A=Math.min(_.value[we.value.scroll],Array.prototype.reduce.call(_.value.children,(Y,I)=>Y+(I[we.value.content]||0),0)),K=T>0&&A>T;N.value=K,K===!0&&d(se),ae.value=T<parseInt(e.breakpoint,10)}function Ee(w,T){const A=w!=null&&w!==""?L.find(Y=>Y.name.value===w):null,K=T!=null&&T!==""?L.find(Y=>Y.name.value===T):null;if(ze===!0)ze=!1;else if(A&&K){const Y=A.tabIndicatorRef.value,I=K.tabIndicatorRef.value;J!==null&&(clearTimeout(J),J=null),Y.style.transition="none",Y.style.transform="none",I.style.transition="none",I.style.transform="none";const z=Y.getBoundingClientRect(),Z=I.getBoundingClientRect();I.style.transform=e.vertical===!0?`translate3d(0,${z.top-Z.top}px,0) scale3d(1,${Z.height?z.height/Z.height:1},1)`:`translate3d(${z.left-Z.left}px,0,0) scale3d(${Z.width?z.width/Z.width:1},1,1)`,c(()=>{J=setTimeout(()=>{J=null,I.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",I.style.transform="none"},70)})}K&&N.value===!0&&oe(K.rootRef.value)}function oe(w){const{left:T,width:A,top:K,height:Y}=_.value.getBoundingClientRect(),I=w.getBoundingClientRect();let z=e.vertical===!0?I.top-K:I.left-T;if(z<0){_.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(z),se();return}z+=e.vertical===!0?I.height-Y:I.width-A,z>0&&(_.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(z),se())}function se(){const w=_.value;if(w===null)return;const T=w.getBoundingClientRect(),A=e.vertical===!0?w.scrollTop:Math.abs(w.scrollLeft);he.value===!0?(ee.value=Math.ceil(A+T.width)<w.scrollWidth-1,G.value=A>0):(ee.value=A>0,G.value=e.vertical===!0?Math.ceil(A+T.height)<w.scrollHeight:Math.ceil(A+T.width)<w.scrollWidth)}function M(w){te!==null&&clearInterval(te),te=setInterval(()=>{X(w)===!0&&f()},5)}function ve(){M(de.value===!0?Number.MAX_SAFE_INTEGER:0)}function ie(){M(de.value===!0?0:Number.MAX_SAFE_INTEGER)}function f(){te!==null&&(clearInterval(te),te=null)}function y(w,T){const A=Array.prototype.filter.call(_.value.children,Z=>Z===T||Z.matches&&Z.matches(".q-tab.q-focusable")===!0),K=A.length;if(K===0)return;if(w===36)return oe(A[0]),A[0].focus(),!0;if(w===35)return oe(A[K-1]),A[K-1].focus(),!0;const Y=w===(e.vertical===!0?38:37),I=w===(e.vertical===!0?40:39),z=Y===!0?-1:I===!0?1:void 0;if(z!==void 0){const Z=he.value===!0?-1:1,_e=A.indexOf(T)+z*Z;return _e>=0&&_e<K&&(oe(A[_e]),A[_e].focus({preventScroll:!0})),!0}}const Q=$(()=>de.value===!0?{get:w=>Math.abs(w.scrollLeft),set:(w,T)=>{w.scrollLeft=-T}}:e.vertical===!0?{get:w=>w.scrollTop,set:(w,T)=>{w.scrollTop=T}}:{get:w=>w.scrollLeft,set:(w,T)=>{w.scrollLeft=T}});function X(w){const T=_.value,{get:A,set:K}=Q.value;let Y=!1,I=A(T);const z=w<I?-1:1;return I+=z*5,I<0?(Y=!0,I=0):(z===-1&&I<=w||z===1&&I>=w)&&(Y=!0,I=w),K(T,I),se(),Y}function re(w,T){for(const A in w)if(w[A]!==T[A])return!1;return!0}function Fe(){let w=null,T={matchedLen:0,queryDiff:9999,hrefLen:0};const A=L.filter(z=>{var Z;return((Z=z.routeData)==null?void 0:Z.hasRouterLink.value)===!0}),{hash:K,query:Y}=o.$route,I=Object.keys(Y).length;for(const z of A){const Z=z.routeData.exact.value===!0;if(z.routeData[Z===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:_e,query:He,matched:jt,href:Ut}=z.routeData.resolvedLink.value,We=Object.keys(He).length;if(Z===!0){if(_e!==K||We!==I||re(Y,He)===!1)continue;w=z.name.value;break}if(_e!==""&&_e!==K||We!==0&&re(He,Y)===!1)continue;const xe={matchedLen:jt.length,queryDiff:I-We,hrefLen:Ut.length-_e.length};if(xe.matchedLen>T.matchedLen){w=z.name.value,T=xe;continue}else if(xe.matchedLen!==T.matchedLen)continue;if(xe.queryDiff<T.queryDiff)w=z.name.value,T=xe;else if(xe.queryDiff!==T.queryDiff)continue;xe.hrefLen>T.hrefLen&&(w=z.name.value,T=xe)}if(w===null&&L.some(z=>z.routeData===void 0&&z.name.value===k.value)===!0){ze=!1;return}Re({name:w,setCurrent:!0})}function Ot(w){if(i(),E.value!==!0&&x.value!==null&&w.target&&typeof w.target.closest=="function"){const T=w.target.closest(".q-tab");T&&x.value.contains(T)===!0&&(E.value=!0,N.value===!0&&oe(T))}}function Bt(){s(()=>{E.value=!1},30)}function je(){ot.avoidRouteWatcher===!1?r(Fe):g()}function nt(){if(le===void 0){const w=ce(()=>o.$route.fullPath,je);le=()=>{w(),le=void 0}}}function At(w){L.push(w),W.value++,qe(),w.routeData===void 0||o.$route===void 0?r(()=>{if(N.value===!0){const T=k.value,A=T!=null&&T!==""?L.find(K=>K.name.value===T):null;A&&oe(A.rootRef.value)}}):(nt(),w.routeData.hasRouterLink.value===!0&&je())}function Nt(w){L.splice(L.indexOf(w),1),W.value--,qe(),le!==void 0&&w.routeData!==void 0&&(L.every(T=>T.routeData===void 0)===!0&&le(),je())}const ot={currentModel:k,tabProps:me,hasFocus:E,hasActiveTab:ye,registerTab:At,unregisterTab:Nt,verifyRouteModel:je,updateModel:Re,onKbdNavigate:y,avoidRouteWatcher:!1};kt(ht,ot);function st(){J!==null&&clearTimeout(J),f(),le==null||le()}let it,ze;return Ue(st),Wt(()=>{it=le!==void 0,st()}),Kt(()=>{it===!0&&(nt(),ze=!0,je()),qe()}),()=>R("div",{ref:x,class:ue.value,role:"tablist",onFocusin:Ot,onFocusout:Bt},[R(zt,{onResize:$e}),R("div",{ref:_,class:Ne.value,onScroll:se},Ae(l.default)),R(ke,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(ee.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||u.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:ve,onTouchstartPassive:ve,onMouseupPassive:f,onMouseleavePassive:f,onTouchendPassive:f}),R(ke,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(G.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||u.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:ie,onTouchstartPassive:ie,onMouseupPassive:f,onMouseleavePassive:f,onTouchendPassive:f})])}}),Pl={class:"row q-col-gutter-md q-mt-sm"},Ll={class:"q-pa-sm"},Ol={class:"q-pa-sm"},Bl={class:"q-pa-sm"},Al={class:"q-pa-sm"},Nl={class:"q-pa-sm"},jl={key:0},Ul={__name:"Document",props:["data","office"],setup(e){const l=e,n=j(""),o=$(()=>{var v;return(v=l.data)!=null&&v.documents?l.data.documents.filter(d=>{var s,i,r;const c=n.value.toLowerCase();return((s=d.name)==null?void 0:s.toLowerCase().includes(c))||((r=(i=d.type)==null?void 0:i.name)==null?void 0:r.toLowerCase().includes(c))}):[]});function u(v){return new Date(v).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}return(v,d)=>(p(),S(F,{class:"q-mt-md"},{default:a(()=>[t(B,null,{default:a(()=>[d[1]||(d[1]=m("div",{class:"stitle"},"Uploaded Documents",-1)),m("div",Pl,[t(H,{modelValue:n.value,"onUpdate:modelValue":d[0]||(d[0]=c=>n.value=c),dense:"",outlined:"",label:"Search by document name or type...",class:"col-12 col-sm-6"},null,8,["modelValue"])])]),_:1,__:[1]}),t(kl,{flat:"",dense:"",class:"q-ma-sm"},{default:a(()=>[d[3]||(d[3]=m("thead",null,[m("tr",{class:"text-left"},[m("th",null,"Document Name"),m("th",null,"Type"),m("th",null,"Mime Type"),m("th",null,"Upload Date"),m("th",null,"Actions")])],-1)),m("tbody",null,[(p(!0),U(ne,null,Ce(o.value,c=>{var s;return p(),U("tr",{key:c.id,class:"text-left"},[m("td",Ll,C(c.name),1),m("td",Ol,C(((s=c.type)==null?void 0:s.name)||"—"),1),m("td",Bl,C(c.mime),1),m("td",Al,C(u(c.upload_date)),1),m("td",Nl,[t(P,{icon:"visibility",flat:"",dense:"",round:"",href:`/storage/${c.path}`,target:"_blank",title:"View Document"},null,8,["href"]),t(P,{icon:"download",flat:"",dense:"",round:"",href:`/storage/${c.path}`,download:"",title:"Download Document"},null,8,["href"])])])}),128)),o.value.length===0?(p(),U("tr",jl,d[2]||(d[2]=[m("td",{colspan:"5",class:"text-center text-grey"},"No documents found",-1)]))):O("",!0)])]),_:1,__:[3]})]),_:1}))}},Ql={__name:"TransferRequest",props:["data","office"],setup(e){const l=De(),n=j(!1),o=pe({}),u=d=>{o.post(route("transfer.approve",d),{onStart:()=>{l.loading.show()},onFinish:()=>{l.loading.hide(),n.value=!1,o.reset(),l.notify({type:"success",message:"Transfer Approved",position:"bottom"})},onError:c=>{Object.values(c).forEach(s=>{l.notify({type:"negative",message:s,position:"bottom"})})}})},v=d=>{o.post(route("transfer.reject",d),{onStart:()=>{l.loading.show()},onFinish:()=>{l.loading.hide(),n.value=!1,o.reset(),l.notify({type:"negative",message:"Transfer Rejected",position:"bottom"})},onError:c=>{Object.values(c).forEach(s=>{l.notify({type:"negative",message:s,position:"bottom"})})}})};return(d,c)=>(p(),S(F,{class:"q-mt-md"},{default:a(()=>[t(B,{class:"flex items-center justify-between"},{default:a(()=>c[0]||(c[0]=[m("div",{class:"stitle text-lg font-bold"},"Transfer Request",-1)])),_:1,__:[0]}),t(Le),t(B,null,{default:a(()=>[c[3]||(c[3]=m("div",{class:"stitle text-md font-semibold q-mb-sm"},"Tranfer Requests",-1)),t(Tt,{rows:e.data.transfer_requests,columns:[{name:"current_office",label:"Current Office",field:s=>{var i;return(i=s.current_office)==null?void 0:i.name}},{name:"requested_office",label:"Requested Office",field:s=>{var i;return(i=s.requested_office)==null?void 0:i.name}},{name:"status",label:"Status",field:"approval_status"},{name:"date",label:"Request Date",field:"request_date"},{name:"actions",label:"Actions",field:"id",align:"center"}],"row-key":"id",flat:"",bordered:""},{"body-cell-actions":a(s=>[t(Cl,{props:s},{default:a(()=>[s.row.approval_status==="pending"?(p(),S(St,{key:0,flat:"",dense:"",color:"primary",label:"Actions",size:"sm"},{default:a(()=>[t(Me,null,{default:a(()=>[fe((p(),S(V,{clickable:"",onClick:i=>u(s.row.id)},{default:a(()=>[t(h,{avatar:""},{default:a(()=>[t(ke,{name:"check",color:"positive"})]),_:1}),t(h,null,{default:a(()=>c[1]||(c[1]=[b("Approve")])),_:1,__:[1]})]),_:2},1032,["onClick"])),[[Je]]),fe((p(),S(V,{clickable:"",onClick:i=>v(s.row.id)},{default:a(()=>[t(h,{avatar:""},{default:a(()=>[t(ke,{name:"close",color:"negative"})]),_:1}),t(h,null,{default:a(()=>c[2]||(c[2]=[b("Reject")])),_:1,__:[2]})]),_:2},1032,["onClick"])),[[Je]])]),_:2},1024)]),_:2},1024)):O("",!0)]),_:2},1032,["props"])]),_:1},8,["rows","columns"])]),_:1,__:[3]})]),_:1}))}},zl=Dt(Ql,[["__scopeId","data-v-63a4d12a"]]),Il={key:0,class:"text-gray-500 text-center py-6"},Ml={key:1,class:"flex flex-col gap-4"},Fl={class:"flex flex-wrap justify-between items-center mb-3"},Hl={class:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2 p-3 rounded-md"},Wl={__name:"EditRequest",props:["data"],setup(e){const l=v=>{Ze.post(route("edit.approve",v))},n=v=>{Ze.post(route("edit.reject",v))},o=v=>{try{return JSON.parse(v)}catch{return{}}},u={name:"Name",date_of_birth:"Date of Birth",parent_name:"Parent's Name",employment_type:"Employment Type",designation:"Designation",educational_qln:"Educational Qualification",name_of_workplace:"Workplace Name",post_per_qualification:"Post per Qualification",date_of_engagement:"Date of Engagement",skill_category:"Skill Category",skill_at_present:"Skill at Present"};return(v,d)=>(p(),S(F,{class:"q-mt-md"},{default:a(()=>[t(B,null,{default:a(()=>d[0]||(d[0]=[m("div",{class:"stitle text-lg font-bold"},"Edit Requests",-1)])),_:1,__:[0]}),t(Le),t(B,null,{default:a(()=>[e.data.edit_requests.length===0?(p(),U("div",Il," No edit requests found. ")):(p(),U("div",Ml,[(p(!0),U(ne,null,Ce(e.data.edit_requests,c=>(p(),S(F,{key:c.id,class:"shadow-md rounded-xl border border-gray-200 hover:shadow-lg transition"},{default:a(()=>[t(B,null,{default:a(()=>[m("div",Fl,[m("div",null,[d[1]||(d[1]=m("b",{class:"text-label"},"Status:",-1)),m("span",{class:ge({"text-yellow-600":c.approval_status==="pending","text-green-600":c.approval_status==="approved","text-red-600":c.approval_status==="rejected"})},C(c.approval_status),3)]),m("div",null,[d[2]||(d[2]=m("b",{class:"text-label"},"Requested On:",-1)),b(" "+C(c.request_date),1)])]),m("div",null,[d[3]||(d[3]=m("b",{class:"block mb-2 text-label"},"Requested Changes:",-1)),m("div",Hl,[(p(!0),U(ne,null,Ce(o(c.requested_changes),(s,i)=>(p(),U("div",{key:i,class:"flex justify-between items-center"},[t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>[b(C(u[i]??i)+":",1)]),_:2},1024),t(h,{class:"text-label"},{default:a(()=>[b(C(s),1)]),_:2},1024)]),_:2},1024)]))),128))])])]),_:2},1024),c.approval_status==="pending"?(p(),S(be,{key:0,align:"right"},{default:a(()=>[t(P,{label:"Approve",color:"positive",onClick:s=>l(c.id)},null,8,["onClick"]),t(P,{label:"Reject",color:"negative",onClick:s=>n(c.id)},null,8,["onClick"])]),_:2},1024)):O("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}))}},Kl={key:0,class:"text-gray-500 text-center py-6"},Yl={key:1,class:"flex flex-col gap-4"},Gl={class:"flex flex-wrap justify-between items-center mb-3"},Jl={class:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2 p-3 rounded-md"},Xl={key:0,class:"mt-3"},Zl={__name:"DeletionRequest",props:["data"],setup(e){const l=De(),n=pe({});function o(c){try{return JSON.parse(c.reason)}catch{return{}}}function u(c){return new Date(c).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})}const v=c=>{n.post(route("deletion.approve",c),{onStart:()=>{l.loading.show()},onFinish:()=>{l.loading.hide(),n.reset(),l.notify({type:"success",message:"Deletion Approved",position:"bottom"})},onError:s=>{Object.values(s).forEach(i=>{l.notify({type:"negative",message:i,position:"bottom"})})}})},d=c=>{n.post(route("deletion.reject",c),{onStart:()=>{l.loading.show()},onFinish:()=>{l.loading.hide(),n.reset(),l.notify({type:"negative",message:"Deletion Rejected",position:"bottom"})},onError:s=>{Object.values(s).forEach(i=>{l.notify({type:"negative",message:i,position:"bottom"})})}})};return(c,s)=>(p(),S(F,{class:"q-mt-md"},{default:a(()=>[t(B,null,{default:a(()=>s[0]||(s[0]=[m("div",{class:"stitle text-lg font-bold"},"Deletion Requests",-1)])),_:1,__:[0]}),t(Le),t(B,null,{default:a(()=>[e.data.deletion_requests.length===0?(p(),U("div",Kl," No deletion requests. ")):(p(),U("div",Yl,[(p(!0),U(ne,null,Ce(e.data.deletion_requests,i=>(p(),S(F,{key:i.id,class:"shadow-md rounded-xl border border-gray-200 hover:shadow-lg transition"},{default:a(()=>[t(B,null,{default:a(()=>[m("div",Gl,[m("div",null,[s[1]||(s[1]=m("b",{class:"text-label"},"Status:",-1)),m("span",{class:ge({"text-yellow-600":i.approval_status==="pending","text-green-600":i.approval_status==="approved","text-red-600":i.approval_status==="rejected"})},C(i.approval_status),3)]),m("div",null,[s[2]||(s[2]=m("b",{class:"text-label"},"Requested On:",-1)),b(" "+C(u(i.request_date)),1)])]),m("div",null,[s[7]||(s[7]=m("b",{class:"block mb-2 text-label"},"Reason Details:",-1)),m("div",Jl,[t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>s[3]||(s[3]=[b("Reason:")])),_:1,__:[3]}),t(h,{class:"text-label"},{default:a(()=>[b(C(o(i).reason),1)]),_:2},1024)]),_:2},1024),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>s[4]||(s[4]=[b("Year:")])),_:1,__:[4]}),t(h,{class:"text-label"},{default:a(()=>[b(C(o(i).year),1)]),_:2},1024)]),_:2},1024),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>s[5]||(s[5]=[b("Remark:")])),_:1,__:[5]}),t(h,{class:"text-label"},{default:a(()=>[b(C(o(i).remark),1)]),_:2},1024)]),_:2},1024),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>s[6]||(s[6]=[b("Seniority List:")])),_:1,__:[6]}),t(h,{class:"text-label"},{default:a(()=>[b(C(o(i).seniority_list),1)]),_:2},1024)]),_:2},1024)]),o(i).supporting_document?(p(),U("div",Xl,[t(P,{dense:"",flat:"",color:"primary",icon:"attach_file",href:`/${o(i).supporting_document}`,target:"_blank",label:"View Document"},null,8,["href"])])):O("",!0)])]),_:2},1024),i.approval_status==="pending"?(p(),S(be,{key:0,align:"right"},{default:a(()=>[t(P,{label:"Approve",color:"positive",onClick:r=>v(i.id)},null,8,["onClick"]),t(P,{label:"Reject",color:"negative",onClick:r=>d(i.id)},null,8,["onClick"])]),_:2},1024)):O("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}))}},ea={key:0,class:"text-gray-500 text-center py-6"},ta={key:1,class:"flex flex-col gap-4"},la={class:"flex flex-wrap justify-between items-center mb-3"},aa={class:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2 p-3 rounded-md"},na={key:0,class:"mt-3"},oa={__name:"RequestDeletion",props:["data"],setup(e){const l=e,n=De(),o=pe({reason:"",seniority_list:"",year:"",remark:"",supporting_document:null}),u=j(!1);function v(s){try{return JSON.parse(s.reason)}catch{return{}}}function d(s){return new Date(s).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})}function c(){o.post(route("deletion.request",l.data),{preserveScroll:!0,onSuccess:()=>{n.notify({type:"positive",message:"Deletion request submitted successfully"}),u.value=!1,o.reset()},onError:s=>{Object.values(s).forEach(i=>{n.notify({type:"negative",message:i,position:"bottom"})})}})}return(s,i)=>(p(),S(F,{class:"q-mt-md"},{default:a(()=>[t(B,{class:"flex items-center justify-between"},{default:a(()=>[i[8]||(i[8]=m("div",{class:"stitle text-lg font-bold"},"Request Deletion",-1)),m("div",null,[e.data.employment_type!=="Deleted"?(p(),S(P,{key:0,label:"Request Deletion",color:"negative",onClick:i[0]||(i[0]=r=>u.value=!0)})):O("",!0)])]),_:1,__:[8]}),t(Le),t(Te,{modelValue:u.value,"onUpdate:modelValue":i[7]||(i[7]=r=>u.value=r)},{default:a(()=>[t(F,{style:{"min-width":"400px"}},{default:a(()=>[t(B,null,{default:a(()=>i[9]||(i[9]=[m("div",{class:"text-h6"},"Submit Deletion Request",-1)])),_:1,__:[9]}),t(B,null,{default:a(()=>[t(H,{modelValue:q(o).reason,"onUpdate:modelValue":i[1]||(i[1]=r=>q(o).reason=r),label:"Reason",type:"textarea",outlined:"",error:!!q(o).errors.reason,"error-message":q(o).errors.reason},null,8,["modelValue","error","error-message"]),t(H,{modelValue:q(o).seniority_list,"onUpdate:modelValue":i[2]||(i[2]=r=>q(o).seniority_list=r),label:"Seniority List",outlined:"",class:"q-mt-sm"},null,8,["modelValue"]),t(H,{modelValue:q(o).year,"onUpdate:modelValue":i[3]||(i[3]=r=>q(o).year=r),label:"Year",type:"number",outlined:"",class:"q-mt-sm"},null,8,["modelValue"]),t(H,{modelValue:q(o).remark,"onUpdate:modelValue":i[4]||(i[4]=r=>q(o).remark=r),label:"Remark",type:"textarea",outlined:"",class:"q-mt-sm"},null,8,["modelValue"]),t(lt,{modelValue:q(o).supporting_document,"onUpdate:modelValue":i[5]||(i[5]=r=>q(o).supporting_document=r),label:"Supporting Document",outlined:"",class:"q-mt-sm",error:!!q(o).errors.supporting_document,"error-message":q(o).errors.supporting_document},null,8,["modelValue","error","error-message"])]),_:1}),t(be,{align:"right"},{default:a(()=>[t(P,{flat:"",label:"Cancel",color:"grey",onClick:i[6]||(i[6]=r=>u.value=!1)}),t(P,{label:"Submit",color:"negative",onClick:c,loading:q(o).processing},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(B,null,{default:a(()=>[e.data.deletion_requests.length===0?(p(),U("div",ea," No deletion requests. ")):(p(),U("div",ta,[(p(!0),U(ne,null,Ce(e.data.deletion_requests,r=>(p(),S(F,{key:r.id,class:"shadow-md rounded-xl border border-gray-200 hover:shadow-lg transition"},{default:a(()=>[t(B,null,{default:a(()=>[m("div",la,[m("div",null,[i[10]||(i[10]=m("b",{class:"text-label"},"Status:",-1)),m("span",{class:ge({"text-yellow-600":r.approval_status==="pending","text-green-600":r.approval_status==="approved","text-red-600":r.approval_status==="rejected"})},C(r.approval_status),3)]),m("div",null,[i[11]||(i[11]=m("b",{class:"text-label"},"Requested On:",-1)),b(" "+C(d(r.request_date)),1)])]),m("div",null,[i[16]||(i[16]=m("b",{class:"block mb-2 text-label"},"Reason Details:",-1)),m("div",aa,[t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>i[12]||(i[12]=[b("Reason:")])),_:1,__:[12]}),t(h,{class:"text-label"},{default:a(()=>[b(C(v(r).reason),1)]),_:2},1024)]),_:2},1024),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>i[13]||(i[13]=[b("Year:")])),_:1,__:[13]}),t(h,{class:"text-label"},{default:a(()=>[b(C(v(r).year),1)]),_:2},1024)]),_:2},1024),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>i[14]||(i[14]=[b("Remark:")])),_:1,__:[14]}),t(h,{class:"text-label"},{default:a(()=>[b(C(v(r).remark),1)]),_:2},1024)]),_:2},1024),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>i[15]||(i[15]=[b("Seniority List:")])),_:1,__:[15]}),t(h,{class:"text-label"},{default:a(()=>[b(C(v(r).seniority_list),1)]),_:2},1024)]),_:2},1024)]),v(r).supporting_document?(p(),U("div",na,[t(P,{dense:"",flat:"",color:"primary",icon:"attach_file",href:`/${v(r).supporting_document}`,target:"_blank",label:"View Document"},null,8,["href"])])):O("",!0)])]),_:2},1024)]),_:2},1024))),128))]))]),_:1})]),_:1}))}},sa={key:0,class:"text-gray-500 text-center py-6"},ia={key:1,class:"flex flex-col gap-4"},ra={class:"flex flex-wrap justify-between items-center mb-3"},ua={class:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2 p-3 rounded-md"},da={__name:"RequestEdit",props:["data"],setup(e){const l=e,n=j(!1),o=pe({requested_changes:{name:"",date_of_birth:"",parent_name:"",employment_type:"",designation:"",educational_qln:"",name_of_workplace:"",post_per_qualification:"",date_of_engagement:"",skill_category:"",skill_at_present:""}}),u=[{label:"MR",value:"MR"},{label:"PE",value:"PE"}],v=[{label:"Unskilled",value:"Unskilled"},{label:"Semi-Skilled",value:"Semi-Skilled"},{label:"Skilled-I",value:"Skilled-I"},{label:"Skilled-II",value:"Skilled-II"}],d=()=>{o.post(route("edit.request",l.data),{onSuccess:()=>{n.value=!1,o.reset()}})},c=i=>{try{return JSON.parse(i)}catch{return{}}},s={name:"Name",date_of_birth:"Date of Birth",parent_name:"Parent's Name",employment_type:"Employment Type",designation:"Designation",educational_qln:"Educational Qualification",name_of_workplace:"Workplace Name",post_per_qualification:"Post per Qualification",date_of_engagement:"Date of Engagement",skill_category:"Skill Category",skill_at_present:"Skill at Present"};return(i,r)=>(p(),U(ne,null,[t(F,{class:"q-mt-md"},{default:a(()=>[t(B,{class:"flex items-center justify-between"},{default:a(()=>[r[12]||(r[12]=m("div",{class:"stitle text-lg font-bold"},"Request Edit",-1)),t(P,{label:"Request Edit",color:"primary",onClick:r[0]||(r[0]=g=>n.value=!0)})]),_:1,__:[12]}),t(Le),t(B,null,{default:a(()=>[e.data.edit_requests.length===0?(p(),U("div",sa," No edit requests found. ")):(p(),U("div",ia,[(p(!0),U(ne,null,Ce(e.data.edit_requests,g=>(p(),S(F,{key:g.id,class:"shadow-md rounded-xl border border-gray-200 hover:shadow-lg transition"},{default:a(()=>[t(B,null,{default:a(()=>[m("div",ra,[m("div",null,[r[13]||(r[13]=m("b",{class:"text-label"},"Status:",-1)),m("span",{class:ge({"text-yellow-600":g.approval_status==="pending","text-green-600":g.approval_status==="approved","text-red-600":g.approval_status==="rejected"})},C(g.approval_status),3)]),m("div",null,[r[14]||(r[14]=m("b",{class:"text-label"},"Requested On:",-1)),b(" "+C(g.request_date),1)])]),m("div",null,[r[15]||(r[15]=m("b",{class:"block mb-2 text-label"},"Requested Changes:",-1)),m("div",ua,[(p(!0),U(ne,null,Ce(c(g.requested_changes),(x,_)=>(p(),U("div",{key:_,class:"flex justify-between items-center"},[t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>[b(C(s[_]??_)+":",1)]),_:2},1024),t(h,{class:"text-label"},{default:a(()=>[b(C(x),1)]),_:2},1024)]),_:2},1024)]))),128))])])]),_:2},1024)]),_:2},1024))),128))]))]),_:1})]),_:1}),t(Te,{modelValue:n.value,"onUpdate:modelValue":r[11]||(r[11]=g=>n.value=g),persistent:""},{default:a(()=>[t(F,{style:{"min-width":"400px"}},{default:a(()=>[t(B,null,{default:a(()=>r[16]||(r[16]=[m("div",{class:"text-lg font-bold"},"Request Edit",-1)])),_:1,__:[16]}),t(B,null,{default:a(()=>[t(H,{modelValue:q(o).requested_changes.name,"onUpdate:modelValue":r[1]||(r[1]=g=>q(o).requested_changes.name=g),label:"New Name",outlined:"",dense:""},null,8,["modelValue"]),t(H,{modelValue:q(o).requested_changes.date_of_birth,"onUpdate:modelValue":r[2]||(r[2]=g=>q(o).requested_changes.date_of_birth=g),label:"New Date of Birth",type:"date",outlined:"",dense:"",class:"q-mt-md"},null,8,["modelValue"]),t(H,{modelValue:q(o).requested_changes.parent_name,"onUpdate:modelValue":r[3]||(r[3]=g=>q(o).requested_changes.parent_name=g),label:"New Parent Name",outlined:"",dense:"",class:"q-mt-md"},null,8,["modelValue"]),t(H,{modelValue:q(o).requested_changes.educational_qln,"onUpdate:modelValue":r[4]||(r[4]=g=>q(o).requested_changes.educational_qln=g),label:"Education Qualification",outlined:"",dense:"",class:"q-mt-md"},null,8,["modelValue"]),t(H,{modelValue:q(o).requested_changes.designation,"onUpdate:modelValue":r[5]||(r[5]=g=>q(o).requested_changes.designation=g),label:"New Designation",outlined:"",dense:"",class:"q-mt-md"},null,8,["modelValue"]),t(H,{modelValue:q(o).requested_changes.date_of_engagement,"onUpdate:modelValue":r[6]||(r[6]=g=>q(o).requested_changes.date_of_engagement=g),label:"New Date of Engagement",type:"date",outlined:"",dense:"",class:"q-mt-md"},null,8,["modelValue"]),t(Be,{modelValue:q(o).requested_changes.employment_type,"onUpdate:modelValue":r[7]||(r[7]=g=>q(o).requested_changes.employment_type=g),label:"New Employment Type",outlined:"",dense:"",class:"q-mt-md",options:u,"emit-value":"","map-options":""},null,8,["modelValue"]),q(o).requested_changes.employment_type==="MR"||e.data.employment_type==="MR"?(p(),S(H,{key:0,modelValue:q(o).requested_changes.post_per_qualification,"onUpdate:modelValue":r[8]||(r[8]=g=>q(o).requested_changes.post_per_qualification=g),label:"New Post per Qualification",outlined:"",dense:"",class:"q-mt-md"},null,8,["modelValue"])):O("",!0),q(o).requested_changes.employment_type==="MR"||e.data.employment_type==="MR"?(p(),S(Be,{key:1,modelValue:q(o).requested_changes.skill_category,"onUpdate:modelValue":r[9]||(r[9]=g=>q(o).requested_changes.skill_category=g),label:"New Skill Category",outlined:"",dense:"",class:"q-mt-md",options:v,"emit-value":"","map-options":""},null,8,["modelValue"])):O("",!0),q(o).requested_changes.employment_type==="MR"||e.data.employment_type==="MR"?(p(),S(Be,{key:2,modelValue:q(o).requested_changes.skill_at_present,"onUpdate:modelValue":r[10]||(r[10]=g=>q(o).requested_changes.skill_at_present=g),label:"New Skill at Present",outlined:"",dense:"",class:"q-mt-md",options:v,"emit-value":"","map-options":""},null,8,["modelValue"])):O("",!0)]),_:1}),t(be,{align:"right"},{default:a(()=>[fe(t(P,{flat:"",label:"Cancel"},null,512),[[Se]]),t(P,{label:"Submit",color:"primary",loading:q(o).processing,onClick:d},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},ca={__name:"RequestTransfer",props:["data","office"],setup(e){const l=e,n=De(),o=j(!1),u=pe({requested_office_id:""}),v=$(()=>{var c,s;return((s=(c=l.data.transfer_requests)==null?void 0:c.slice(-1)[0])==null?void 0:s.approval_status)==="pending"}),d=()=>{u.post(route("transfer.request",l.data),{onStart:()=>{n.loading.show()},onFinish:()=>{n.loading.hide(),o.value=!1,u.reset(),n.notify({type:"positive",message:"Transfer Requested",position:"bottom"})},onError:c=>{Object.values(c).forEach(s=>{n.notify({type:"negative",message:s,position:"bottom"})})}})};return(c,s)=>(p(),U(ne,null,[t(F,{class:"q-mt-md"},{default:a(()=>[t(B,{class:"flex items-center justify-between"},{default:a(()=>[s[3]||(s[3]=m("div",{class:"stitle text-lg font-bold"},"Request Transfer",-1)),m("div",null,[t(P,{label:"Request Transfer",color:"primary",disable:v.value,onClick:s[0]||(s[0]=i=>o.value=!0)},null,8,["disable"])])]),_:1,__:[3]}),t(Le),t(B,null,{default:a(()=>[s[4]||(s[4]=m("div",{class:"stitle text-md font-semibold q-mb-sm"},"Previous Requests",-1)),t(Tt,{rows:e.data.transfer_requests,columns:[{name:"id",label:"ID",field:"id",align:"left"},{name:"current_office",label:"Current Office",field:i=>{var r;return(r=i.current_office)==null?void 0:r.name}},{name:"requested_office",label:"Requested Office",field:i=>{var r;return(r=i.requested_office)==null?void 0:r.name}},{name:"status",label:"Status",field:"approval_status"},{name:"date",label:"Request Date",field:"request_date"}],"row-key":"id",flat:"",bordered:""},null,8,["rows","columns"])]),_:1,__:[4]})]),_:1}),t(Te,{modelValue:o.value,"onUpdate:modelValue":s[2]||(s[2]=i=>o.value=i),persistent:""},{default:a(()=>[t(F,{style:{"min-width":"400px"}},{default:a(()=>[t(B,null,{default:a(()=>s[5]||(s[5]=[m("div",{class:"text-h6"},"Select Requested Office",-1)])),_:1,__:[5]}),t(B,null,{default:a(()=>[t(Be,{modelValue:q(u).requested_office_id,"onUpdate:modelValue":s[1]||(s[1]=i=>q(u).requested_office_id=i),options:e.office,"option-value":"id","option-label":"name",label:"Office",dense:"",outlined:""},null,8,["modelValue","options"])]),_:1}),t(be,{align:"right"},{default:a(()=>[fe(t(P,{flat:"",label:"Cancel",color:"negative"},null,512),[[Se]]),t(P,{flat:"",label:"Submit",color:"primary",onClick:d})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},fa=Dt(ca,[["__scopeId","data-v-4360f5c2"]]),ma=Pe({name:"QTimelineEntry",props:{heading:Boolean,tag:{type:String,default:"h3"},side:{type:String,default:"right",validator:e=>["left","right"].includes(e)},icon:String,avatar:String,color:String,title:String,subtitle:String,body:String},setup(e,{slots:l}){const n=yt(wt,Oe);if(n===Oe)return console.error("QTimelineEntry needs to be child of QTimeline"),Oe;const o=$(()=>`q-timeline__entry q-timeline__entry--${e.side}`+(e.icon!==void 0||e.avatar!==void 0?" q-timeline__entry--icon":"")),u=$(()=>`q-timeline__dot text-${e.color||n.color}`),v=$(()=>n.layout==="comfortable"&&n.side==="left");return()=>{const d=Yt(l.default,[]);if(e.body!==void 0&&d.unshift(e.body),e.heading===!0){const i=[R("div"),R("div"),R(e.tag,{class:"q-timeline__heading-title"},d)];return R("div",{class:"q-timeline__heading"},v.value===!0?i.reverse():i)}let c;e.icon!==void 0?c=[R(ke,{class:"row items-center justify-center",name:e.icon})]:e.avatar!==void 0&&(c=[R("img",{class:"q-timeline__dot-img",src:e.avatar})]);const s=[R("div",{class:"q-timeline__subtitle"},[R("span",{},Ae(l.subtitle,[e.subtitle]))]),R("div",{class:u.value},c),R("div",{class:"q-timeline__content"},[R("h6",{class:"q-timeline__title"},Ae(l.title,[e.title]))].concat(d))];return R("li",{class:o.value},v.value===!0?s.reverse():s)}}}),va=Pe({name:"QTimeline",props:{...qt,color:{type:String,default:"primary"},side:{type:String,default:"right",validator:e=>["left","right"].includes(e)},layout:{type:String,default:"dense",validator:e=>["dense","comfortable","loose"].includes(e)}},setup(e,{slots:l}){const n=Qe(),o=xt(e,n.proxy.$q);kt(wt,e);const u=$(()=>`q-timeline q-timeline--${e.layout} q-timeline--${e.layout}--${e.side}`+(o.value===!0?" q-timeline--dark":""));return()=>R("ul",{class:u.value},Ae(l.default))}}),ga={class:"flex items-center justify-between q-pa-md bg-white"},pa={class:"flex q-gutter-sm"},ba={key:0},ya={class:"flex items-center justify-between"},ha={key:1,class:"text-subtitle2 text-grey-7 q-pa-md"},_a={key:0},ka={key:1},wa={__name:"Transfer",props:["data","office","canCreateTransfer","canDeleteTransfer"],setup(e){const l=e,n=De(),o=j(!1),u=j(!1),v=pe({old_office_id:null,new_office_id:null,transfer_date:"",is_present_transfer:!1}),d=$(()=>{var r;return[...((r=l.data)==null?void 0:r.transfers)||[]].sort((g,x)=>new Date(g.transfer_date)-new Date(x.transfer_date))});function c(r){return new Date(r).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}const s=r=>{v.is_present_transfer=u.value,v.post(route("transfer.store",l.data),{onStart:()=>{n.loading.show(),v.reset()},onFinish:()=>{n.loading.hide(),o.value=!1,v.reset()},onError:g=>{Object.values(g).forEach(x=>{n.notify({type:"negative",message:x,position:"bottom"})})}})},i=r=>{n.dialog({title:"Confirmation",message:"Do you want to delete?",ok:"Yes",cancel:"No"}).onOk(()=>{Ze.delete(route("transfer.destroy",r),{onStart:g=>n.loading.show(),onFinish:g=>n.loading.hide(),preserveState:!1})})};return ce(u,r=>{r?(v.old_office_id=l.data.office,v.transfer_date=new Date().toISOString().split("T")[0]):(v.old_office_id=null,v.transfer_date="")}),(r,g)=>(p(),U(ne,null,[t(F,{class:"q-mt-md"},{default:a(()=>[m("div",ga,[g[7]||(g[7]=m("div",null,[m("div",{class:"stitle"},"Transfer History")],-1)),m("div",pa,[e.canCreateTransfer?(p(),S(P,{key:0,onClick:g[0]||(g[0]=x=>o.value=!0),color:"btn-primary",icon:"add"})):O("",!0)])]),t(B,null,{default:a(()=>[d.value.length>0?(p(),U("div",ba,[t(va,{color:"primary",class:"q-pa-md"},{default:a(()=>[(p(!0),U(ne,null,Ce(d.value,(x,_)=>(p(),S(ma,{key:x.id,title:c(x.transfer_date),icon:_===d.value.length-1?"flag":"swap_horiz"},{subtitle:a(()=>[m("div",ya,[m("span",null,"Transfer #"+C(_+1),1),e.canDeleteTransfer?(p(),S(P,{key:0,icon:"delete",color:"red",flat:"",dense:"",size:"m",onClick:k=>i(x.id),title:"Delete Transfer"},null,8,["onClick"])):O("",!0)])]),default:a(()=>{var k,N;return[m("div",null,[g[8]||(g[8]=b(" From ")),m("strong",null,C(((k=x.old_office)==null?void 0:k.name)||"Unknown Office"),1),g[9]||(g[9]=b(" to ")),m("strong",null,C(((N=x.new_office)==null?void 0:N.name)||"Unknown Office"),1)])]}),_:2},1032,["title","icon"]))),128))]),_:1})])):(p(),U("div",ha," No transfer history found "))]),_:1})]),_:1}),t(Te,{modelValue:o.value,"onUpdate:modelValue":g[6]||(g[6]=x=>o.value=x)},{default:a(()=>[t(F,{style:{"min-width":"400px"}},{default:a(()=>[t(B,null,{default:a(()=>g[10]||(g[10]=[m("div",{class:"stitle"},"Add Transfer",-1)])),_:1,__:[10]}),t(B,{class:"q-gutter-md"},{default:a(()=>[t(Gt,{modelValue:u.value,"onUpdate:modelValue":g[1]||(g[1]=x=>u.value=x),label:"Is Present Transfer?",color:"primary"},null,8,["modelValue"]),u.value?(p(),U("div",_a,[t(H,{modelValue:e.data.office.name,"onUpdate:modelValue":g[2]||(g[2]=x=>e.data.office.name=x),label:"Old Office",dense:"",outlined:"",readonly:""},null,8,["modelValue"])])):(p(),U("div",ka,[t(Be,{modelValue:q(v).old_office_id,"onUpdate:modelValue":g[3]||(g[3]=x=>q(v).old_office_id=x),options:e.office,"option-value":"id","option-label":"name",label:"Old Office",dense:"",outlined:""},null,8,["modelValue","options"])])),t(Be,{modelValue:q(v).new_office_id,"onUpdate:modelValue":g[4]||(g[4]=x=>q(v).new_office_id=x),options:e.office,"option-value":"id","option-label":"name",label:"New Office",dense:"",outlined:""},null,8,["modelValue","options"]),t(H,{modelValue:q(v).transfer_date,"onUpdate:modelValue":g[5]||(g[5]=x=>q(v).transfer_date=x),type:"date",label:"Transfer Date",dense:"",outlined:""},null,8,["modelValue"])]),_:1}),t(be,{align:"right"},{default:a(()=>[fe(t(P,{flat:"",label:"Cancel"},null,512),[[Se]]),t(P,{flat:"",label:"Submit",color:"primary",onClick:s})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},qa=Pe({name:"QSpace",setup(){const e=R("div",{class:"q-space"});return()=>e}}),xa={__name:"DeletionDialog",props:{modelValue:Boolean,employee:Object},emits:["update:modelValue"],setup(e,{emit:l}){const n=De(),o=e,u=l,v=j(o.modelValue);ce(()=>o.modelValue,s=>v.value=s),ce(v,s=>u("update:modelValue",s));const d=pe({seniority_list:"",reason:"",year:new Date().getFullYear(),remark:"",supporting_document:null});function c(){d.post(route("deletion.store",o.employee),{preserveScroll:!0,onSuccess:()=>{v.value=!1,d.reset(),n.notify({type:"positive",message:"Employee Deleted successfully."})}})}return(s,i)=>(p(),S(Te,{modelValue:v.value,"onUpdate:modelValue":i[5]||(i[5]=r=>v.value=r)},{default:a(()=>[t(F,{style:{"min-width":"400px"}},{default:a(()=>[t(B,{class:"row items-center q-pa-sm bg-negative text-white"},{default:a(()=>[i[6]||(i[6]=m("div",{class:"text-h6"},"Employee Deletion Details",-1)),t(qa),fe(t(P,{icon:"close",flat:"",round:"",dense:""},null,512),[[Se]])]),_:1,__:[6]}),t(Rt,{onSubmit:Ct(c,["prevent"])},{default:a(()=>[t(B,{class:"q-gutter-md"},{default:a(()=>[t(H,{modelValue:q(d).seniority_list,"onUpdate:modelValue":i[0]||(i[0]=r=>q(d).seniority_list=r),label:"Seniority List",dense:"",outlined:"",type:"number"},null,8,["modelValue"]),t(H,{modelValue:q(d).reason,"onUpdate:modelValue":i[1]||(i[1]=r=>q(d).reason=r),label:"Reason",dense:"",outlined:"",required:""},null,8,["modelValue"]),t(H,{modelValue:q(d).year,"onUpdate:modelValue":i[2]||(i[2]=r=>q(d).year=r),label:"Year",dense:"",outlined:"",type:"number"},null,8,["modelValue"]),t(H,{modelValue:q(d).remark,"onUpdate:modelValue":i[3]||(i[3]=r=>q(d).remark=r),label:"Remark",type:"textarea",dense:"",outlined:""},null,8,["modelValue"]),t(lt,{modelValue:q(d).supporting_document,"onUpdate:modelValue":i[4]||(i[4]=r=>q(d).supporting_document=r),label:"Supporting Document",dense:"",outlined:""},null,8,["modelValue"])]),_:1}),t(be,{align:"right",class:"q-pa-sm"},{default:a(()=>[fe(t(P,{flat:"",label:"Cancel"},null,512),[[Se]]),t(P,{color:"negative",label:"Submit Deletion",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},Ca={class:"flex items-center justify-between q-pa-md bg-white"},Sa={class:"flex q-gutter-sm"},Ta={__name:"Deletion",props:["deletion","canEditDelete"],setup(e){const l=De(),n=e,o=j(!1),u=pe({reason:n.deletion.reason||"",seniority_list:n.deletion.seniority_list||"",year:n.deletion.year||"",remark:n.deletion.remark||"",supporting_document:null}),v=()=>{u.post(route("deletion.update",n.deletion),{preserveScroll:!0,onSuccess:()=>{o.value=!1,l.notify({type:"positive",message:"Deleted details updated successfully."})}})},d=c=>{window.open(c,"_blank")};return(c,s)=>(p(),U(ne,null,[t(F,{class:"q-mt-md"},{default:a(()=>[m("div",Ca,[s[8]||(s[8]=m("div",null,[m("div",{class:"stitle text-red"},"Deletion Detail")],-1)),m("div",Sa,[e.canEditDelete?(p(),S(P,{key:0,onClick:s[0]||(s[0]=i=>o.value=!0),color:"btn-primary",icon:"edit"})):O("",!0)])]),t(B,null,{default:a(()=>[t(Me,{class:"q-mt-sm"},{default:a(()=>[t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>s[9]||(s[9]=[b("Reason:")])),_:1,__:[9]}),t(h,{class:"text-label"},{default:a(()=>[b(C(e.deletion.reason),1)]),_:1})]),_:1}),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>s[10]||(s[10]=[b("Seniority List:")])),_:1,__:[10]}),t(h,{class:"text-label"},{default:a(()=>[b(C(e.deletion.seniority_list),1)]),_:1})]),_:1}),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>s[11]||(s[11]=[b("Year:")])),_:1,__:[11]}),t(h,{class:"text-label"},{default:a(()=>[b(C(e.deletion.year),1)]),_:1})]),_:1}),e.deletion.remark?(p(),S(V,{key:0},{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>s[12]||(s[12]=[b("Remark:")])),_:1,__:[12]}),t(h,{class:"text-label"},{default:a(()=>[b(C(e.deletion.remark),1)]),_:1})]),_:1})):O("",!0),e.deletion.supporting_document?(p(),S(V,{key:1},{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>s[13]||(s[13]=[b("Supporting Document:")])),_:1,__:[13]}),t(h,{class:"text-label"},{default:a(()=>[t(P,{dense:"",flat:"",icon:"visibility",href:`/storage/${e.deletion.supporting_document}`,target:"_blank"},null,8,["href"])]),_:1})]),_:1})):O("",!0)]),_:1})]),_:1})]),_:1}),t(Te,{modelValue:o.value,"onUpdate:modelValue":s[7]||(s[7]=i=>o.value=i)},{default:a(()=>[t(F,{style:{"min-width":"500px","max-width":"90vw"}},{default:a(()=>[t(B,{class:"bg-negative text-white"},{default:a(()=>s[14]||(s[14]=[m("div",{class:"text-h6"},"Edit Deletion Detail",-1)])),_:1,__:[14]}),t(Rt,{onSubmit:Ct(v,["prevent"])},{default:a(()=>[t(B,{class:"q-gutter-md"},{default:a(()=>[t(H,{modelValue:q(u).reason,"onUpdate:modelValue":s[1]||(s[1]=i=>q(u).reason=i),label:"Reason",outlined:"",dense:"",required:""},null,8,["modelValue"]),t(H,{modelValue:q(u).seniority_list,"onUpdate:modelValue":s[2]||(s[2]=i=>q(u).seniority_list=i),label:"Seniority List",outlined:"",dense:""},null,8,["modelValue"]),t(H,{modelValue:q(u).year,"onUpdate:modelValue":s[3]||(s[3]=i=>q(u).year=i),label:"Year",outlined:"",dense:"",type:"number"},null,8,["modelValue"]),t(H,{modelValue:q(u).remark,"onUpdate:modelValue":s[4]||(s[4]=i=>q(u).remark=i),label:"Remark",outlined:"",dense:"",type:"textarea"},null,8,["modelValue"]),t(lt,{modelValue:q(u).supporting_document,"onUpdate:modelValue":s[6]||(s[6]=i=>q(u).supporting_document=i),label:"Supporting Document",outlined:"",dense:"",accept:".pdf,.png,.jpg,.jpeg"},Jt({_:2},[e.deletion.supporting_document?{name:"append",fn:a(()=>[t(P,{round:"",dense:"",flat:"",icon:"visibility",href:`/storage/${e.deletion.supporting_document}`,onClick:s[5]||(s[5]=i=>d(`/storage/${e.deletion.supporting_document}`)),class:"q-ml-sm"},null,8,["href"])]),key:"0"}:void 0]),1032,["modelValue"])]),_:1}),t(be,{align:"right"},{default:a(()=>[fe(t(P,{flat:"",label:"Cancel"},null,512),[[Se]]),t(P,{color:"primary",label:"Update",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Da={class:"flex items-center justify-between q-pa-md bg-white"},Ra={class:"flex q-gutter-sm"},$a={key:0,class:"text-grey-7 text-center q-pa-md"},Ea={class:"text-h6"},Va={__name:"Remuneration",props:{data:Object,canCreateRemuneration:Boolean},setup(e){const l=e,n=j(!1),o=j(!1),u=pe({remuneration:"",next_increment_date:""}),v=(c=!1)=>{o.value=c,c&&l.data.remuneration_detail?(u.remuneration=l.data.remuneration_detail.remuneration,u.next_increment_date=l.data.remuneration_detail.next_increment_date):u.reset(),n.value=!0},d=()=>{o.value?u.put(route("remuneration.update",l.data.id),{onSuccess:()=>{n.value=!1}}):u.post(route("remuneration.store",l.data.id),{onSuccess:()=>{n.value=!1,u.reset()}})};return(c,s)=>(p(),U(ne,null,[t(F,{class:"q-mt-md"},{default:a(()=>[m("div",Da,[s[4]||(s[4]=m("div",null,[m("div",{class:"stitle"},"Remuneration Detail")],-1)),m("div",Ra,[e.canCreateRemuneration?(p(),S(P,{key:0,onClick:s[0]||(s[0]=i=>v(!!e.data.remuneration_detail)),color:"btn-primary",icon:e.data.remuneration_detail?"edit":"add"},null,8,["icon"])):O("",!0)])]),t(B,null,{default:a(()=>[e.data.remuneration_detail?(p(),S(Me,{key:1,class:"q-mt-sm"},{default:a(()=>[t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>s[5]||(s[5]=[b("Remuneration:")])),_:1,__:[5]}),t(h,{class:"text-label"},{default:a(()=>[b(" ₹ "+C(e.data.remuneration_detail.remuneration.toLocaleString()),1)]),_:1})]),_:1}),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>s[6]||(s[6]=[b("Medical Allowance (%):")])),_:1,__:[6]}),t(h,{class:"text-label"},{default:a(()=>[b(C(e.data.remuneration_detail.medical_percentage),1)]),_:1})]),_:1}),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>s[7]||(s[7]=[b("Medical Allowance:")])),_:1,__:[7]}),t(h,{class:"text-label"},{default:a(()=>[b(" ₹ "+C(e.data.remuneration_detail.medical_amount.toLocaleString()),1)]),_:1})]),_:1}),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>s[8]||(s[8]=[b("Total:")])),_:1,__:[8]}),t(h,{class:"text-label"},{default:a(()=>[b(" ₹ "+C(e.data.remuneration_detail.total.toLocaleString()),1)]),_:1})]),_:1}),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>s[9]||(s[9]=[b("Monthly Remuneration:")])),_:1,__:[9]}),t(h,{class:"text-label"},{default:a(()=>[b(" ₹ "+C(e.data.remuneration_detail.round_total.toLocaleString()),1)]),_:1})]),_:1}),t(Le,{spaced:""}),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>s[10]||(s[10]=[b("Date of next Increment:")])),_:1,__:[10]}),t(h,{class:"text-label"},{default:a(()=>[b(C(new Date(e.data.remuneration_detail.next_increment_date).toLocaleDateString()),1)]),_:1})]),_:1})]),_:1})):(p(),U("div",$a," No remuneration data available. "))]),_:1})]),_:1}),t(Te,{modelValue:n.value,"onUpdate:modelValue":s[3]||(s[3]=i=>n.value=i)},{default:a(()=>[t(F,{style:{"min-width":"400px"}},{default:a(()=>[t(B,null,{default:a(()=>[m("div",Ea,C(o.value?"Edit":"Add")+" Remuneration",1)]),_:1}),t(B,{class:"q-gutter-md"},{default:a(()=>[t(H,{label:"Remuneration",type:"number",modelValue:q(u).remuneration,"onUpdate:modelValue":s[1]||(s[1]=i=>q(u).remuneration=i),outlined:"",dense:""},null,8,["modelValue"]),t(H,{label:"Next Increment Date",type:"date",modelValue:q(u).next_increment_date,"onUpdate:modelValue":s[2]||(s[2]=i=>q(u).next_increment_date=i),outlined:"",dense:""},null,8,["modelValue"])]),_:1}),t(be,{align:"right"},{default:a(()=>[fe(t(P,{flat:"",label:"Cancel"},null,512),[[Se]]),t(P,{color:"primary",label:o.value?"Update":"Save",onClick:d},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};function $t(e,l){if(l&&e===l)return null;const n=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(n)===!0)return e;const o=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,u=o.display;return u==="block"||u==="table"?e:$t(e.parentNode)}function Ye(e,l,n){return!e||e===document.body?!1:n===!0&&e===l||(l===document?document.body:l).contains(e.parentNode)}function Et(e,l,n){if(n||(n=document.createRange(),n.selectNode(e),n.setStart(e,0)),l.count===0)n.setEnd(e,l.count);else if(l.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<l.count?l.count-=e.textContent.length:(n.setEnd(e,l.count),l.count=0);else for(let o=0;l.count!==0&&o<e.childNodes.length;o++)n=Et(e.childNodes[o],l,n);return n}const Pa=/^https?:\/\//;class La{constructor(l,n){this.el=l,this.eVm=n,this._range=null}get selection(){if(this.el){const l=document.getSelection();if(Ye(l.anchorNode,this.el,!0)&&Ye(l.focusNode,this.el,!0))return l}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length!==0:!1}get range(){const l=this.selection;return l!=null&&l.rangeCount?l.getRangeAt(0):this._range}get parent(){const l=this.range;if(l!==null){const n=l.startContainer;return n.nodeType===document.ELEMENT_NODE?n:n.parentNode}return null}get blockParent(){const l=this.parent;return l!==null?$t(l,this.el):null}save(l=this.range){l!==null&&(this._range=l)}restore(l=this._range){const n=document.createRange(),o=document.getSelection();l!==null?(n.setStart(l.startContainer,l.startOffset),n.setEnd(l.endContainer,l.endOffset),o.removeAllRanges(),o.addRange(n)):(o.selectAllChildren(this.el),o.collapseToEnd())}savePosition(){let l=-1,n;const o=document.getSelection(),u=this.el.parentNode;if(o.focusNode&&Ye(o.focusNode,u))for(n=o.focusNode,l=o.focusOffset;n&&n!==u;)n!==this.el&&n.previousSibling?(n=n.previousSibling,l+=n.textContent.length):n=n.parentNode;this.savedPos=l}restorePosition(l=0){if(this.savedPos>0&&this.savedPos<l){const n=window.getSelection(),o=Et(this.el,{count:this.savedPos});o&&(o.collapse(!1),n.removeAllRanges(),n.addRange(o))}}hasParent(l,n){const o=n?this.parent:this.blockParent;return o!==null?o.nodeName.toLowerCase()===l.toLowerCase():!1}hasParents(l,n,o=this.parent){return o===null?!1:l.includes(o.nodeName.toLowerCase())===!0?!0:n===!0?this.hasParents(l,n,o.parentNode):!1}is(l,n){if(this.selection===null)return!1;switch(l){case"formatBlock":return n==="DIV"&&this.parent===this.el||this.hasParent(n,n==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(l)===n;case"fontName":const o=document.queryCommandValue(l);return o===`"${n}"`||o===n;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const u=document.queryCommandState(l);return n!==void 0?u===n:u}}getParentAttribute(l){return this.parent!==null?this.parent.getAttribute(l):null}can(l){if(l==="outdent")return this.hasParents(["blockquote","li"],!0);if(l==="indent")return this.hasParents(["li"],!0);if(l==="link")return this.selection!==null||this.is("link")}apply(l,n,o=Xt){if(l==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(n)&&this.is(l,n)&&(l="outdent",n=null),n==="PRE"&&this.is(l,"PRE")&&(n="P");else if(l==="print"){o();const u=window.open();u.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),u.print(),u.close();return}else if(l==="link"){const u=this.getParentAttribute("href");if(u===null){const v=this.selectWord(this.selection),d=v?v.toString():"";if(!d.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=Pa.test(d)?d:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(v.getRangeAt(0))}else this.eVm.editLinkUrl.value=u,this.range.selectNodeContents(this.parent),this.save();return}else if(l==="fullscreen"){this.eVm.toggleFullscreen(),o();return}else if(l==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),o();return}document.execCommand(l,!1,n),o()}selectWord(l){if(l===null||l.isCollapsed!==!0||l.modify===void 0)return l;const n=document.createRange();n.setStart(l.anchorNode,l.anchorOffset),n.setEnd(l.focusNode,l.focusOffset);const o=n.collapsed?["backward","forward"]:["forward","backward"];n.detach();const u=l.focusNode,v=l.focusOffset;return l.collapse(l.anchorNode,l.anchorOffset),l.modify("move",o[0],"character"),l.modify("move",o[1],"word"),l.extend(u,v),l.modify("extend",o[1],"character"),l.modify("extend",o[0],"word"),l}}const Oa=Pe({name:"QTooltip",inheritAttrs:!1,props:{...ml,...tl,...Ke,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...Ke.transitionShow,default:"jump-down"},transitionHide:{...Ke.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:mt},self:{type:String,default:"top middle",validator:mt},offset:{type:Array,default:()=>[14,14],validator:fl},scrollTarget:el,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Zt],setup(e,{slots:l,emit:n,attrs:o}){let u,v;const d=Qe(),{proxy:{$q:c}}=d,s=j(null),i=j(!1),r=$(()=>vt(e.anchor,c.lang.rtl)),g=$(()=>vt(e.self,c.lang.rtl)),x=$(()=>e.persistent!==!0),{registerTick:_,removeTick:k}=Ie(),{registerTimeout:N}=Xe(),{transitionProps:ee,transitionStyle:G}=ll(e),{localScrollTarget:ae,changeScrollEvent:L,unconfigureScrollTarget:W}=vl(e,Ee),{anchorEl:E,canShow:J,anchorEvents:te}=gl({showing:i,configureAnchorEl:$e}),{show:le,hide:me}=al({showing:i,canShow:J,handleShow:Ne,handleHide:we,hideOnRouteChange:x,processOnMount:!0});Object.assign(te,{delayShow:Re,delayHide:qe});const{showPortal:ye,hidePortal:D,renderPortal:ue}=nl(d,s,se,"tooltip");if(c.platform.is.mobile===!0){const M={anchorEl:E,innerRef:s,onClickOutside(ie){return me(ie),ie.target.classList.contains("q-dialog__backdrop")&&tt(ie),!0}},ve=$(()=>e.modelValue===null&&e.persistent!==!0&&i.value===!0);ce(ve,ie=>{(ie===!0?pl:gt)(M)}),Ue(()=>{gt(M)})}function Ne(M){ye(),_(()=>{v=new MutationObserver(()=>de()),v.observe(s.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),de(),Ee()}),u===void 0&&(u=ce(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,de)),N(()=>{ye(!0),n("show",M)},e.transitionDuration)}function we(M){k(),D(),he(),N(()=>{D(!0),n("hide",M)},e.transitionDuration)}function he(){v!==void 0&&(v.disconnect(),v=void 0),u!==void 0&&(u(),u=void 0),W(),ut(te,"tooltipTemp")}function de(){bl({targetEl:s.value,offset:e.offset,anchorEl:E.value,anchorOrigin:r.value,selfOrigin:g.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Re(M){if(c.platform.is.mobile===!0){pt(),document.body.classList.add("non-selectable");const ve=E.value,ie=["touchmove","touchcancel","touchend","click"].map(f=>[ve,f,"delayHide","passiveCapture"]);dt(te,"tooltipTemp",ie)}N(()=>{le(M)},e.delay)}function qe(M){c.platform.is.mobile===!0&&(ut(te,"tooltipTemp"),pt(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),N(()=>{me(M)},e.hideDelay)}function $e(){if(e.noParentEvent===!0||E.value===null)return;const M=c.platform.is.mobile===!0?[[E.value,"touchstart","delayShow","passive"]]:[[E.value,"mouseenter","delayShow","passive"],[E.value,"mouseleave","delayHide","passive"]];dt(te,"anchor",M)}function Ee(){if(E.value!==null||e.scrollTarget!==void 0){ae.value=ol(E.value,e.scrollTarget);const M=e.noParentEvent===!0?de:me;L(ae.value,M)}}function oe(){return i.value===!0?R("div",{...o,ref:s,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",o.class],style:[o.style,G.value],role:"tooltip"},Ae(l.default)):null}function se(){return R(sl,ee.value,oe)}return Ue(he),Object.assign(d.proxy,{updatePosition:de}),ue}});function Vt(e,l,n){l.handler?l.handler(e,n,n.caret):n.runCmd(l.cmd,l.param)}function at(e){return R("div",{class:"q-editor__toolbar-group"},e)}function Pt(e,l,n,o=!1){const u=o||(l.type==="toggle"?l.toggled?l.toggled(e):l.cmd&&e.caret.is(l.cmd,l.param):!1),v=[];if(l.tip&&e.$q.platform.is.desktop){const d=l.key?R("div",[R("small",`(CTRL + ${String.fromCharCode(l.key)})`)]):null;v.push(R(Oa,{delay:1e3},()=>[R("div",{innerHTML:l.tip}),d]))}return R(P,{...e.buttonProps.value,icon:l.icon!==null?l.icon:void 0,color:u?l.toggleColor||e.props.toolbarToggleColor:l.color||e.props.toolbarColor,textColor:u&&!e.props.toolbarPush?null:l.textColor||e.props.toolbarTextColor,label:l.label,disable:l.disable?typeof l.disable=="function"?l.disable(e):!0:!1,size:"sm",onClick(d){n==null||n(),Vt(d,l,e)}},()=>v)}function Ba(e,l){const n=l.list==="only-icons";let o=l.label,u=l.icon!==null?l.icon:void 0,v,d;function c(){i.component.proxy.hide()}if(n)d=l.options.map(r=>{const g=r.type===void 0?e.caret.is(r.cmd,r.param):!1;return g&&(o=r.tip,u=r.icon!==null?r.icon:void 0),Pt(e,r,c,g)}),v=e.toolbarBackgroundClass.value,d=[at(d)];else{const r=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,g=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,x=l.list==="no-icons";d=l.options.map(_=>{const k=_.disable?_.disable(e):!1,N=_.type===void 0?e.caret.is(_.cmd,_.param):!1;N&&(o=_.tip,u=_.icon!==null?_.icon:void 0);const ee=_.htmlTip;return R(V,{active:N,activeClass:r,clickable:!0,disable:k,dense:!0,onClick(G){var ae;c(),(G==null?void 0:G.qAvoidFocus)!==!0&&((ae=e.contentRef.value)==null||ae.focus()),e.caret.restore(),Vt(G,_,e)}},()=>[x===!0?null:R(h,{class:N?r:g,side:!0},()=>R(ke,{name:_.icon!==null?_.icon:void 0})),R(h,ee?()=>R("div",{class:"text-no-wrap",innerHTML:_.htmlTip}):_.tip?()=>R("div",{class:"text-no-wrap"},_.tip):void 0)])}),v=[e.toolbarBackgroundClass.value,g]}const s=l.highlight&&o!==l.label,i=R(St,{...e.buttonProps.value,noCaps:!0,noWrap:!0,color:s?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:s&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:l.fixedLabel?l.label:o,icon:l.fixedIcon?l.icon!==null?l.icon:void 0:u,contentClass:v,onShow:r=>e.emit("dropdownShow",r),onHide:r=>e.emit("dropdownHide",r),onBeforeShow:r=>e.emit("dropdownBeforeShow",r),onBeforeHide:r=>e.emit("dropdownBeforeHide",r)},()=>d);return i}function Aa(e){if(e.caret)return e.buttons.value.filter(l=>!e.isViewingSource.value||l.find(n=>n.cmd==="viewsource")).map(l=>at(l.map(n=>e.isViewingSource.value&&n.cmd!=="viewsource"?!1:n.type==="slot"?Ae(e.slots[n.slot]):n.type==="dropdown"?Ba(e,n):Pt(e,n))))}function Na(e,l,n,o={}){const u=Object.keys(o);if(u.length===0)return{};const v={default_font:{cmd:"fontName",param:e,icon:n,tip:l}};return u.forEach(d=>{const c=o[d];v[d]={cmd:"fontName",param:c,icon:n,tip:c,htmlTip:`<font face="${c}">${c}</font>`}}),v}function ja(e){if(e.caret){const l=e.props.toolbarColor||e.props.toolbarTextColor;let n=e.editLinkUrl.value;const o=()=>{e.caret.restore(),n!==e.editLinkUrl.value&&document.execCommand("createLink",!1,n===""?" ":n),e.editLinkUrl.value=null};return[R("div",{class:`q-mx-xs text-${l}`},`${e.$q.lang.editor.url}: `),R("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:n,onInput:u=>{il(u),n=u.target.value},onKeydown:u=>{if(et(u)!==!0)switch(u.keyCode){case 13:return ct(u),o();case 27:ct(u),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),at([R(P,{key:"qedt_btm_rem",tabindex:-1,...e.buttonProps.value,label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}}),R(P,{key:"qedt_btm_upd",...e.buttonProps.value,label:e.$q.lang.label.update,noCaps:!0,onClick:o})])]}}const Ua=Object.prototype.toString,Ge=Object.prototype.hasOwnProperty,Qa=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(e=>"[object "+e+"]"));function bt(e){if(e!==Object(e)||Qa.has(Ua.call(e))===!0||e.constructor&&Ge.call(e,"constructor")===!1&&Ge.call(e.constructor.prototype,"isPrototypeOf")===!1)return!1;let l;for(l in e);return l===void 0||Ge.call(e,l)}function Lt(){let e,l,n,o,u,v,d=arguments[0]||{},c=1,s=!1;const i=arguments.length;for(typeof d=="boolean"&&(s=d,d=arguments[1]||{},c=2),Object(d)!==d&&typeof d!="function"&&(d={}),i===c&&(d=this,c--);c<i;c++)if((e=arguments[c])!==null)for(l in e)n=d[l],o=e[l],d!==o&&(s===!0&&o&&((u=Array.isArray(o))||bt(o)===!0)?(u===!0?v=Array.isArray(n)===!0?n:[]:v=bt(n)===!0?n:{},d[l]=Lt(s,v,o)):o!==void 0&&(d[l]=o));return d}const za=Pe({name:"QEditor",props:{...qt,...ql,modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(l=>l.length),default:()=>[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},emits:[...wl,"update:modelValue","keydown","click","focus","blur","dropdownShow","dropdownHide","dropdownBeforeShow","dropdownBeforeHide","linkShow","linkHide"],setup(e,{slots:l,emit:n}){const{proxy:o}=Qe(),{$q:u}=o,v=xt(e,u),{inFullscreen:d,toggleFullscreen:c}=xl(),s=rl(),i=j(null),r=j(null),g=j(null),x=j(!1),_=$(()=>!e.readonly&&!e.disable);let k,N,ee=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),k=window.getComputedStyle(document.body).fontFamily;const G=$(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),ae=$(()=>({type:"a",flat:e.toolbarOutline!==!0&&e.toolbarPush!==!0,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!_.value,size:"sm"})),L=$(()=>{const f=u.lang.editor,y=u.iconSet.editor;return{bold:{cmd:"bold",icon:y.bold,tip:f.bold,key:66},italic:{cmd:"italic",icon:y.italic,tip:f.italic,key:73},strike:{cmd:"strikeThrough",icon:y.strikethrough,tip:f.strikethrough,key:83},underline:{cmd:"underline",icon:y.underline,tip:f.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:y.unorderedList,tip:f.unorderedList},ordered:{cmd:"insertOrderedList",icon:y.orderedList,tip:f.orderedList},subscript:{cmd:"subscript",icon:y.subscript,tip:f.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:y.superscript,tip:f.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:Q=>Q.caret&&!Q.caret.can("link"),icon:y.hyperlink,tip:f.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:y.toggleFullscreen,tip:f.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:y.viewSource,tip:f.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:y.quote,tip:f.quote,key:81},left:{cmd:"justifyLeft",icon:y.left,tip:f.left},center:{cmd:"justifyCenter",icon:y.center,tip:f.center},right:{cmd:"justifyRight",icon:y.right,tip:f.right},justify:{cmd:"justifyFull",icon:y.justify,tip:f.justify},print:{type:"no-state",cmd:"print",icon:y.print,tip:f.print,key:80},outdent:{type:"no-state",disable:Q=>Q.caret&&!Q.caret.can("outdent"),cmd:"outdent",icon:y.outdent,tip:f.outdent},indent:{type:"no-state",disable:Q=>Q.caret&&!Q.caret.can("indent"),cmd:"indent",icon:y.indent,tip:f.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:y.removeFormat,tip:f.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:y.hr,tip:f.hr},undo:{type:"no-state",cmd:"undo",icon:y.undo,tip:f.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:y.redo,tip:f.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:y.heading1||y.heading,tip:f.heading1,htmlTip:`<h1 class="q-ma-none">${f.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:y.heading2||y.heading,tip:f.heading2,htmlTip:`<h2 class="q-ma-none">${f.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:y.heading3||y.heading,tip:f.heading3,htmlTip:`<h3 class="q-ma-none">${f.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:y.heading4||y.heading,tip:f.heading4,htmlTip:`<h4 class="q-ma-none">${f.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:y.heading5||y.heading,tip:f.heading5,htmlTip:`<h5 class="q-ma-none">${f.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:y.heading6||y.heading,tip:f.heading6,htmlTip:`<h6 class="q-ma-none">${f.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:y.heading,tip:f.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:y.code,htmlTip:`<code>${f.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:y.size1||y.size,tip:f.size1,htmlTip:`<font size="1">${f.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:y.size2||y.size,tip:f.size2,htmlTip:`<font size="2">${f.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:y.size3||y.size,tip:f.size3,htmlTip:`<font size="3">${f.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:y.size4||y.size,tip:f.size4,htmlTip:`<font size="4">${f.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:y.size5||y.size,tip:f.size5,htmlTip:`<font size="5">${f.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:y.size6||y.size,tip:f.size6,htmlTip:`<font size="6">${f.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:y.size7||y.size,tip:f.size7,htmlTip:`<font size="7">${f.size7}</font>`}}}),W=$(()=>{const f=e.definitions||{},y=e.definitions||e.fonts?Lt(!0,{},L.value,f,Na(k,u.lang.editor.defaultFont,u.iconSet.editor.font,e.fonts)):L.value;return e.toolbar.map(Q=>Q.map(X=>{if(X.options)return{type:"dropdown",icon:X.icon,label:X.label,size:"sm",dense:!0,fixedLabel:X.fixedLabel,fixedIcon:X.fixedIcon,highlight:X.highlight,list:X.list,options:X.options.map(Fe=>y[Fe])};const re=y[X];return re?re.type==="no-state"||f[X]&&(re.cmd===void 0||L.value[re.cmd]&&L.value[re.cmd].type==="no-state")?re:Object.assign({type:"toggle"},re):{type:"slot",slot:X}}))}),E={$q:u,props:e,slots:l,emit:n,inFullscreen:d,toggleFullscreen:c,runCmd:se,isViewingSource:x,editLinkUrl:g,toolbarBackgroundClass:G,buttonProps:ae,contentRef:r,buttons:W,setContent:oe};ce(()=>e.modelValue,f=>{ee!==f&&(ee=f,oe(f,!0))}),ce(g,f=>{n(`link${f?"Show":"Hide"}`)});const J=$(()=>e.toolbar&&e.toolbar.length!==0),te=$(()=>{const f={},y=Q=>{Q.key&&(f[Q.key]={cmd:Q.cmd,param:Q.param})};return W.value.forEach(Q=>{Q.forEach(X=>{X.options?X.options.forEach(y):y(X)})}),f}),le=$(()=>d.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),me=$(()=>`q-editor q-editor--${x.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(d.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(v.value===!0?" q-editor--dark q-dark":"")),ye=$(()=>[e.contentClass,"q-editor__content",{col:d.value,"overflow-auto":d.value||e.maxHeight}]),D=$(()=>e.disable===!0?{"aria-disabled":"true"}:{});function ue(){if(r.value!==null){const f=`inner${x.value===!0?"Text":"HTML"}`,y=r.value[f];y!==e.modelValue&&(ee=y,n("update:modelValue",y))}}function Ne(f){if(n("keydown",f),f.ctrlKey!==!0||et(f)===!0){M();return}const y=f.keyCode,Q=te.value[y];if(Q!==void 0){const{cmd:X,param:re}=Q;tt(f),se(X,re,!1)}}function we(f){M(),n("click",f)}function he(f){if(r.value!==null){const{scrollTop:y,scrollHeight:Q}=r.value;N=Q-y}E.caret.save(),n("blur",f)}function de(f){ul(()=>{r.value!==null&&N!==void 0&&(r.value.scrollTop=r.value.scrollHeight-N)}),n("focus",f)}function Re(f){const y=i.value;if(y!==null&&y.contains(f.target)===!0&&(f.relatedTarget===null||y.contains(f.relatedTarget)!==!0)){const Q=`inner${x.value===!0?"Text":"HTML"}`;E.caret.restorePosition(r.value[Q].length),M()}}function qe(f){const y=i.value;y!==null&&y.contains(f.target)===!0&&(f.relatedTarget===null||y.contains(f.relatedTarget)!==!0)&&(E.caret.savePosition(),M())}function $e(){N=void 0}function Ee(f){E.caret.save()}function oe(f,y){if(r.value!==null){y===!0&&E.caret.savePosition();const Q=`inner${x.value===!0?"Text":"HTML"}`;r.value[Q]=f,y===!0&&(E.caret.restorePosition(r.value[Q].length),M())}}function se(f,y,Q=!0){ve(),E.caret.restore(),E.caret.apply(f,y,()=>{ve(),E.caret.save(),Q&&M()})}function M(){setTimeout(()=>{g.value=null,o.$forceUpdate()},1)}function ve(){dl(()=>{var f;(f=r.value)==null||f.focus({preventScroll:!0})})}function ie(){return r.value}return _t(()=>{E.caret=o.caret=new La(r.value,E),oe(e.modelValue),M(),document.addEventListener("selectionchange",Ee)}),Ue(()=>{document.removeEventListener("selectionchange",Ee)}),Object.assign(o,{runCmd:se,refreshToolbar:M,focus:ve,getContentEl:ie}),()=>{let f;if(J.value){const y=[R("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+G.value},Aa(E))];g.value!==null&&y.push(R("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+G.value},ja(E))),f=R("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},y)}return R("div",{ref:i,class:me.value,style:{height:d.value===!0?"100%":null},...D.value,onFocusin:Re,onFocusout:qe},[f,R("div",{ref:r,style:le.value,class:ye.value,contenteditable:_.value,placeholder:e.placeholder,...s.listeners.value,onInput:ue,onKeydown:Ne,onClick:we,onBlur:he,onFocus:de,onMousedown:$e,onTouchstartPassive:$e})])}}}),Ia={class:"flex items-center justify-between q-pa-md bg-white"},Ma={class:"flex q-gutter-sm"},Fa={__name:"EngagementCard",props:{data:Object,canCreateEngagementCard:Boolean,canDownloadEngagementCard:Boolean},setup(e){var i,r;const l=e,n=pe({html_content:((r=(i=l.data)==null?void 0:i.engagement_card)==null?void 0:r.content)||""}),o=j(!1),u=j(""),v=De(),d=async()=>{o.value=!0;try{axios.get(route("engagement-card.show",l.data)).then(g=>{u.value=g.data,n.html_content=g.data})}catch{v.notify({type:"negative",message:"Failed to load card data"})}},c=()=>{n.post(route("engagement-card.store",l.data),{preserveScroll:!0,onSuccess:()=>{o.value=!1,v.notify({type:"positive",message:"Card saved successfully!"})}})},s=async()=>{try{const g=await axios.get(route("engagement-card.download",l.data),{responseType:"blob"}),x=window.URL.createObjectURL(new Blob([g.data],{type:"application/pdf"})),_=document.createElement("a");_.href=x,_.setAttribute("download",`EngagementCard_${l.data.id}.pdf`),document.body.appendChild(_),_.click(),_.remove()}catch{v.notify({type:"negative",message:"Failed to download PDF."})}};return(g,x)=>(p(),S(F,{class:"q-mt-md"},{default:a(()=>[m("div",Ia,[x[2]||(x[2]=m("div",null,[m("div",{class:"stitle"},"Engagement Card")],-1)),m("div",Ma,[e.data.engagement_card&&e.canCreateEngagementCard?(p(),S(P,{key:0,color:"primary",icon:"edit",onClick:d})):O("",!0)])]),t(B,null,{default:a(()=>[!e.data.engagement_card&&e.canCreateEngagementCard?(p(),S(P,{key:0,color:"primary",label:"Create",onClick:d})):O("",!0),e.data.engagement_card&&e.canDownloadEngagementCard?(p(),S(P,{key:1,color:"primary",label:"Download",onClick:s})):O("",!0),t(Te,{modelValue:o.value,"onUpdate:modelValue":x[1]||(x[1]=_=>o.value=_),persistent:""},{default:a(()=>[t(F,{style:{width:"1000px","max-width":"100vw"}},{default:a(()=>[t(B,{class:"row items-center justify-between bg-primary text-white"},{default:a(()=>[x[3]||(x[3]=m("div",{class:"text-h6"},"Engagement Card",-1)),fe(t(P,{dense:"",flat:"",icon:"close"},null,512),[[Se]])]),_:1,__:[3]}),t(B,{style:{"flex-grow":"1",overflow:"auto",padding:"0"}},{default:a(()=>[t(za,{modelValue:q(n).html_content,"onUpdate:modelValue":x[0]||(x[0]=_=>q(n).html_content=_),style:{width:"100%","max-height":"1100px"}},null,8,["modelValue"])]),_:1}),t(be,{align:"right",style:{"flex-shrink":"0"}},{default:a(()=>[t(P,{color:"primary",label:"Save",onClick:c})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}))}},Ha={class:"flex items-center justify-between q-pa-md bg-white"},Wa={class:"row q-col-gutter-md"},Ka={class:"col-12 col-md-4"},Ya={class:"column items-center q-gutter-sm"},Ga={class:"stitle"},Ja={class:"q-mt-lg full-width"},Xa={class:"q-mt-lg flex items-center justify-center"},Za={class:"col-12 col-md-8"},en={class:"row q-col-gutter-md"},tn={class:"col-12 col-md-7"},ln={class:"col-12 col-md-5"},pn=Object.assign({layout:yl},{__name:"Show",props:["data","office","canCreate","canEdit","canDelete","canCreateRemuneration","canCreateTransfer","canDeleteTransfer","canCreateEngagementCard","canDownloadEngagementCard","canRequestEdit","canRequestDelete","canRequestTransfer","canApproveEdit","canApproveTransfer","canApproveDelete","canEditDelete"],setup(e){const l=e,n=j("document"),o=j(!1),u=$(()=>{var _;return!!((_=ft().props.roles)!=null&&_.find(k=>k==="Admin"))}),v=$(()=>{var _;return!!((_=ft().props.roles)!=null&&_.find(k=>k==="Manager"))}),d=$(()=>{const _=l.data.edit_requests;return _&&_.length?_[_.length-1]:null}),c=$(()=>{const _=l.data.deletion_requests;return _&&_.length?_[_.length-1]:null}),s=$(()=>{const _=l.data.transfer_requests;return _&&_.length?_[_.length-1]:null});function i(_){if(!_)return!0;const k=new Date,N=new Date(_);return(k-N)/(1e3*60*60*24)<=15}const r=$(()=>d.value?u.value?d.value.approval_status==="pending":v.value?d.value.approval_status!=="pending"&&i(d.value.approval_date):!1:!1),g=$(()=>c.value?u.value?c.value.approval_status==="pending":v.value?c.value.approval_status!=="pending"&&i(c.value.approval_date):!1:!1),x=$(()=>s.value?u.value?s.value.approval_status==="pending":v.value?s.value.approval_status!=="pending"&&i(s.value.approval_date):!1:!1);return(_,k)=>(p(),S(Mt,{class:"container",padding:""},{default:a(()=>[m("div",Ha,[m("div",null,[k[5]||(k[5]=m("div",{class:"stitle"},"Employee Detail",-1)),t(Qt,{class:"text-dark"},{default:a(()=>[t(rt,{onClick:k[0]||(k[0]=N=>_.$inertia.get(_.route("dashboard"))),icon:"dashboard",label:"Dashboard"}),t(rt,{label:"All Employees",to:_.route("mis.import")},null,8,["to"])]),_:1})])]),k[24]||(k[24]=m("br",null,null,-1)),t(F,{flat:""},{default:a(()=>[t(B,null,{default:a(()=>[m("div",Wa,[m("div",Ka,[t(F,{class:"q-pa-md"},{default:a(()=>{var N,ee,G,ae,L,W;return[m("div",Ya,[t(cl,{size:"96px"},{default:a(()=>{var E,J;return[(E=e.data)!=null&&E.avatar?(p(),S(It,{key:0,src:`/storage/${(J=e.data)==null?void 0:J.avatar}`},null,8,["src"])):(p(),S(ke,{key:1,name:"person",color:"primary"}))]}),_:1}),m("div",Ga,C(e.data.name),1),t(hl,{color:((ee=(N=e.data)==null?void 0:N.employment_type)==null?void 0:ee.trim())==="Deleted"?"red-6":"grey-6","text-color":"white",class:"stitle",label:((ae=(G=e.data)==null?void 0:G.employment_type)==null?void 0:ae.trim())==="MR"?"Muster Roll":((W=(L=e.data)==null?void 0:L.employment_type)==null?void 0:W.trim())==="PE"?"Provisional":"Deleted",style:{padding:"8px"},rounded:""},null,8,["color","label"]),m("div",Ja,[t(Me,{class:"rounded-borders"},{default:a(()=>{var E,J,te,le,me,ye;return[t(V,null,{default:a(()=>[t(h,{class:"text-label"},{default:a(()=>k[6]||(k[6]=[b("Details")])),_:1,__:[6]})]),_:1}),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>k[7]||(k[7]=[b("Employee Code:")])),_:1,__:[7]}),t(h,{class:"text-label"},{default:a(()=>{var D;return[b(C((D=e.data)==null?void 0:D.employee_code),1)]}),_:1})]),_:1}),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>k[8]||(k[8]=[b("Name:")])),_:1,__:[8]}),t(h,{class:"text-label"},{default:a(()=>{var D;return[b(C((D=e.data)==null?void 0:D.name),1)]}),_:1})]),_:1}),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>k[9]||(k[9]=[b("Email:")])),_:1,__:[9]}),t(h,{class:"text-label"},{default:a(()=>[b(C(e.data.email),1)]),_:1})]),_:1}),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>k[10]||(k[10]=[b("Contact:")])),_:1,__:[10]}),t(h,{class:"text-label"},{default:a(()=>{var D;return[b(C((D=e.data)==null?void 0:D.mobile),1)]}),_:1})]),_:1}),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>k[11]||(k[11]=[b("Parent Name:")])),_:1,__:[11]}),t(h,{class:"text-label"},{default:a(()=>{var D;return[b(C((D=e.data)==null?void 0:D.parent_name),1)]}),_:1})]),_:1}),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>k[12]||(k[12]=[b("Date of Birth:")])),_:1,__:[12]}),t(h,{class:"text-label"},{default:a(()=>[b(C(e.data.date_of_birth),1)]),_:1})]),_:1}),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>k[13]||(k[13]=[b("Address:")])),_:1,__:[13]}),t(h,{class:"text-label"},{default:a(()=>{var D;return[b(C(((D=e.data)==null?void 0:D.address)??"N/A"),1)]}),_:1})]),_:1}),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>k[14]||(k[14]=[b("Education Qln.:")])),_:1,__:[14]}),t(h,{class:"text-label"},{default:a(()=>{var D;return[b(C((D=e.data)==null?void 0:D.educational_qln),1)]}),_:1})]),_:1}),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>k[15]||(k[15]=[b("Technical Qln.:")])),_:1,__:[15]}),t(h,{class:"text-label"},{default:a(()=>{var D;return[b(C((D=e.data)==null?void 0:D.technical_qln),1)]}),_:1})]),_:1}),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>k[16]||(k[16]=[b("Designation:")])),_:1,__:[16]}),t(h,{class:"text-label"},{default:a(()=>{var D;return[b(C((D=e.data)==null?void 0:D.designation),1)]}),_:1})]),_:1}),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>k[17]||(k[17]=[b("Office:")])),_:1,__:[17]}),t(h,{class:"text-label"},{default:a(()=>{var D,ue;return[b(C((ue=(D=e.data)==null?void 0:D.office)==null?void 0:ue.name),1)]}),_:1})]),_:1}),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>k[18]||(k[18]=[b("Office Type:")])),_:1,__:[18]}),t(h,{class:"text-label"},{default:a(()=>{var D,ue;return[b(C((ue=(D=e.data)==null?void 0:D.office)==null?void 0:ue.type),1)]}),_:1})]),_:1}),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>k[19]||(k[19]=[b("Workplace:")])),_:1,__:[19]}),t(h,{class:"text-label"},{default:a(()=>{var D;return[b(C((D=e.data)==null?void 0:D.name_of_workplace),1)]}),_:1})]),_:1}),t(V,null,{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>k[20]||(k[20]=[b("Date of Engagement:")])),_:1,__:[20]}),t(h,{class:"text-label"},{default:a(()=>{var D;return[b(C(((D=e.data)==null?void 0:D.date_of_engagement)??"N/A"),1)]}),_:1})]),_:1}),((J=(E=e.data)==null?void 0:E.employment_type)==null?void 0:J.trim())==="MR"?(p(),S(V,{key:0},{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>k[21]||(k[21]=[b("Post Per Qualification:")])),_:1,__:[21]}),t(h,{class:"text-label"},{default:a(()=>{var D;return[b(C((D=e.data)==null?void 0:D.post_per_qualification),1)]}),_:1})]),_:1})):O("",!0),((le=(te=e.data)==null?void 0:te.employment_type)==null?void 0:le.trim())==="MR"?(p(),S(V,{key:1},{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>k[22]||(k[22]=[b("Skill Category:")])),_:1,__:[22]}),t(h,{class:"text-label"},{default:a(()=>{var D;return[b(C((D=e.data)==null?void 0:D.skill_category),1)]}),_:1})]),_:1})):O("",!0),((ye=(me=e.data)==null?void 0:me.employment_type)==null?void 0:ye.trim())==="MR"?(p(),S(V,{key:2},{default:a(()=>[t(h,{side:"",class:"subtitle"},{default:a(()=>k[23]||(k[23]=[b("Skill at Present:")])),_:1,__:[23]}),t(h,{class:"text-label"},{default:a(()=>{var D;return[b(C((D=e.data)==null?void 0:D.skill_at_present),1)]}),_:1})]),_:1})):O("",!0)]}),_:1}),m("div",Xa,[e.canEdit?(p(),S(P,{key:0,label:"Edit",onClick:k[1]||(k[1]=E=>_.$inertia.get(_.route("employee.edit",e.data))),class:"q-mr-md",color:"primary"})):O("",!0),e.canDelete&&e.data.employment_type!=="Deleted"?(p(),S(P,{key:1,label:"Delete",color:"negative",unelevated:"",onClick:k[2]||(k[2]=E=>o.value=!0)})):O("",!0)])])])]}),_:1})]),t(xa,{modelValue:o.value,"onUpdate:modelValue":k[3]||(k[3]=N=>o.value=N),employee:e.data},null,8,["modelValue","employee"]),m("div",Za,[t(Vl,{modelValue:n.value,"onUpdate:modelValue":k[4]||(k[4]=N=>n.value=N),class:"text-primary bg-white shadow-1 q-pa-sm",dense:"",align:"center"},{default:a(()=>[t(Ve,{name:"document",label:"Documents",icon:"drive_folder_upload"}),u.value&&e.canApproveEdit?(p(),S(Ve,{key:0,name:"edit",label:"Edit Request",icon:"edit",alert:r.value,"alert-icon":"circle","alert-color":"red",class:ge(r.value?"text-red":"")},null,8,["alert","class"])):O("",!0),u.value&&e.canApproveTransfer?(p(),S(Ve,{key:1,name:"transfer_request",label:"Transfer Request",icon:"input",alert:x.value,"alert-icon":"circle","alert-color":"red",class:ge(x.value?"text-red":"")},null,8,["alert","class"])):O("",!0),u.value&&e.canApproveDelete?(p(),S(Ve,{key:2,name:"deletion",label:"Deletion Request",icon:"delete_sweep",alert:g.value,"alert-icon":"circle","alert-color":"red",class:ge(g.value?"text-red":"")},null,8,["alert","class"])):O("",!0),v.value&&e.canRequestEdit?(p(),S(Ve,{key:3,name:"request_edit",label:"Request Edit",icon:"edit",alert:r.value,"alert-icon":"circle","alert-color":"red",class:ge(r.value?"text-red":"")},null,8,["alert","class"])):O("",!0),v.value&&e.canRequestTransfer?(p(),S(Ve,{key:4,name:"request_transfer",label:"Request Transfer",icon:"input",alert:x.value,"alert-icon":"circle","alert-color":"red",class:ge(x.value?"text-red":"")},null,8,["alert","class"])):O("",!0),v.value&&e.canRequestDelete?(p(),S(Ve,{key:5,name:"request_deletion",label:"Request Deletion",icon:"delete_sweep",alert:g.value,"alert-icon":"circle","alert-color":"red",class:ge(g.value?"text-red":"")},null,8,["alert","class"])):O("",!0)]),_:1},8,["modelValue"]),n.value==="document"?(p(),S(Ul,{key:0,data:e.data},null,8,["data"])):O("",!0),n.value==="edit"?(p(),S(Wl,{key:1,data:e.data},null,8,["data"])):O("",!0),n.value==="transfer_request"?(p(),S(zl,{key:2,data:e.data,office:e.office},null,8,["data","office"])):O("",!0),n.value==="deletion"?(p(),S(Zl,{key:3,data:e.data},null,8,["data"])):O("",!0),n.value==="request_edit"?(p(),S(da,{key:4,data:e.data},null,8,["data"])):O("",!0),n.value==="request_transfer"?(p(),S(fa,{key:5,data:e.data,office:e.office},null,8,["data","office"])):O("",!0),n.value==="request_deletion"?(p(),S(oa,{key:6,data:e.data},null,8,["data"])):O("",!0),m("div",en,[m("div",tn,[e.data.remuneration_detail?(p(),S(Va,{key:0,data:e.data,canCreateRemuneration:e.canCreateRemuneration},null,8,["data","canCreateRemuneration"])):O("",!0),t(wa,{data:e.data,office:e.office,canCreateTransfer:e.canCreateTransfer,canDeleteTransfer:e.canDeleteTransfer},null,8,["data","office","canCreateTransfer","canDeleteTransfer"])]),m("div",ln,[e.data.employment_type==="PE"?(p(),S(Fa,{key:0,data:e.data,canCreateEngagementCard:e.canCreateEngagementCard,canDownloadEngagementCard:e.canDownloadEngagementCard},null,8,["data","canCreateEngagementCard","canDownloadEngagementCard"])):O("",!0),e.data.employment_type==="Deleted"?(p(),S(Ta,{key:1,deletion:e.data.deletion_detail,canEditDelete:e.canEditDelete},null,8,["deletion","canEditDelete"])):O("",!0)])])])])]),_:1})]),_:1})]),_:1,__:[24]}))}});export{pn as default};
