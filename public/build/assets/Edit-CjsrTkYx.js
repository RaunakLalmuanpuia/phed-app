import{Q as D,a as n}from"./QBreadcrumbs-_QA2_IGD.js";import{x as F,c as M,o as A,w as u,b as s,f as t,Q as m,u as o,l as I,m as j}from"./app-BpyBzFIp.js";import{Q as O}from"./QSelect-DfpK_BkB.js";import{Q as P}from"./QForm-DdvewQ_B.js";import{Q as G}from"./QLayout-DL_NyIeY.js";import{_ as H}from"./BackendLayout-DNSomVJN.js";import{u as J}from"./use-quasar-mpcXEfnN.js";import"./touch-B5nOvKoK.js";const K={class:"flex items-center justify-between q-pa-md bg-white"},L={style:{"max-width":"720px"},class:"row q-col-gutter-sm"},T={class:"col-xs-12 col-sm-9"},W={class:"col-xs-12 col-sm-9"},X={class:"col-xs-12 col-sm-9"},Y={class:"col-xs-12 col-sm-9"},Z={class:"col-xs-12 col-sm-9"},_={class:"col-xs-12"},h={class:"col-xs-12 flex q-gutter-sm"},de=Object.assign({layout:H},{__name:"Edit",props:["userRoles","data"],setup(g){var c,v,p,x,f;const a=g,b=J(),l=F({name:(c=a.data)==null?void 0:c.name,email:(v=a==null?void 0:a.data)==null?void 0:v.email,mobile:(p=a==null?void 0:a.data)==null?void 0:p.mobile,roles:(f=(x=a==null?void 0:a.data)==null?void 0:x.roles)==null?void 0:f.map(i=>({value:i.name,label:i.name})),designation:a==null?void 0:a.data.designation,password:"",password_confirmation:""}),z=i=>{l.transform(e=>({...e,roles:e.roles.map(d=>d.value)})).put(route("user.update",a.data.id),{onStart:e=>b.loading.show(),onFinish:e=>b.loading.hide()})};return(i,e)=>(A(),M(G,{class:"container",padding:""},{default:u(()=>[s("div",K,[s("div",null,[e[8]||(e[8]=s("div",{class:"stitle"},"Edit User",-1)),t(D,{class:"text-dark"},{default:u(()=>[t(n,{class:"cursor-pointer",icon:"dashboard",label:"Dashboard",onClick:e[0]||(e[0]=d=>i.$inertia.get(i.route("dashboard")))}),t(n,{class:"cursor-pointer",label:"User Accounts",onClick:e[1]||(e[1]=d=>i.$inertia.get(i.route("user.index")))}),t(n,{label:"Edit User"})]),_:1})])]),e[14]||(e[14]=s("br",null,null,-1)),t(P,{onSubmit:z,class:"bg-white q-pa-md"},{default:u(()=>{var d,V,q,Q,w,S,U,k,y,$,B,E,C,N,R;return[s("div",L,[e[9]||(e[9]=s("div",{class:"col-xs-12 col-sm-3"},[s("div",{class:"text-label q-mt-md"},"Name")],-1)),s("div",T,[t(m,{modelValue:o(l).name,"onUpdate:modelValue":e[2]||(e[2]=r=>o(l).name=r),error:!!((d=o(l).errors)!=null&&d.name),"error-message":(q=(V=o(l).errors)==null?void 0:V.name)==null?void 0:q.toString(),outlined:"",dense:"","item-aligned":"",rules:[r=>r!==""||"Name is required"]},null,8,["modelValue","error","error-message","rules"])]),e[10]||(e[10]=s("div",{class:"col-xs-12 col-sm-3"},[s("div",{class:"text-label q-mt-md"},"Designation")],-1)),s("div",W,[t(m,{modelValue:o(l).designation,"onUpdate:modelValue":e[3]||(e[3]=r=>o(l).designation=r),error:!!((Q=o(l).errors)!=null&&Q.designation),"error-message":(S=(w=o(l).errors)==null?void 0:w.designation)==null?void 0:S.toString(),outlined:"",dense:"","item-aligned":""},null,8,["modelValue","error","error-message"])]),e[11]||(e[11]=s("div",{class:"col-xs-12 col-sm-3"},[s("div",{class:"text-label q-mt-md"},"Mobile")],-1)),s("div",X,[t(m,{modelValue:o(l).mobile,"onUpdate:modelValue":e[4]||(e[4]=r=>o(l).mobile=r),mask:"##########",error:!!((U=o(l).errors)!=null&&U.mobile),"error-message":(y=(k=o(l).errors)==null?void 0:k.mobile)==null?void 0:y.toString(),outlined:"",dense:"","item-aligned":"",rules:[r=>r!==""||"Mobile is required"]},null,8,["modelValue","error","error-message","rules"])]),e[12]||(e[12]=s("div",{class:"col-xs-12 col-sm-3"},[s("div",{class:"text-label q-mt-md"},"Email")],-1)),s("div",Y,[t(m,{modelValue:o(l).email,"onUpdate:modelValue":e[5]||(e[5]=r=>o(l).email=r),type:"email",error:!!(($=o(l).errors)!=null&&$.email),"error-message":(E=(B=o(l).errors)==null?void 0:B.email)==null?void 0:E.toString(),outlined:"",dense:"","item-aligned":"",rules:[r=>r!==""||"Email is required"]},null,8,["modelValue","error","error-message","rules"])]),e[13]||(e[13]=s("div",{class:"col-xs-12 col-sm-3"},[s("div",{class:"text-label q-mt-md"},"Role")],-1)),s("div",Z,[t(O,{modelValue:o(l).roles,"onUpdate:modelValue":e[6]||(e[6]=r=>o(l).roles=r),error:!!((C=o(l).errors)!=null&&C.roles),options:g.userRoles,multiple:"","use-chips":"","error-message":(R=(N=o(l).errors)==null?void 0:N.roles)==null?void 0:R.toString(),outlined:"",dense:"","item-aligned":""},null,8,["modelValue","error","options","error-message"])]),s("div",_,[t(I,{class:"q-my-md"})]),s("div",h,[t(j,{class:"sized-btn",type:"submit",color:"btn-primary",label:"Update"}),t(j,{class:"sized-btn",color:"negative",outline:"",label:"Cancel",onClick:e[7]||(e[7]=r=>i.$inertia.get(i.route("user.index")))})])])]}),_:1})]),_:1,__:[14]}))}});export{de as default};
