import{Q as Bt,a as gt}from"./QBreadcrumbs-O-ZLSJ6o.js";import{g as Ut,a as Nt,Q as zt}from"./QLayout-CkRQ8k_K.js";import{K as Ft,L as lt,bp as Dt,J as Ze,r as W,c as B,m as Ie,l as $t,aA as Te,b7 as Mt,n as I,D as je,_ as Qt,a7 as It,b3 as ut,as as dt,H as He,ag as Ge,U as st,k as be,Z as Ht,aR as Wt,aS as Kt,I as ct,x as xe,e as O,o as c,i as t,w as l,z as U,g as n,d as E,f as A,q as R,Q as he,F as G,v as ae,t as q,p as Re,y as Y,bq as ge,h,br as pe,u as b,b6 as Oe,ab as Yt,$ as Jt,ac as at,ae as Gt,ah as Xt,ai as Zt,aj as el,a8 as pt,a6 as vt,a0 as tl,V as ll,W as it,b as Xe,bm as al,E as Tt,G as nl,P as ol,a5 as yt,aw as sl,ad as il,af as rl,bs as ul,R as dl,ar as cl,bt as fl,A as ml}from"./app-DBPySSIw.js";import{Q as ft,a as H,b as S,d as gl}from"./format-ByMjNDGW.js";import{r as pl,Q as ke}from"./QSelect-DypYJQcq.js";import{C as Ee,v as vl,b as bt,u as yl,p as ht,c as bl,d as hl,e as _l,r as _t,s as xl,f as wl,_ as kl}from"./BackendLayout-rRKETbIi.js";import{Q as ql}from"./QMarkupTable-C3GvBHRw.js";import{Q as Ue}from"./QFile-B4832fDY.js";import{u as qe}from"./use-quasar-ChMOGntY.js";import{u as Ae}from"./useUtils-DTl78cdH.js";import{_ as St}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as xt}from"./touch-BBgFrIZw.js";import{Q as Cl,a as Dl}from"./QTimeline-B1ULDCp1.js";import{Q as Rt}from"./QForm-BCVFNe9S.js";import{u as $l,a as Tl,b as Sl}from"./use-fullscreen-Bb_x-MuI.js";/* empty css            */import"./QChip-CjE0AdFP.js";import"./QSlideTransition-xAvoVDOg.js";import"./date-CnboJ2e7.js";let Rl=0;const El=["click","keydown"],Ol={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Rl++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Pl(e,a,o,d){const s=Ft(Dt,lt);if(s===lt)return console.error("QTab/QRouteTab component needs to be child of QTabs"),lt;const{proxy:p}=Ze(),y=W(null),_=W(null),f=W(null),i=B(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),r=B(()=>s.currentModel.value===e.name),u=B(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(r.value===!0?" q-tab--active"+(s.tabProps.value.activeClass?" "+s.tabProps.value.activeClass:"")+(s.tabProps.value.activeColor?` text-${s.tabProps.value.activeColor}`:"")+(s.tabProps.value.activeBgColor?` bg-${s.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&s.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||s.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),m=B(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(s.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),C=B(()=>e.disable===!0||s.hasFocus.value===!0||r.value===!1&&s.hasActiveTab.value===!0?-1:e.tabindex||0);function L(v,V){var x;if(V!==!0&&(v==null?void 0:v.qAvoidFocus)!==!0&&((x=y.value)==null||x.focus()),e.disable!==!0){s.updateModel({name:e.name}),o("click",v);return}}function P(v){It(v,[13,32])?L(v,!0):ut(v)!==!0&&v.keyCode>=35&&v.keyCode<=40&&v.altKey!==!0&&v.metaKey!==!0&&s.onKbdNavigate(v.keyCode,p.$el)===!0&&dt(v),o("keydown",v)}function N(){const v=s.tabProps.value.narrowIndicator,V=[],x=I("div",{ref:f,class:["q-tab__indicator",s.tabProps.value.indicatorClass]});e.icon!==void 0&&V.push(I(je,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&V.push(I("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&V.push(e.alertIcon!==void 0?I(je,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):I("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),v===!0&&V.push(x);const T=[I("div",{class:"q-focus-helper",tabindex:-1,ref:y}),I("div",{class:m.value},Qt(a.default,V))];return v===!1&&T.push(x),T}const z={name:B(()=>e.name),rootRef:_,tabIndicatorRef:f,routeData:d};Ie(()=>{s.unregisterTab(z)}),$t(()=>{s.registerTab(z)});function $(v,V){const x={ref:_,class:u.value,tabindex:C.value,role:"tab","aria-selected":r.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:L,onKeydown:P,...V};return Te(I(v,x,N()),[[Mt,i.value]])}return{renderTab:$,$tabs:s}}const Be=He({name:"QTab",props:Ol,emits:El,setup(e,{slots:a,emit:o}){const{renderTab:d}=Pl(e,a,o);return()=>d("div")}});function Vl(e,a,o){const d=o===!0?["left","right"]:["top","bottom"];return`absolute-${a===!0?d[0]:d[1]}${e?` text-${e}`:""}`}const jl=["left","center","right","justify"],Al=He({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>jl.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:a,emit:o}){const{proxy:d}=Ze(),{$q:s}=d,{registerTick:p}=Ge(),{registerTick:y}=Ge(),{registerTick:_}=Ge(),{registerTimeout:f,removeTimeout:i}=st(),{registerTimeout:r,removeTimeout:u}=st(),m=W(null),C=W(null),L=W(e.modelValue),P=W(!1),N=W(!0),z=W(!1),$=W(!1),v=[],V=W(0),x=W(!1);let T=null,Q=null,ee;const ve=B(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Vl(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),ne=B(()=>{const D=V.value,j=L.value;for(let F=0;F<D;F++)if(v[F].name.value===j)return!0;return!1}),_e=B(()=>`q-tabs__content--align-${P.value===!0?"left":$.value===!0?"justify":e.align}`),oe=B(()=>`q-tabs row no-wrap items-center q-tabs--${P.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),ce=B(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+_e.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),fe=B(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),se=B(()=>e.vertical!==!0&&s.lang.rtl===!0),me=B(()=>pl===!1&&se.value===!0);be(se,re),be(()=>e.modelValue,D=>{Ce({name:D,setCurrent:!0,skipEmit:!0})}),be(()=>e.outsideArrows,we);function Ce({name:D,setCurrent:j,skipEmit:F}){L.value!==D&&(F!==!0&&e["onUpdate:modelValue"]!==void 0&&o("update:modelValue",D),(j===!0||e["onUpdate:modelValue"]===void 0)&&($e(L.value,D),L.value=D))}function we(){p(()=>{m.value&&De({width:m.value.offsetWidth,height:m.value.offsetHeight})})}function De(D){if(fe.value===void 0||C.value===null)return;const j=D[fe.value.container],F=Math.min(C.value[fe.value.scroll],Array.prototype.reduce.call(C.value.children,(Z,k)=>Z+(k[fe.value.content]||0),0)),X=j>0&&F>j;P.value=X,X===!0&&y(re),$.value=j<parseInt(e.breakpoint,10)}function $e(D,j){const F=D!=null&&D!==""?v.find(Z=>Z.name.value===D):null,X=j!=null&&j!==""?v.find(Z=>Z.name.value===j):null;if(Le===!0)Le=!1;else if(F&&X){const Z=F.tabIndicatorRef.value,k=X.tabIndicatorRef.value;T!==null&&(clearTimeout(T),T=null),Z.style.transition="none",Z.style.transform="none",k.style.transition="none",k.style.transform="none";const M=Z.getBoundingClientRect(),le=k.getBoundingClientRect();k.style.transform=e.vertical===!0?`translate3d(0,${M.top-le.top}px,0) scale3d(1,${le.height?M.height/le.height:1},1)`:`translate3d(${M.left-le.left}px,0,0) scale3d(${le.width?M.width/le.width:1},1,1)`,_(()=>{T=setTimeout(()=>{T=null,k.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",k.style.transform="none"},70)})}X&&P.value===!0&&ie(X.rootRef.value)}function ie(D){const{left:j,width:F,top:X,height:Z}=C.value.getBoundingClientRect(),k=D.getBoundingClientRect();let M=e.vertical===!0?k.top-X:k.left-j;if(M<0){C.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(M),re();return}M+=e.vertical===!0?k.height-Z:k.width-F,M>0&&(C.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(M),re())}function re(){const D=C.value;if(D===null)return;const j=D.getBoundingClientRect(),F=e.vertical===!0?D.scrollTop:Math.abs(D.scrollLeft);se.value===!0?(N.value=Math.ceil(F+j.width)<D.scrollWidth-1,z.value=F>0):(N.value=F>0,z.value=e.vertical===!0?Math.ceil(F+j.height)<D.scrollHeight:Math.ceil(F+j.width)<D.scrollWidth)}function J(D){Q!==null&&clearInterval(Q),Q=setInterval(()=>{te(D)===!0&&g()},5)}function ye(){J(me.value===!0?Number.MAX_SAFE_INTEGER:0)}function ue(){J(me.value===!0?0:Number.MAX_SAFE_INTEGER)}function g(){Q!==null&&(clearInterval(Q),Q=null)}function w(D,j){const F=Array.prototype.filter.call(C.value.children,le=>le===j||le.matches&&le.matches(".q-tab.q-focusable")===!0),X=F.length;if(X===0)return;if(D===36)return ie(F[0]),F[0].focus(),!0;if(D===35)return ie(F[X-1]),F[X-1].focus(),!0;const Z=D===(e.vertical===!0?38:37),k=D===(e.vertical===!0?40:39),M=Z===!0?-1:k===!0?1:void 0;if(M!==void 0){const le=se.value===!0?-1:1,Se=F.indexOf(j)+M*le;return Se>=0&&Se<X&&(ie(F[Se]),F[Se].focus({preventScroll:!0})),!0}}const K=B(()=>me.value===!0?{get:D=>Math.abs(D.scrollLeft),set:(D,j)=>{D.scrollLeft=-j}}:e.vertical===!0?{get:D=>D.scrollTop,set:(D,j)=>{D.scrollTop=j}}:{get:D=>D.scrollLeft,set:(D,j)=>{D.scrollLeft=j}});function te(D){const j=C.value,{get:F,set:X}=K.value;let Z=!1,k=F(j);const M=D<k?-1:1;return k+=M*5,k<0?(Z=!0,k=0):(M===-1&&k<=D||M===1&&k>=D)&&(Z=!0,k=D),X(j,k),re(),Z}function de(D,j){for(const F in D)if(D[F]!==j[F])return!1;return!0}function Ne(){let D=null,j={matchedLen:0,queryDiff:9999,hrefLen:0};const F=v.filter(M=>{var le;return((le=M.routeData)==null?void 0:le.hasRouterLink.value)===!0}),{hash:X,query:Z}=d.$route,k=Object.keys(Z).length;for(const M of F){const le=M.routeData.exact.value===!0;if(M.routeData[le===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:Se,query:et,matched:At,href:Lt}=M.routeData.resolvedLink.value,tt=Object.keys(et).length;if(le===!0){if(Se!==X||tt!==k||de(Z,et)===!1)continue;D=M.name.value;break}if(Se!==""&&Se!==X||tt!==0&&de(et,Z)===!1)continue;const Ve={matchedLen:At.length,queryDiff:k-tt,hrefLen:Lt.length-Se.length};if(Ve.matchedLen>j.matchedLen){D=M.name.value,j=Ve;continue}else if(Ve.matchedLen!==j.matchedLen)continue;if(Ve.queryDiff<j.queryDiff)D=M.name.value,j=Ve;else if(Ve.queryDiff!==j.queryDiff)continue;Ve.hrefLen>j.hrefLen&&(D=M.name.value,j=Ve)}if(D===null&&v.some(M=>M.routeData===void 0&&M.name.value===L.value)===!0){Le=!1;return}Ce({name:D,setCurrent:!0})}function We(D){if(i(),x.value!==!0&&m.value!==null&&D.target&&typeof D.target.closest=="function"){const j=D.target.closest(".q-tab");j&&m.value.contains(j)===!0&&(x.value=!0,P.value===!0&&ie(j))}}function Ke(){f(()=>{x.value=!1},30)}function Pe(){Fe.avoidRouteWatcher===!1?r(Ne):u()}function ze(){if(ee===void 0){const D=be(()=>d.$route.fullPath,Pe);ee=()=>{D(),ee=void 0}}}function Ye(D){v.push(D),V.value++,we(),D.routeData===void 0||d.$route===void 0?r(()=>{if(P.value===!0){const j=L.value,F=j!=null&&j!==""?v.find(X=>X.name.value===j):null;F&&ie(F.rootRef.value)}}):(ze(),D.routeData.hasRouterLink.value===!0&&Pe())}function Je(D){v.splice(v.indexOf(D),1),V.value--,we(),ee!==void 0&&D.routeData!==void 0&&(v.every(j=>j.routeData===void 0)===!0&&ee(),Pe())}const Fe={currentModel:L,tabProps:ve,hasFocus:x,hasActiveTab:ne,registerTab:Ye,unregisterTab:Je,verifyRouteModel:Pe,updateModel:Ce,onKbdNavigate:w,avoidRouteWatcher:!1};Ht(Dt,Fe);function Me(){T!==null&&clearTimeout(T),g(),ee==null||ee()}let Qe,Le;return Ie(Me),Wt(()=>{Qe=ee!==void 0,Me()}),Kt(()=>{Qe===!0&&(ze(),Le=!0,Pe()),we()}),()=>I("div",{ref:m,class:oe.value,role:"tablist",onFocusin:We,onFocusout:Ke},[I(Ut,{onResize:De}),I("div",{ref:C,class:ce.value,onScroll:re},ct(a.default)),I(je,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(N.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||s.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:ye,onTouchstartPassive:ye,onMouseupPassive:g,onMouseleavePassive:g,onTouchendPassive:g}),I(je,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(z.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||s.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:ue,onTouchstartPassive:ue,onMouseupPassive:g,onMouseleavePassive:g,onTouchendPassive:g})])}}),Ll={key:0,class:"text-grey-7 text-center q-pa-md italic"},Bl={key:1},Ul={class:"row q-col-gutter-md q-mt-sm"},Nl={class:"q-pa-sm"},zl={class:"q-pa-sm"},Fl={class:"q-pa-sm"},Ml={class:"q-pa-sm"},Ql={key:0},Il={key:0,class:"text-grey-7 text-center q-pa-md italic"},Hl={key:1,class:"flex flex-col gap-6"},Wl={class:"flex flex-wrap justify-between items-center mb-4"},Kl={class:"text-gray-600"},Yl={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4"},Jl={class:"text-gray-500"},Gl={key:0,class:"text-grey-7 text-center q-pa-md italic"},Xl={key:1,class:"flex flex-col gap-6"},Zl={class:"flex flex-wrap justify-between items-center mb-4"},ea={class:"text-gray-600"},ta={class:"text-gray-700"},la={class:"text-subtitle2 text-weight-medium q-mb-xs"},aa={__name:"Document",props:["data","office","documentTypes","canDeleteDocument","canApproveDocumentEdit","canRequestDocumentEdit","canRequestDocumentDelete","canApproveDocumentDelete"],setup(e){const a=e,o=qe(),d=W(""),s=W(!1),p=B(()=>{var V;return(V=a.data)!=null&&V.documents?a.data.documents.filter(x=>{var Q,ee,ve;const T=d.value.toLowerCase();return((Q=x.name)==null?void 0:Q.toLowerCase().includes(T))||((ve=(ee=x.type)==null?void 0:ee.name)==null?void 0:ve.toLowerCase().includes(T))}):[]}),y=B(()=>a.documentTypes.filter(V=>!V.name.toLowerCase().includes("mr sheet"))),_=B(()=>!Object.values(u.files).some(V=>V));function f(V){return new Date(V).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}const i=B(()=>{var V,x;return((x=(V=a.data.document_request)==null?void 0:V.slice(-1)[0])==null?void 0:x.approval_status)==="pending"}),r=B(()=>{var V,x;return((x=(V=a.data.document_delete_request)==null?void 0:V.slice(-1)[0])==null?void 0:x.approval_status)==="pending"}),u=xe({files:{}}),m=xe({document_id:""}),C=()=>{u.post(route("document.request",a.data),{onSuccess:()=>{u.reset("files"),s.value=!1,o.notify({type:"positive",message:"Document Request Submitted",position:"bottom"})},onError:V=>{Object.values(V).forEach(x=>{o.notify({type:"negative",message:x,position:"bottom"})})}})},L=V=>{u.post(route("document.approve",V),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),s.value=!1,u.reset(),o.notify({type:"positive",message:"Document Approved",position:"bottom"})},onError:x=>{Object.values(x).forEach(T=>{o.notify({type:"negative",message:T,position:"bottom"})})}})},P=V=>{u.post(route("document.reject",V),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),s.value=!1,u.reset(),o.notify({type:"negative",message:"Transfer Rejected",position:"bottom"})},onError:x=>{Object.values(x).forEach(T=>{o.notify({type:"negative",message:T,position:"bottom"})})}})},N=V=>{var x;o.dialog({title:"Confirm",message:`Are you sure you want to delete "${(x=V.type)==null?void 0:x.name}"?`,cancel:!0,persistent:!0}).onOk(()=>{u.delete(route("document.destroy",V),{preserveScroll:!0,onSuccess:()=>{o.notify({type:"positive",message:"Document deleted successfully."})},onError:T=>{Object.values(T).forEach(Q=>{o.notify({type:"negative",message:Q,position:"bottom"})})}})})},z=V=>{var x,T;if(((x=V.type)==null?void 0:x.name)==="MR Sheet/A-Roll"){o.notify({type:"negative",message:"Delete request is not allowed for MR Sheet/A-Roll."});return}o.dialog({title:"Confirm Delete Request",message:`Do you want to request deletion of "${(T=V.type)==null?void 0:T.name}"?`,cancel:!0,persistent:!0}).onOk(()=>{m.document_id=V.id,m.post(route("document.requestDelete",a.data),{onStart:()=>o.loading.show(),onFinish:()=>o.loading.hide(),onSuccess:()=>{o.notify({type:"positive",message:"Delete request submitted successfully."}),m.reset()},onError:Q=>{Object.values(Q).forEach(ee=>{o.notify({type:"negative",message:ee})})}})})},$=V=>{m.post(route("document.approveDelete",V),{onStart:()=>o.loading.show(),onFinish:()=>o.loading.hide(),onSuccess:()=>{o.notify({type:"positive",message:"Delete request approved and document deleted."})},onError:x=>{Object.values(x).forEach(T=>{o.notify({type:"negative",message:T})})}})},v=V=>{m.post(route("document.rejectDelete",V),{onStart:()=>o.loading.show(),onFinish:()=>o.loading.hide(),onSuccess:()=>{o.notify({type:"info",message:"Delete request rejected."})}})};return(V,x)=>(c(),O(G,null,[t(Y,{class:"q-mt-md"},{default:l(()=>[t(U,{class:"flex items-center justify-between"},{default:l(()=>[x[3]||(x[3]=n("div",{class:"stitle text-lg font-bold"},"Uploaded Documents",-1)),e.canRequestDocumentEdit?(c(),E(R,{key:0,label:"Request Document Update",color:"primary",disable:i.value,onClick:x[0]||(x[0]=T=>s.value=!0)},null,8,["disable"])):A("",!0)]),_:1,__:[3]}),t(U,null,{default:l(()=>[p.value.length===0?(c(),O("div",Ll," No documents uploaded ")):A("",!0),p.value.length>0?(c(),O("div",Bl,[n("div",Ul,[t(he,{modelValue:d.value,"onUpdate:modelValue":x[1]||(x[1]=T=>d.value=T),dense:"",outlined:"",label:"Search by document type...",class:"col-12 col-sm-6"},null,8,["modelValue"])]),t(ql,{flat:"",dense:"",class:"q-ma-sm"},{default:l(()=>[x[5]||(x[5]=n("thead",null,[n("tr",{class:"text-left"},[n("th",null,"Type"),n("th",null,"Mime Type"),n("th",null,"Upload Date"),n("th",null,"Actions")])],-1)),n("tbody",null,[(c(!0),O(G,null,ae(p.value,T=>{var Q;return c(),O("tr",{key:T.id,class:"text-left"},[n("td",Nl,q(((Q=T.type)==null?void 0:Q.name)||"—"),1),n("td",zl,q(T.mime),1),n("td",Fl,q(f(T.upload_date)),1),n("td",Ml,[t(R,{icon:"visibility",flat:"",dense:"",color:"primary",round:"",href:`/storage/${T.path}`,target:"_blank",title:"View Document"},null,8,["href"]),t(R,{icon:"download",flat:"",dense:"",round:"",color:"primary",href:`/storage/${T.path}`,download:"",title:"Download Document"},null,8,["href"]),e.canDeleteDocument?(c(),E(R,{key:0,icon:"delete",flat:"",dense:"",round:"",color:"red",onClick:ee=>N(T),download:"",title:"Download Document"},null,8,["onClick"])):A("",!0),e.canRequestDocumentDelete?(c(),E(R,{key:1,icon:"delete_outline",disable:r.value,flat:"",dense:"",round:"",color:"negative",title:"Request Delete",onClick:ee=>z(T)},null,8,["disable","onClick"])):A("",!0)])])}),128)),p.value.length===0?(c(),O("tr",Ql,x[4]||(x[4]=[n("td",{colspan:"5",class:"text-center text-grey"},"No documents found",-1)]))):A("",!0)])]),_:1,__:[5]})])):A("",!0)]),_:1}),t(Re),t(U,null,{default:l(()=>[x[9]||(x[9]=n("div",{class:"stitle text-lg font-bold q-mb-md"},"Document Update Request",-1)),e.data.document_request.length===0?(c(),O("div",Il," No Document update request found. ")):(c(),O("div",Hl,[(c(!0),O(G,null,ae(e.data.document_request,T=>(c(),E(Y,{key:T.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:l(()=>[t(U,null,{default:l(()=>[n("div",Wl,[n("div",null,[x[6]||(x[6]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:ge(["ml-1 font-medium capitalize",{"text-yellow-600":T.approval_status==="pending","text-green-600":T.approval_status==="approved","text-red-600":T.approval_status==="rejected"}])},q(T.approval_status),3)]),n("div",Kl,[x[7]||(x[7]=n("b",null,"Requested On:",-1)),h(" "+q(f(T.request_date)),1)])]),n("div",null,[x[8]||(x[8]=n("b",{class:"block mb-3 text-gray-700"},"Documents",-1)),n("div",Yl,[(c(!0),O(G,null,ae(T.files,Q=>(c(),O("div",{key:Q.id,class:"mb-2"},[n("div",Jl,[h(q(Q.document_type.name)+": ",1),t(R,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${Q.path}`,target:"_blank"},null,8,["href"]),t(R,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${Q.path}`,target:"_blank",download:""},null,8,["href"])])]))),128))])])]),_:2},1024),T.approval_status==="pending"&&e.canApproveDocumentEdit?(c(),E(pe,{key:0,align:"right",class:"px-4 pb-4"},{default:l(()=>[t(R,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:Q=>L(T.id)},null,8,["onClick"]),t(R,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:Q=>P(T.id)},null,8,["onClick"])]),_:2},1024)):A("",!0)]),_:2},1024))),128))]))]),_:1,__:[9]}),t(U,null,{default:l(()=>[x[13]||(x[13]=n("div",{class:"stitle text-lg font-bold q-mb-md"},"Document Delete Request",-1)),e.data.document_delete_request.length===0?(c(),O("div",Gl," No delete requests found. ")):(c(),O("div",Xl,[(c(!0),O(G,null,ae(e.data.document_delete_request,T=>(c(),E(Y,{key:T.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:l(()=>[t(U,null,{default:l(()=>[n("div",Zl,[n("div",null,[x[10]||(x[10]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:ge(["ml-1 font-medium capitalize",{"text-yellow-600":T.approval_status==="pending","text-green-600":T.approval_status==="approved","text-red-600":T.approval_status==="rejected"}])},q(T.approval_status),3)]),n("div",ea,[x[11]||(x[11]=n("b",null,"Requested On:",-1)),h(" "+q(f(T.request_date)),1)])]),n("div",ta,[x[12]||(x[12]=n("b",null,"Document:",-1)),h(" "+q(T.document_type_name||"N/A"),1)])]),_:2},1024),T.approval_status==="pending"&&e.canApproveDocumentDelete?(c(),E(pe,{key:0,align:"right",class:"px-4 pb-4"},{default:l(()=>[t(R,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:Q=>$(T.id)},null,8,["onClick"]),t(R,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:Q=>v(T.id)},null,8,["onClick"])]),_:2},1024)):A("",!0)]),_:2},1024))),128))]))]),_:1,__:[13]})]),_:1}),t(Oe,{modelValue:s.value,"onUpdate:modelValue":x[2]||(x[2]=T=>s.value=T),persistent:""},{default:l(()=>[t(Y,{class:"q-pa-md",style:{width:"90vw","max-width":"600px"}},{default:l(()=>[t(U,null,{default:l(()=>x[14]||(x[14]=[n("div",{class:"text-h6 text-weight-bold text-primary"}," Request Document Update ",-1)])),_:1,__:[14]}),t(U,null,{default:l(()=>[(c(!0),O(G,null,ae(y.value,T=>(c(),O("div",{key:T.id,class:"column"},[n("div",la,q(T.name),1),t(Ue,{modelValue:b(u).files[T.id],"onUpdate:modelValue":Q=>b(u).files[T.id]=Q,filled:"",dense:"",label:"Choose file",accept:".pdf,.jpg,.jpeg,.png"},null,8,["modelValue","onUpdate:modelValue"])]))),128))]),_:1}),t(pe,{align:"right",class:"q-pt-none"},{default:l(()=>[Te(t(R,{flat:"",label:"Cancel",color:"grey"},null,512),[[Ee]]),t(R,{label:"Submit Request",color:"primary",loading:b(u).processing,disable:_.value,onClick:C},null,8,["loading","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},na={key:0,class:"text-grey-7 text-center q-pa-md italic"},oa={key:1,class:"flex flex-col gap-6"},sa={class:"flex flex-wrap justify-between items-center mb-4"},ia={class:"text-gray-600"},ra={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4"},ua={class:"text-gray-500"},da={class:"text-gray-800 font-bold"},ca={class:"text-gray-500"},fa={class:"text-gray-800 font-bold"},ma={class:"text-gray-500"},ga={__name:"TransferRequest",props:["data","office"],setup(e){const{formatDate:a}=Ae(),o=qe(),d=W(!1),s=xe({}),p=_=>{s.post(route("transfer.approve",_),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),d.value=!1,s.reset(),o.notify({type:"success",message:"Transfer Approved",position:"bottom"})},onError:f=>{Object.values(f).forEach(i=>{o.notify({type:"negative",message:i,position:"bottom"})})}})},y=_=>{s.post(route("transfer.reject",_),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),d.value=!1,s.reset(),o.notify({type:"negative",message:"Transfer Rejected",position:"bottom"})},onError:f=>{Object.values(f).forEach(i=>{o.notify({type:"negative",message:i,position:"bottom"})})}})};return(_,f)=>(c(),E(Y,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:l(()=>[t(U,{class:"flex items-center justify-between"},{default:l(()=>f[0]||(f[0]=[n("div",{class:"stitle text-lg font-bold"},"Transfer Request",-1)])),_:1,__:[0]}),t(Re),t(U,null,{default:l(()=>[e.data.transfer_requests.length===0?(c(),O("div",na," No transfer requests found. ")):(c(),O("div",oa,[(c(!0),O(G,null,ae(e.data.transfer_requests,i=>(c(),E(Y,{key:i.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:l(()=>[t(U,null,{default:l(()=>{var r,u;return[n("div",sa,[n("div",null,[f[1]||(f[1]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:ge(["ml-1 font-medium capitalize",{"text-yellow-600":i.approval_status==="pending","text-green-600":i.approval_status==="approved","text-red-600":i.approval_status==="rejected"}])},q(i.approval_status),3)]),n("div",ia,[f[2]||(f[2]=n("b",null,"Requested On:",-1)),h(" "+q(b(a)(i.request_date)),1)])]),n("div",null,[f[6]||(f[6]=n("b",{class:"block mb-3 text-gray-700"},"Transfer Details",-1)),n("div",ra,[n("div",null,[n("div",ua,[f[3]||(f[3]=h(" Current Office: ")),n("span",da,q(((r=i.current_office)==null?void 0:r.name)||"—"),1)])]),n("div",null,[n("div",ca,[f[4]||(f[4]=h(" Requested Office: ")),n("span",fa,q(((u=i.requested_office)==null?void 0:u.name)||"—"),1)])]),n("div",null,[n("div",ma,[f[5]||(f[5]=h(" Transfer Order: ")),t(R,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${i.supporting_document}`,target:"_blank"},null,8,["href"]),t(R,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${i.supporting_document}`,target:"_blank",download:""},null,8,["href"])])])])])]}),_:2},1024),i.approval_status==="pending"?(c(),E(pe,{key:0,align:"right",class:"px-4 pb-4"},{default:l(()=>[t(R,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:r=>p(i.id)},null,8,["onClick"]),t(R,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:r=>y(i.id)},null,8,["onClick"])]),_:2},1024)):A("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}))}},pa=St(ga,[["__scopeId","data-v-89ce476a"]]),rt=He({name:"QTooltip",inheritAttrs:!1,props:{...yl,...Gt,...at,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...at.transitionShow,default:"jump-down"},transitionHide:{...at.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:bt},self:{type:String,default:"top middle",validator:bt},offset:{type:Array,default:()=>[14,14],validator:vl},scrollTarget:Jt,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Yt],setup(e,{slots:a,emit:o,attrs:d}){let s,p;const y=Ze(),{proxy:{$q:_}}=y,f=W(null),i=W(!1),r=B(()=>ht(e.anchor,_.lang.rtl)),u=B(()=>ht(e.self,_.lang.rtl)),m=B(()=>e.persistent!==!0),{registerTick:C,removeTick:L}=Ge(),{registerTimeout:P}=st(),{transitionProps:N,transitionStyle:z}=Xt(e),{localScrollTarget:$,changeScrollEvent:v,unconfigureScrollTarget:V}=bl(e,$e),{anchorEl:x,canShow:T,anchorEvents:Q}=hl({showing:i,configureAnchorEl:De}),{show:ee,hide:ve}=Zt({showing:i,canShow:T,handleShow:ce,handleHide:fe,hideOnRouteChange:m,processOnMount:!0});Object.assign(Q,{delayShow:Ce,delayHide:we});const{showPortal:ne,hidePortal:_e,renderPortal:oe}=el(y,f,re,"tooltip");if(_.platform.is.mobile===!0){const J={anchorEl:x,innerRef:f,onClickOutside(ue){return ve(ue),ue.target.classList.contains("q-dialog__backdrop")&&dt(ue),!0}},ye=B(()=>e.modelValue===null&&e.persistent!==!0&&i.value===!0);be(ye,ue=>{(ue===!0?_l:_t)(J)}),Ie(()=>{_t(J)})}function ce(J){ne(),C(()=>{p=new MutationObserver(()=>me()),p.observe(f.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),me(),$e()}),s===void 0&&(s=be(()=>_.screen.width+"|"+_.screen.height+"|"+e.self+"|"+e.anchor+"|"+_.lang.rtl,me)),P(()=>{ne(!0),o("show",J)},e.transitionDuration)}function fe(J){L(),_e(),se(),P(()=>{_e(!0),o("hide",J)},e.transitionDuration)}function se(){p!==void 0&&(p.disconnect(),p=void 0),s!==void 0&&(s(),s=void 0),V(),pt(Q,"tooltipTemp")}function me(){xl({targetEl:f.value,offset:e.offset,anchorEl:x.value,anchorOrigin:r.value,selfOrigin:u.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Ce(J){if(_.platform.is.mobile===!0){xt(),document.body.classList.add("non-selectable");const ye=x.value,ue=["touchmove","touchcancel","touchend","click"].map(g=>[ye,g,"delayHide","passiveCapture"]);vt(Q,"tooltipTemp",ue)}P(()=>{ee(J)},e.delay)}function we(J){_.platform.is.mobile===!0&&(pt(Q,"tooltipTemp"),xt(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),P(()=>{ve(J)},e.hideDelay)}function De(){if(e.noParentEvent===!0||x.value===null)return;const J=_.platform.is.mobile===!0?[[x.value,"touchstart","delayShow","passive"]]:[[x.value,"mouseenter","delayShow","passive"],[x.value,"mouseleave","delayHide","passive"]];vt(Q,"anchor",J)}function $e(){if(x.value!==null||e.scrollTarget!==void 0){$.value=tl(x.value,e.scrollTarget);const J=e.noParentEvent===!0?me:ve;v($.value,J)}}function ie(){return i.value===!0?I("div",{...d,ref:f,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",d.class],style:[d.style,z.value],role:"tooltip"},ct(a.default)):null}function re(){return I(ll,N.value,ie)}return Ie(se),Object.assign(y.proxy,{updatePosition:me}),oe}}),va={key:0,class:"text-grey-7 text-center q-pa-md italic"},ya={key:1,class:"flex flex-col gap-6"},ba={class:"flex flex-wrap justify-between items-center mb-4"},ha={class:""},_a={class:"text-gray-600"},xa={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg"},wa={class:"flex flex-col"},ka={class:"font-bold"},qa={class:"text-gray-800"},Ca={class:"font-bold"},Da={class:"font-bold"},$a={key:0,class:"mt-6"},Ta={class:"space-y-2"},Sa={class:"flex items-center space-x-2 text-gray-700"},Ra={class:"flex space-x-1"},Ea={__name:"EditRequest",props:["data"],setup(e){const{formatDate:a}=Ae(),o=_=>{it.post(route("edit.approve",_))},d=_=>{it.post(route("edit.reject",_))},s=_=>{try{return JSON.parse(_)}catch{return{}}},p={name:"Name",date_of_birth:"Date of Birth",parent_name:"Parent's Name",employment_type:"Employment Type",designation:"Designation",educational_qln:"Educational Qualification",technical_qln:"Technical Qualification",name_of_workplace:"Workplace Name",post_per_qualification:"Post per Qualification",date_of_engagement:"Date of Engagement",skill_category:"Skill Category",skill_at_present:"Skill at Present"},y=_=>{try{return _?JSON.parse(_):{}}catch{return{}}};return(_,f)=>(c(),E(Y,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:l(()=>[t(U,null,{default:l(()=>f[0]||(f[0]=[n("div",{class:"stitle text-lg font-bold"},"Edit Requests",-1)])),_:1,__:[0]}),t(Re),t(U,null,{default:l(()=>[e.data.edit_requests.length===0?(c(),O("div",va," No edit requests found. ")):(c(),O("div",ya,[(c(!0),O(G,null,ae(e.data.edit_requests,i=>(c(),E(Y,{key:i.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:l(()=>[t(U,null,{default:l(()=>[n("div",ba,[n("div",ha,[f[1]||(f[1]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:ge(["ml-1 font-medium capitalize",{"text-yellow-600":i.approval_status==="pending","text-green-600":i.approval_status==="approved","text-red-600":i.approval_status==="rejected"}])},q(i.approval_status),3)]),n("div",_a,[f[2]||(f[2]=n("b",null,"Requested On:",-1)),h(" "+q(b(a)(i.request_date)),1)])]),n("div",null,[f[5]||(f[5]=n("b",{class:"block mb-3 text-gray-700"},"Requested Changes",-1)),n("div",xa,[(c(!0),O(G,null,ae(s(i.requested_changes),(r,u)=>(c(),O("div",{key:u},[n("div",wa,[n("span",ka,q(p[u]??u)+": ",1),n("span",qa,[f[3]||(f[3]=h(" From: ")),n("span",Ca,q(u==="date_of_birth"?b(a)(y(i.previous_data)[u]):y(i.previous_data)[u]||"—"),1),f[4]||(f[4]=h(" To: ")),n("span",Da,q(u==="date_of_birth"||u==="date_of_engagement"?b(a)(r):r),1)])])]))),128))])]),i.attachments&&i.attachments.length>0?(c(),O("div",$a,[f[8]||(f[8]=n("b",{class:"block mb-3 text-gray-700"},"Attached Documents",-1)),n("div",Ta,[(c(!0),O(G,null,ae(i.attachments,r=>{var u;return c(),O("div",{key:r.id,class:"flex items-center justify-between p-3 border rounded-lg bg-gray-50 hover:bg-gray-100 transition"},[n("div",Sa,[t(je,{name:"attach_file",size:"16px",class:"text-gray-500"}),n("span",null,[n("b",null,q(((u=r.type)==null?void 0:u.name)||"Unknown Type"),1)])]),n("div",Ra,[t(R,{flat:"",dense:"",round:"",color:"primary",icon:"visibility",href:`/storage/${r.path}`,target:"_blank"},{default:l(()=>[t(rt,null,{default:l(()=>f[6]||(f[6]=[h("View")])),_:1,__:[6]})]),_:2},1032,["href"]),t(R,{flat:"",dense:"",round:"",color:"primary",icon:"download",href:`/storage/${r.path}`,download:""},{default:l(()=>[t(rt,null,{default:l(()=>f[7]||(f[7]=[h("Download")])),_:1,__:[7]})]),_:2},1032,["href"])])])}),128))])])):A("",!0)]),_:2},1024),i.approval_status==="pending"?(c(),E(pe,{key:0,align:"right",class:"px-4 pb-4"},{default:l(()=>[t(R,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:r=>o(i.id)},null,8,["onClick"]),t(R,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:r=>d(i.id)},null,8,["onClick"])]),_:2},1024)):A("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}))}},Oa={key:0,class:"text-grey-7 text-center q-pa-md italic"},Pa={key:1,class:"flex flex-col gap-6"},Va={class:"flex flex-wrap justify-between items-center mb-4"},ja={class:"text-gray-600"},Aa={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg"},La={class:"text-gray-500"},Ba={class:"text-gray-800 font-bold"},Ua={class:"text-gray-500"},Na={class:"text-gray-800 font-bold"},za={class:"text-gray-500"},Fa={class:"text-gray-800 font-bold"},Ma={class:"text-gray-500"},Qa={class:"text-gray-800 font-bold"},Ia={key:0},Ha={class:"text-gray-500"},Wa={__name:"DeletionRequest",props:["data"],setup(e){const{formatDate:a}=Ae(),o=qe(),d=Xe(),s=xe({});function p(f){try{return JSON.parse(f.reason)}catch{return{}}}const y=f=>{s.post(route("deletion.approve",f),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),s.reset(),d.props.flash.success==="Employee moved to Trash."?o.notify({type:"negative",message:"Employee Moved to trash."}):o.notify({type:"positive",message:"Employee Deleted successfully."})},onError:i=>{Object.values(i).forEach(r=>{o.notify({type:"negative",message:r,position:"bottom"})})}})},_=f=>{s.post(route("deletion.reject",f),{onStart:()=>{o.loading.show()},onFinish:()=>{o.loading.hide(),s.reset(),o.notify({type:"negative",message:"Deletion Rejected",position:"bottom"})},onError:i=>{Object.values(i).forEach(r=>{o.notify({type:"negative",message:r,position:"bottom"})})}})};return(f,i)=>(c(),E(Y,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:l(()=>[t(U,null,{default:l(()=>i[0]||(i[0]=[n("div",{class:"stitle text-lg font-bold"},"Deletion Requests",-1)])),_:1,__:[0]}),t(Re),t(U,null,{default:l(()=>[e.data.deletion_requests.length===0?(c(),O("div",Oa," No deletion requests found. ")):(c(),O("div",Pa,[(c(!0),O(G,null,ae(e.data.deletion_requests,r=>(c(),E(Y,{key:r.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:l(()=>[t(U,null,{default:l(()=>[n("div",Va,[n("div",null,[i[1]||(i[1]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:ge(["ml-1 font-medium capitalize",{"text-yellow-600":r.approval_status==="pending","text-green-600":r.approval_status==="approved","text-red-600":r.approval_status==="rejected"}])},q(r.approval_status),3)]),n("div",ja,[i[2]||(i[2]=n("b",null,"Requested On:",-1)),h(" "+q(b(a)(r.request_date)),1)])]),n("div",null,[i[8]||(i[8]=n("b",{class:"block mb-3 text-gray-700"},"Reason Details",-1)),n("div",Aa,[n("div",null,[n("div",La,[i[3]||(i[3]=h(" Reason: ")),n("span",Ba,q(p(r).reason),1)])]),n("div",null,[n("div",Ua,[i[4]||(i[4]=h(" Year: ")),n("span",Na,q(p(r).year),1)])]),n("div",null,[n("div",za,[i[5]||(i[5]=h(" Remark: ")),n("span",Fa,q(p(r).remark),1)])]),n("div",null,[n("div",Ma,[i[6]||(i[6]=h(" Seniority List: ")),n("span",Qa,q(p(r).seniority_list),1)])]),p(r).supporting_document?(c(),O("div",Ia,[n("div",Ha,[i[7]||(i[7]=h(" Supporting Document: ")),t(R,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${p(r).supporting_document}`,target:"_blank"},null,8,["href"]),t(R,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${p(r).supporting_document}`,target:"_blank",download:""},null,8,["href"])])])):A("",!0)])])]),_:2},1024),r.approval_status==="pending"?(c(),E(pe,{key:0,align:"right",class:"px-4 pb-4"},{default:l(()=>[t(R,{label:"Approve",color:"positive",unelevated:"",class:"rounded-lg",onClick:u=>y(r.id)},null,8,["onClick"]),t(R,{label:"Reject",color:"negative",flat:"",class:"rounded-lg",onClick:u=>_(r.id)},null,8,["onClick"])]),_:2},1024)):A("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}))}},Ka={key:0,class:"text-grey-7 text-center q-pa-md italic"},Ya={key:1,class:"flex flex-col gap-6"},Ja={class:"flex flex-wrap justify-between items-center mb-4"},Ga={class:"text-gray-600"},Xa={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg"},Za={class:"text-gray-500"},en={class:"text-gray-800 font-bold"},tn={class:"text-gray-500"},ln={class:"text-gray-800 font-bold"},an={class:"text-gray-500"},nn={class:"text-gray-800 font-bold"},on={class:"text-gray-500"},sn={class:"text-gray-800 font-bold"},rn={key:0},un={class:"text-gray-500"},wt=2020,dn=2040,cn={__name:"RequestDeletion",props:["data"],setup(e){const{formatDate:a}=Ae(),o=e,d=qe(),s=xe({reason:"",seniority_list:"",year:"",remark:"",supporting_document:null}),p=Array.from({length:dn-wt+1},(r,u)=>wt+u),y=B(()=>{var r,u;return((u=(r=o.data.deletion_requests)==null?void 0:r.slice(-1)[0])==null?void 0:u.approval_status)==="pending"}),_=W(!1);function f(r){try{return JSON.parse(r.reason)}catch{return{}}}function i(){if(!s.reason){d.notify({type:"negative",message:"Reason is required",position:"bottom"});return}if(!s.supporting_document){d.notify({type:"negative",message:"Supporting Document is required",position:"bottom"});return}s.post(route("deletion.request",o.data),{preserveScroll:!0,onSuccess:()=>{d.notify({type:"positive",message:"Deletion request submitted successfully"}),_.value=!1,s.reset()},onError:r=>{Object.values(r).forEach(u=>{d.notify({type:"negative",message:u,position:"bottom"})})}})}return(r,u)=>(c(),O(G,null,[t(Y,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:l(()=>[t(U,{class:"flex items-center justify-between"},{default:l(()=>[u[8]||(u[8]=n("div",{class:"stitle text-lg font-bold"},"Request Deletion",-1)),n("div",null,[e.data.employment_type!=="Deleted"?(c(),E(R,{key:0,label:"Request Deletion",color:"negative",disable:y.value,onClick:u[0]||(u[0]=m=>_.value=!0)},null,8,["disable"])):A("",!0)])]),_:1,__:[8]}),t(Re),t(U,null,{default:l(()=>[e.data.deletion_requests.length===0?(c(),O("div",Ka," No deletion requests found. ")):(c(),O("div",Ya,[(c(!0),O(G,null,ae(e.data.deletion_requests,m=>(c(),E(Y,{key:m.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:l(()=>[t(U,null,{default:l(()=>[n("div",Ja,[n("div",null,[u[9]||(u[9]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:ge(["ml-1 font-medium capitalize",{"text-yellow-600":m.approval_status==="pending","text-green-600":m.approval_status==="approved","text-red-600":m.approval_status==="rejected"}])},q(m.approval_status),3)]),n("div",Ga,[u[10]||(u[10]=n("b",null,"Requested On:",-1)),h(" "+q(b(a)(m.request_date)),1)])]),n("div",null,[u[16]||(u[16]=n("b",{class:"block mb-3 text-gray-700"},"Reason Details",-1)),n("div",Xa,[n("div",null,[n("div",Za,[u[11]||(u[11]=h(" Reason: ")),n("span",en,q(f(m).reason),1)])]),n("div",null,[n("div",tn,[u[12]||(u[12]=h(" Year: ")),n("span",ln,q(f(m).year),1)])]),n("div",null,[n("div",an,[u[13]||(u[13]=h(" Remark: ")),n("span",nn,q(f(m).remark),1)])]),n("div",null,[n("div",on,[u[14]||(u[14]=h(" Seniority List: ")),n("span",sn,q(f(m).seniority_list),1)])]),f(m).supporting_document?(c(),O("div",rn,[n("div",un,[u[15]||(u[15]=h(" Supporting Document: ")),t(R,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${f(m).supporting_document}`,target:"_blank"},null,8,["href"]),t(R,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${f(m).supporting_document}`,target:"_blank",download:""},null,8,["href"])])])):A("",!0)])])]),_:2},1024)]),_:2},1024))),128))]))]),_:1})]),_:1}),t(Oe,{modelValue:_.value,"onUpdate:modelValue":u[7]||(u[7]=m=>_.value=m)},{default:l(()=>[t(Y,{style:{"min-width":"400px"}},{default:l(()=>[t(U,null,{default:l(()=>u[17]||(u[17]=[n("div",{class:"text-h6"},"Submit Deletion Request",-1)])),_:1,__:[17]}),t(U,null,{default:l(()=>[t(ke,{modelValue:b(s).reason,"onUpdate:modelValue":u[1]||(u[1]=m=>b(s).reason=m),label:"Reason",outlined:"",options:["Expired","Resigned","Dismissed","Regularised","Others (Specify the reasons to Remarks)","Overage (Retired)"],error:!!b(s).errors.reason,"error-message":b(s).errors.reason,rules:[m=>!!m||"Reason is required"]},null,8,["modelValue","error","error-message","rules"]),t(he,{modelValue:b(s).seniority_list,"onUpdate:modelValue":u[2]||(u[2]=m=>b(s).seniority_list=m),label:"Seniority List",outlined:"",class:"q-mt-sm"},null,8,["modelValue"]),t(ke,{modelValue:b(s).year,"onUpdate:modelValue":u[3]||(u[3]=m=>b(s).year=m),label:"Year",outlined:"",class:"q-mt-sm",options:b(p),"emit-value":"","map-options":""},null,8,["modelValue","options"]),t(he,{modelValue:b(s).remark,"onUpdate:modelValue":u[4]||(u[4]=m=>b(s).remark=m),label:"Remark",type:"textarea",outlined:"",class:"q-mt-sm"},null,8,["modelValue"]),t(Ue,{modelValue:b(s).supporting_document,"onUpdate:modelValue":u[5]||(u[5]=m=>b(s).supporting_document=m),label:"Supporting Document",outlined:"",class:"q-mt-sm",accept:".pdf,.jpg,.jpeg,.png",error:!!b(s).errors.supporting_document,"error-message":b(s).errors.supporting_document},null,8,["modelValue","error","error-message"])]),_:1}),t(pe,{align:"right"},{default:l(()=>[t(R,{flat:"",label:"Cancel",color:"grey",onClick:u[6]||(u[6]=m=>_.value=!1)}),t(R,{label:"Submit",color:"negative",onClick:i,loading:b(s).processing},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},fn={key:0,class:"text-grey-7 text-center q-pa-md italic"},mn={key:1,class:"flex flex-col gap-6"},gn={class:"flex flex-wrap justify-between items-center mb-4"},pn={class:""},vn={class:"text-gray-600"},yn={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg"},bn={class:"flex flex-col"},hn={class:"text-gray-500"},_n={class:"text-gray-800"},xn={class:"font-bold"},wn={class:"font-bold"},kn={class:"text-sm text-weight-bold q-mb-xs"},qn={class:"q-mt-sm text-body2"},Cn={key:0,class:"absolute top-0 bottom-0 left-1/2 w-px bg-grey-4"},Dn={class:"text-sm text-weight-bold q-mb-xs"},$n={key:3,class:"q-mt-md q-pa-sm bg-grey-1 rounded-borders"},Tn={class:"text-sm text-weight-bold q-mb-sm"},Sn={__name:"RequestEdit",props:["data","documentTypes"],setup(e){const{formatDate:a,educationalQualifications:o}=Ae(),d=e,s=qe(),p=W(!1),y=xe({requested_changes:{name:"",date_of_birth:"",parent_name:"",educational_qln:"",technical_qln:""},documents:{}}),_=B(()=>{var L,P;return((P=(L=d.data.edit_requests)==null?void 0:L.slice(-1)[0])==null?void 0:P.approval_status)==="pending"});be(p,L=>{L||(y.reset(),y.clearErrors())});const f={date_of_birth:["Birth Certificate","Aadhar","EPIC","Educational Certificate"],name:["Birth Certificate","Aadhar","EPIC","Educational Certificate"],parent_name:["Birth Certificate"],educational_qln:["Educational Certificate"],technical_qln:["Technical Certificate"]},i={name:"Name",date_of_birth:"Date of Birth",parent_name:"Parent's Name",educational_qln:"Educational Qualification",technical_qln:"Technical Qualification"},r=()=>{y.reset(),y.clearErrors(),y.documents={}},u=B(()=>Object.values(y.requested_changes).some(L=>{var P;return L&&((P=L.trim)==null?void 0:P.call(L))!==""})),m=()=>{if(!u.value){s.notify({type:"warning",message:"Please enter at least one change before submitting."});return}const L=new FormData;Object.entries(y.requested_changes).forEach(([P,N])=>{N&&L.append(`requested_changes[${P}]`,N)}),Object.entries(y.documents).forEach(([P,N])=>{N&&[].concat(N).forEach(z=>{L.append(`documents[${P}][]`,z)})}),y.post(route("edit.request",d.data),{data:L,forceFormData:!0,onSuccess:()=>{p.value=!1,y.reset()},onError:P=>{Object.values(P).forEach(N=>{Array.isArray(N)?N.forEach(z=>{s.notify({type:"negative",message:z})}):s.notify({type:"negative",message:N})})}})},C=L=>{try{return JSON.parse(L)}catch{return{}}};return(L,P)=>(c(),O(G,null,[t(Y,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:l(()=>[t(U,{class:"flex items-center justify-between"},{default:l(()=>[P[2]||(P[2]=n("div",{class:"stitle text-lg font-bold"},"Request Edit",-1)),t(R,{label:"Request Edit",color:"primary",disable:_.value,onClick:P[0]||(P[0]=N=>p.value=!0)},null,8,["disable"])]),_:1,__:[2]}),t(Re),t(U,null,{default:l(()=>[e.data.edit_requests.length===0?(c(),O("div",fn," No edit requests found. ")):(c(),O("div",mn,[(c(!0),O(G,null,ae(e.data.edit_requests,N=>(c(),E(Y,{key:N.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:l(()=>[t(U,null,{default:l(()=>[n("div",gn,[n("div",pn,[P[3]||(P[3]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:ge(["ml-1 font-medium capitalize",{"text-yellow-600":N.approval_status==="pending","text-green-600":N.approval_status==="approved","text-red-600":N.approval_status==="rejected"}])},q(N.approval_status),3)]),n("div",vn,[P[4]||(P[4]=n("b",null,"Requested On:",-1)),h(" "+q(b(a)(N.request_date)),1)])]),n("div",null,[P[7]||(P[7]=n("b",{class:"block mb-3 text-gray-700"},"Requested Changes",-1)),n("div",yn,[(c(!0),O(G,null,ae(C(N.requested_changes),(z,$)=>(c(),O("div",{key:$},[n("div",bn,[n("span",hn,q(i[$]??$)+": ",1),n("span",_n,[P[5]||(P[5]=h(" From: ")),n("span",xn,q($==="date_of_birth"?b(a)(C(N.previous_data)[$]):C(N.previous_data)[$]||"—"),1),P[6]||(P[6]=h(" To: ")),n("span",wn,q($==="date_of_birth"||$==="date_of_engagement"?b(a)(z):z),1)])])]))),128))])])]),_:2},1024)]),_:2},1024))),128))]))]),_:1})]),_:1}),t(Oe,{modelValue:p.value,"onUpdate:modelValue":P[1]||(P[1]=N=>p.value=N),persistent:""},{default:l(()=>[t(Y,{class:"q-pa-md",style:{width:"95vw","max-width":"800px","max-height":"90vh","overflow-y":"auto"}},{default:l(()=>[t(U,null,{default:l(()=>P[8]||(P[8]=[n("div",{class:"text-h6 text-weight-bold text-primary"},"Request Edit",-1)])),_:1,__:[8]}),t(U,{class:"q-gutter-md"},{default:l(()=>[(c(),O(G,null,ae(i,(N,z)=>n("div",{key:z,class:"q-mb-lg"},[n("div",{class:ge(["grid gap-4 items-start relative",{"grid-cols-2":b(s).screen.gt.sm,"grid-cols-1":!b(s).screen.gt.sm}])},[n("div",null,[n("div",kn," Existing "+q(N)+": ",1),n("div",qn,q(z==="date_of_birth"?b(a)(d.data[z]):d.data[z]||"—"),1)]),b(s).screen.gt.sm?(c(),O("div",Cn)):A("",!0),n("div",null,[n("div",Dn," New "+q(N)+": ",1),z==="date_of_birth"?(c(),E(he,{key:0,modelValue:b(y).requested_changes[z],"onUpdate:modelValue":$=>b(y).requested_changes[z]=$,type:"date",outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])):z==="educational_qln"?(c(),E(ke,{key:1,modelValue:b(y).requested_changes[z],"onUpdate:modelValue":$=>b(y).requested_changes[z]=$,options:b(o),label:"Select Qualification",outlined:"",dense:"","emit-value":"","map-options":""},null,8,["modelValue","onUpdate:modelValue","options"])):(c(),E(he,{key:2,modelValue:b(y).requested_changes[z],"onUpdate:modelValue":$=>b(y).requested_changes[z]=$,outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])),b(y).requested_changes[z]?(c(),O("div",$n,[n("div",Tn," Required Documents for "+q(N)+": ",1),(c(!0),O(G,null,ae(f[z],$=>(c(),O("div",{key:$,class:"q-mb-sm"},[t(Ue,{filled:"",modelValue:b(y).documents[$],"onUpdate:modelValue":v=>b(y).documents[$]=v,label:$,accept:".pdf,.jpg,.jpeg,.png",clearable:"",dense:""},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))])):A("",!0)])],2),t(Re,{spaced:"",class:"q-my-md"})])),64))]),_:1}),t(pe,{align:"right",class:"q-pt-none"},{default:l(()=>[t(R,{flat:"",label:"Clear",color:"negative",onClick:r}),Te(t(R,{flat:"",label:"Cancel",color:"grey"},null,512),[[Ee]]),t(R,{label:"Submit",color:"primary",loading:b(y).processing,disable:!u.value,onClick:m},null,8,["loading","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Rn={key:0,class:"text-grey-7 text-center q-pa-md italic"},En={key:1,class:"flex flex-col gap-6"},On={class:"flex flex-wrap justify-between items-center mb-4"},Pn={class:"text-gray-600"},Vn={class:"grid grid-cols-1 md:grid-cols-2 gap-4 p- rounded-lg"},jn={class:"text-gray-500"},An={class:"text-gray-800 font-bold"},Ln={class:"text-gray-500"},Bn={class:"text-gray-800 font-bold"},Un={class:"text-gray-500"},Nn={__name:"RequestTransfer",props:["data","office"],setup(e){const{formatDate:a}=Ae(),o=e,d=qe(),s=W(!1),p=xe({requested_office_id:"",supporting_document:null});be(s,f=>{f||(p.reset(),p.clearErrors())});const y=B(()=>{var f,i;return((i=(f=o.data.transfer_requests)==null?void 0:f.slice(-1)[0])==null?void 0:i.approval_status)==="pending"}),_=()=>{if(!p.requested_office_id){d.notify({type:"negative",message:"Office is required",position:"bottom"});return}if(!p.supporting_document){d.notify({type:"negative",message:"Transfer Order is required",position:"bottom"});return}p.post(route("transfer.request",o.data),{onStart:()=>{d.loading.show()},onSuccess:()=>{d.loading.hide(),s.value=!1,p.reset(),d.notify({type:"positive",message:"Transfer Requested",position:"bottom"})},onFinish:()=>{d.loading.hide(),s.value=!1,p.reset()},onError:f=>{Object.values(f).forEach(i=>{d.notify({type:"negative",message:i,position:"bottom"})})}})};return(f,i)=>(c(),O(G,null,[t(Y,{class:"q-mt-md shadow-lg rounded-xl border border-gray-200"},{default:l(()=>[t(U,{class:"flex items-center justify-between"},{default:l(()=>[i[4]||(i[4]=n("div",{class:"stitle text-lg font-bold"},"Request Transfer",-1)),t(R,{label:"Request Transfer",color:"primary",disable:y.value,onClick:i[0]||(i[0]=r=>s.value=!0)},null,8,["disable"])]),_:1,__:[4]}),t(Re),t(U,null,{default:l(()=>[e.data.transfer_requests.length===0?(c(),O("div",Rn," No transfer requests found. ")):(c(),O("div",En,[(c(!0),O(G,null,ae(e.data.transfer_requests,r=>(c(),E(Y,{key:r.id,class:"rounded-xl border border-gray-100 hover:shadow-md transition duration-200"},{default:l(()=>[t(U,null,{default:l(()=>{var u,m;return[n("div",On,[n("div",null,[i[5]||(i[5]=n("b",{class:"text-gray-600"},"Status:",-1)),n("span",{class:ge(["ml-1 font-medium capitalize",{"text-yellow-600":r.approval_status==="pending","text-green-600":r.approval_status==="approved","text-red-600":r.approval_status==="rejected"}])},q(r.approval_status),3)]),n("div",Pn,[i[6]||(i[6]=n("b",null,"Requested On:",-1)),h(" "+q(b(a)(r.request_date)),1)])]),n("div",null,[i[10]||(i[10]=n("b",{class:"block mb-3 text-gray-700"},"Transfer Details:",-1)),n("div",Vn,[n("div",null,[n("div",jn,[i[7]||(i[7]=h(" Current Office: ")),n("span",An,q(((u=r.current_office)==null?void 0:u.name)||"—"),1)])]),n("div",null,[n("div",Ln,[i[8]||(i[8]=h(" Requested Office: ")),n("span",Bn,q(((m=r.requested_office)==null?void 0:m.name)||"—"),1)])]),n("div",null,[n("div",Un,[i[9]||(i[9]=h(" Transfer Order: ")),t(R,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${r.supporting_document}`,target:"_blank"},null,8,["href"]),t(R,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${r.supporting_document}`,target:"_blank",download:""},null,8,["href"])])])])])]}),_:2},1024)]),_:2},1024))),128))]))]),_:1})]),_:1}),t(Oe,{modelValue:s.value,"onUpdate:modelValue":i[3]||(i[3]=r=>s.value=r),persistent:""},{default:l(()=>[t(Y,{style:{"min-width":"400px"}},{default:l(()=>[t(U,null,{default:l(()=>i[11]||(i[11]=[n("div",{class:"text-h6"},"Select Requested Office",-1)])),_:1,__:[11]}),t(U,null,{default:l(()=>[t(ke,{modelValue:b(p).requested_office_id,"onUpdate:modelValue":i[1]||(i[1]=r=>b(p).requested_office_id=r),options:e.office,"option-value":"id","option-label":"name",label:"Office",dense:"",outlined:"",error:!!b(p).errors.requested_office_id,"error-message":b(p).errors.requested_office_id,rules:[r=>!!r||"Office is required"]},null,8,["modelValue","options","error","error-message","rules"]),t(Ue,{modelValue:b(p).supporting_document,"onUpdate:modelValue":i[2]||(i[2]=r=>b(p).supporting_document=r),label:"Transfer Order",outlined:"",class:"q-mt-md",error:!!b(p).errors.supporting_document,"error-message":b(p).errors.supporting_document,rules:[r=>!!r||"Transfer Order is required"],accept:".pdf,.jpg,.jpeg,.png"},null,8,["modelValue","error","error-message","rules"])]),_:1}),t(pe,{align:"right"},{default:l(()=>[Te(t(R,{flat:"",label:"Cancel",color:"negative"},null,512),[[Ee]]),t(R,{flat:"",label:"Submit",color:"primary",onClick:_})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},zn=St(Nn,[["__scopeId","data-v-6b8cea86"]]),Fn={class:"flex items-center justify-between q-pa-md bg-white"},Mn={class:"flex q-gutter-sm"},Qn={key:0},In={class:"flex items-center justify-between"},Hn={key:0},Wn={key:1,class:"text-grey-7 text-center q-pa-md italic"},Kn={key:0},Yn={key:1},Jn={__name:"Transfer",props:["data","office","canCreateTransfer","canDeleteTransfer"],setup(e){const a=e,o=qe(),d=W(!1),s=W(!1),p=xe({old_office_id:null,new_office_id:null,transfer_date:"",is_present_transfer:!1,supporting_document:null}),y=B(()=>{var r;return[...((r=a.data)==null?void 0:r.transfers)||[]].sort((u,m)=>new Date(u.transfer_date)-new Date(m.transfer_date))});function _(r){return new Date(r).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}const f=r=>{if(!p.old_office_id){o.notify({type:"negative",message:"Old Office is required",position:"bottom"});return}if(!p.new_office_id){o.notify({type:"negative",message:"New Office is required",position:"bottom"});return}if(!p.transfer_date){o.notify({type:"negative",message:"Transfer Date is required",position:"bottom"});return}if(!p.supporting_document){o.notify({type:"negative",message:"Transfer Order is required",position:"bottom"});return}p.is_present_transfer=s.value,p.post(route("transfer.store",a.data),{onStart:()=>{o.loading.show({boxClass:"bg-grey-2 text-grey-9",spinnerColor:"primary",message:"Creating Transfer..."}),p.reset()},onFinish:()=>{o.loading.hide(),d.value=!1,p.reset()},onError:u=>{o.loading.hide(),Object.values(u).forEach(m=>{o.notify({type:"negative",message:m,position:"bottom"})})}})},i=r=>{o.dialog({title:"Confirmation",message:"Do you want to delete?",ok:"Yes",cancel:"No"}).onOk(()=>{it.delete(route("transfer.destroy",r),{onStart:u=>o.loading.show(),onFinish:u=>o.loading.hide(),preserveState:!1})})};return be(s,r=>{r?(p.old_office_id=a.data.office,p.transfer_date=new Date().toISOString().split("T")[0]):(p.old_office_id=null,p.transfer_date="")}),(r,u)=>(c(),O(G,null,[t(Y,{class:"q-mt-md"},{default:l(()=>[n("div",Fn,[u[8]||(u[8]=n("div",null,[n("div",{class:"stitle"},"Transfer History")],-1)),n("div",Mn,[e.canCreateTransfer?(c(),E(R,{key:0,onClick:u[0]||(u[0]=m=>d.value=!0),color:"btn-primary",icon:"add"})):A("",!0)])]),t(U,null,{default:l(()=>[y.value.length>0?(c(),O("div",Qn,[t(Cl,{color:"primary",class:"q-pa-md"},{default:l(()=>[(c(!0),O(G,null,ae(y.value,(m,C)=>(c(),E(Dl,{key:m.id,title:_(m.transfer_date),icon:C===y.value.length-1?"flag":"swap_horiz"},{subtitle:l(()=>[n("div",In,[n("span",null,"Transfer #"+q(C+1),1),e.canDeleteTransfer?(c(),E(R,{key:0,icon:"delete",color:"red",flat:"",dense:"",size:"m",onClick:L=>i(m.id),title:"Delete Transfer"},null,8,["onClick"])):A("",!0)])]),default:l(()=>{var L,P;return[n("div",null,[u[9]||(u[9]=h(" From ")),n("strong",null,q(((L=m.old_office)==null?void 0:L.name)||"Unknown Office"),1),u[10]||(u[10]=h(" to ")),n("strong",null,q(((P=m.new_office)==null?void 0:P.name)||"Unknown Office"),1)]),m.supporting_document?(c(),O("div",Hn,[u[11]||(u[11]=h(" Transfer Order: ")),t(R,{dense:"",flat:"",color:"primary",icon:"visibility",href:`/storage/${m.supporting_document}`,target:"_blank"},null,8,["href"]),t(R,{dense:"",flat:"",color:"primary",icon:"download",href:`/storage/${m.supporting_document}`,target:"_blank",download:""},null,8,["href"])])):A("",!0)]}),_:2},1032,["title","icon"]))),128))]),_:1})])):(c(),O("div",Wn," No transfer history found "))]),_:1})]),_:1}),t(Oe,{modelValue:d.value,"onUpdate:modelValue":u[7]||(u[7]=m=>d.value=m)},{default:l(()=>[t(Y,{style:{"min-width":"400px"}},{default:l(()=>[t(U,null,{default:l(()=>u[12]||(u[12]=[n("div",{class:"stitle"},"Add Transfer",-1)])),_:1,__:[12]}),t(U,{class:"q-gutter-md"},{default:l(()=>[t(al,{modelValue:s.value,"onUpdate:modelValue":u[1]||(u[1]=m=>s.value=m),label:"Is Present Transfer?",color:"primary"},null,8,["modelValue"]),s.value?(c(),O("div",Kn,[t(he,{modelValue:e.data.office.name,"onUpdate:modelValue":u[2]||(u[2]=m=>e.data.office.name=m),label:"Old Office",dense:"",outlined:"",readonly:""},null,8,["modelValue"])])):(c(),O("div",Yn,[t(ke,{modelValue:b(p).old_office_id,"onUpdate:modelValue":u[3]||(u[3]=m=>b(p).old_office_id=m),options:e.office,"option-value":"id","option-label":"name",label:"Old Office",dense:"",clearable:"",outlined:""},null,8,["modelValue","options"])])),t(ke,{modelValue:b(p).new_office_id,"onUpdate:modelValue":u[4]||(u[4]=m=>b(p).new_office_id=m),options:e.office,"option-value":"id","option-label":"name",label:"New Office",dense:"",clearable:"",outlined:""},null,8,["modelValue","options"]),t(he,{modelValue:b(p).transfer_date,"onUpdate:modelValue":u[5]||(u[5]=m=>b(p).transfer_date=m),type:"date",label:"Transfer Date",dense:"",clearable:"",outlined:""},null,8,["modelValue"]),t(Ue,{modelValue:b(p).supporting_document,"onUpdate:modelValue":u[6]||(u[6]=m=>b(p).supporting_document=m),label:"Transfer Order",outlined:"",clearable:"",error:!!b(p).errors.supporting_document,"error-message":b(p).errors.supporting_document,accept:".pdf,.jpg,.jpeg,.png"},null,8,["modelValue","error","error-message"])]),_:1}),t(pe,{align:"right"},{default:l(()=>[Te(t(R,{flat:"",label:"Cancel"},null,512),[[Ee]]),t(R,{flat:"",label:"Submit",color:"primary",onClick:f})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Gn=He({name:"QSpace",setup(){const e=I("div",{class:"q-space"});return()=>e}}),kt=2020,Xn=2040,Zn={__name:"DeletionDialog",props:{modelValue:Boolean,employee:Object},emits:["update:modelValue"],setup(e,{emit:a}){const o=qe(),d=Xe(),s=e,p=a,y=W(s.modelValue);be(()=>s.modelValue,r=>y.value=r),be(y,r=>p("update:modelValue",r));const _=xe({seniority_list:"",reason:"",year:"",remark:"",supporting_document:null}),f=Array.from({length:Xn-kt+1},(r,u)=>kt+u);function i(){_.post(route("deletion.store",s.employee),{preserveScroll:!0,onSuccess:()=>{y.value=!1,_.reset(),d.props.flash.success==="Employee moved to Trash."?o.notify({type:"negative",message:"Employee Moved to trash."}):o.notify({type:"positive",message:"Employee Deleted successfully."})}})}return(r,u)=>(c(),E(Oe,{modelValue:y.value,"onUpdate:modelValue":u[5]||(u[5]=m=>y.value=m)},{default:l(()=>[t(Y,{style:{"min-width":"400px"}},{default:l(()=>[t(U,{class:"row items-center q-pa-sm bg-negative text-white"},{default:l(()=>[u[6]||(u[6]=n("div",{class:"text-h6"},"Employee Deletion Details",-1)),t(Gn),Te(t(R,{icon:"close",flat:"",round:"",dense:""},null,512),[[Ee]])]),_:1,__:[6]}),t(Rt,{onSubmit:Tt(i,["prevent"])},{default:l(()=>[t(U,{class:"q-gutter-md"},{default:l(()=>[t(ke,{modelValue:b(_).reason,"onUpdate:modelValue":u[0]||(u[0]=m=>b(_).reason=m),label:"Reason",outlined:"",dense:"",required:"",options:["Expired","Resigned","Dismissed","Regularised","Others (Specify the reasons to Remarks)","Overage (Retired)"],error:!!b(_).errors.reason,"error-message":b(_).errors.reason,rules:[m=>!!m||"Reason is required"]},null,8,["modelValue","error","error-message","rules"]),t(he,{modelValue:b(_).seniority_list,"onUpdate:modelValue":u[1]||(u[1]=m=>b(_).seniority_list=m),label:"Seniority List",dense:"",outlined:"",type:"number"},null,8,["modelValue"]),t(ke,{modelValue:b(_).year,"onUpdate:modelValue":u[2]||(u[2]=m=>b(_).year=m),label:"Year",outlined:"",class:"q-mt-sm",options:b(f),"emit-value":"","map-options":""},null,8,["modelValue","options"]),t(he,{modelValue:b(_).remark,"onUpdate:modelValue":u[3]||(u[3]=m=>b(_).remark=m),label:"Remark",type:"textarea",dense:"",outlined:""},null,8,["modelValue"]),t(Ue,{modelValue:b(_).supporting_document,"onUpdate:modelValue":u[4]||(u[4]=m=>b(_).supporting_document=m),label:"Supporting Document",dense:"",outlined:"",required:"",error:!!b(_).errors.supporting_document,"error-message":b(_).errors.supporting_document,rules:[m=>!!m||"Supporting Document is required"]},null,8,["modelValue","error","error-message","rules"])]),_:1}),t(pe,{align:"right",class:"q-pa-sm"},{default:l(()=>[Te(t(R,{flat:"",label:"Cancel"},null,512),[[Ee]]),t(R,{color:"negative",label:"Submit Deletion",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},eo={class:"flex items-center justify-between q-pa-md bg-white"},to={class:"flex q-gutter-sm"},qt=2020,lo=2040,ao={__name:"Deletion",props:["deletion","canEditDelete"],setup(e){const a=qe(),o=e,d=W(!1),s=xe({reason:o.deletion.reason||"",seniority_list:o.deletion.seniority_list||"",year:o.deletion.year||" ",remark:o.deletion.remark||"",supporting_document:null}),p=Array.from({length:lo-qt+1},(f,i)=>qt+i),y=()=>{s.post(route("deletion.update",o.deletion),{preserveScroll:!0,onSuccess:()=>{d.value=!1,a.notify({type:"positive",message:"Deleted details updated successfully."})}})},_=f=>{window.open(f,"_blank")};return(f,i)=>(c(),O(G,null,[t(Y,{class:"q-mt-md"},{default:l(()=>[n("div",eo,[i[8]||(i[8]=n("div",null,[n("div",{class:"stitle text-red"},"Deletion Detail")],-1)),n("div",to,[e.canEditDelete?(c(),E(R,{key:0,onClick:i[0]||(i[0]=r=>d.value=!0),color:"btn-primary",icon:"edit"})):A("",!0)])]),t(U,null,{default:l(()=>[t(ft,{class:"q-mt-sm"},{default:l(()=>[t(H,null,{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>i[9]||(i[9]=[h("Reason:")])),_:1,__:[9]}),t(S,{class:"text-label"},{default:l(()=>[h(q(e.deletion.reason),1)]),_:1})]),_:1}),t(H,null,{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>i[10]||(i[10]=[h("Seniority List:")])),_:1,__:[10]}),t(S,{class:"text-label"},{default:l(()=>[h(q(e.deletion.seniority_list),1)]),_:1})]),_:1}),t(H,null,{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>i[11]||(i[11]=[h("Year:")])),_:1,__:[11]}),t(S,{class:"text-label"},{default:l(()=>[h(q(e.deletion.year),1)]),_:1})]),_:1}),e.deletion.remark?(c(),E(H,{key:0},{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>i[12]||(i[12]=[h("Remark:")])),_:1,__:[12]}),t(S,{class:"text-label"},{default:l(()=>[h(q(e.deletion.remark),1)]),_:1})]),_:1})):A("",!0),e.deletion.supporting_document?(c(),E(H,{key:1},{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>i[13]||(i[13]=[h("Supporting Document:")])),_:1,__:[13]}),t(S,{class:"text-label"},{default:l(()=>[t(R,{dense:"",flat:"",icon:"visibility",href:`/storage/${e.deletion.supporting_document}`,target:"_blank"},null,8,["href"])]),_:1})]),_:1})):A("",!0)]),_:1})]),_:1})]),_:1}),t(Oe,{modelValue:d.value,"onUpdate:modelValue":i[7]||(i[7]=r=>d.value=r)},{default:l(()=>[t(Y,{style:{"min-width":"500px","max-width":"90vw"}},{default:l(()=>[t(U,{class:"bg-negative text-white"},{default:l(()=>i[14]||(i[14]=[n("div",{class:"text-h6"},"Edit Deletion Detail",-1)])),_:1,__:[14]}),t(Rt,{onSubmit:Tt(y,["prevent"])},{default:l(()=>[t(U,{class:"q-gutter-md"},{default:l(()=>[t(ke,{modelValue:b(s).reason,"onUpdate:modelValue":i[1]||(i[1]=r=>b(s).reason=r),label:"Reason",outlined:"",dense:"",required:"",options:["Expired","Resigned","Dismissed","Regularised","Others (Specify the reasons to Remarks)","Overage (Retired)"],error:!!b(s).errors.reason,"error-message":b(s).errors.reason,rules:[r=>!!r||"Reason is required"]},null,8,["modelValue","error","error-message","rules"]),t(he,{modelValue:b(s).seniority_list,"onUpdate:modelValue":i[2]||(i[2]=r=>b(s).seniority_list=r),label:"Seniority List",outlined:"",dense:""},null,8,["modelValue"]),t(ke,{modelValue:b(s).year,"onUpdate:modelValue":i[3]||(i[3]=r=>b(s).year=r),label:"Year",outlined:"",class:"q-mt-sm",options:b(p),"emit-value":"","map-options":""},null,8,["modelValue","options"]),t(he,{modelValue:b(s).remark,"onUpdate:modelValue":i[4]||(i[4]=r=>b(s).remark=r),label:"Remark",outlined:"",dense:"",type:"textarea"},null,8,["modelValue"]),t(Ue,{modelValue:b(s).supporting_document,"onUpdate:modelValue":i[6]||(i[6]=r=>b(s).supporting_document=r),label:"Supporting Document",outlined:"",dense:"",accept:".pdf,.png,.jpg,.jpeg"},nl({_:2},[e.deletion.supporting_document?{name:"append",fn:l(()=>[t(R,{round:"",dense:"",flat:"",icon:"visibility",href:`/storage/${e.deletion.supporting_document}`,onClick:i[5]||(i[5]=r=>_(`/storage/${e.deletion.supporting_document}`)),class:"q-ml-sm"},null,8,["href"])]),key:"0"}:void 0]),1032,["modelValue"])]),_:1}),t(pe,{align:"right"},{default:l(()=>[Te(t(R,{flat:"",label:"Cancel"},null,512),[[Ee]]),t(R,{color:"primary",label:"Update",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},no={class:"flex items-center justify-between q-pa-md bg-white"},oo={class:"flex q-gutter-sm"},so={key:0,class:"text-grey-7 text-center q-pa-md italic"},io={class:"text-h6"},ro={__name:"Remuneration",props:{data:Object,canCreateRemuneration:Boolean},setup(e){const a=qe(),{pay_matrix:o,formatDate:d}=Ae(),s=e,p=W(!1),y=W(!1),_=W(!1),f=xe({remuneration:"",pay_matrix:"",next_increment_date:""}),i=(m=!1)=>{y.value=m,m&&s.data.remuneration_detail?(f.remuneration=s.data.remuneration_detail.remuneration,f.pay_matrix=s.data.remuneration_detail.pay_matrix,f.next_increment_date=s.data.remuneration_detail.next_increment_date):f.reset(),p.value=!0,_.value=!1},r=()=>{_.value=!0},u=()=>{if(!f.remuneration){a.notify({type:"negative",message:"Remuneration amount is required",position:"bottom"});return}if(!f.next_increment_date){a.notify({type:"negative",message:"Next Increment Date is required",position:"bottom"});return}y.value?f.put(route("remuneration.update",s.data.id),{onSuccess:()=>{p.value=!1},onError:m=>{Object.values(m).forEach(C=>{a.notify({type:"negative",message:C,position:"bottom"})})}}):f.post(route("remuneration.store",s.data.id),{onSuccess:()=>{p.value=!1,f.reset()},onError:m=>{Object.values(m).forEach(C=>{a.notify({type:"negative",message:C,position:"bottom"})})}})};return(m,C)=>(c(),O(G,null,[t(Y,{class:"q-mt-md"},{default:l(()=>[n("div",no,[C[5]||(C[5]=n("div",null,[n("div",{class:"stitle"},"Remuneration Detail")],-1)),n("div",oo,[e.canCreateRemuneration?(c(),E(R,{key:0,onClick:C[0]||(C[0]=L=>i(!!e.data.remuneration_detail)),color:"btn-primary",icon:e.data.remuneration_detail?"edit":"add"},null,8,["icon"])):A("",!0)])]),t(U,null,{default:l(()=>[e.data.remuneration_detail?(c(),E(ft,{key:1,class:"q-mt-sm"},{default:l(()=>[t(H,null,{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>C[6]||(C[6]=[h("Remuneration:")])),_:1,__:[6]}),t(S,{class:"text-label"},{default:l(()=>[h(" ₹ "+q(e.data.remuneration_detail.remuneration.toLocaleString()),1)]),_:1})]),_:1}),t(H,null,{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>C[7]||(C[7]=[h("Pay Matrix:")])),_:1,__:[7]}),t(S,{class:"text-label"},{default:l(()=>[h(q(e.data.remuneration_detail.pay_matrix??"N/A"),1)]),_:1})]),_:1}),t(H,null,{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>C[8]||(C[8]=[h("Medical Allowance (%):")])),_:1,__:[8]}),t(S,{class:"text-label"},{default:l(()=>[h(q(e.data.remuneration_detail.medical_percentage),1)]),_:1})]),_:1}),t(H,null,{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>C[9]||(C[9]=[h("Medical Allowance:")])),_:1,__:[9]}),t(S,{class:"text-label"},{default:l(()=>[h(" ₹ "+q(e.data.remuneration_detail.medical_amount.toLocaleString()),1)]),_:1})]),_:1}),t(H,null,{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>C[10]||(C[10]=[h("Total:")])),_:1,__:[10]}),t(S,{class:"text-label"},{default:l(()=>[h(" ₹ "+q(e.data.remuneration_detail.total.toLocaleString()),1)]),_:1})]),_:1}),t(H,null,{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>C[11]||(C[11]=[h("Monthly Remuneration:")])),_:1,__:[11]}),t(S,{class:"text-label"},{default:l(()=>[h(" ₹ "+q(e.data.remuneration_detail.round_total.toLocaleString()),1)]),_:1})]),_:1}),t(Re,{spaced:""}),t(H,null,{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>C[12]||(C[12]=[h("Date of next Increment:")])),_:1,__:[12]}),t(S,{class:"text-label"},{default:l(()=>[h(q(b(d)(e.data.remuneration_detail.next_increment_date)),1)]),_:1})]),_:1})]),_:1})):(c(),O("div",so," No remuneration data available. "))]),_:1})]),_:1}),t(Oe,{modelValue:p.value,"onUpdate:modelValue":C[4]||(C[4]=L=>p.value=L)},{default:l(()=>[t(Y,{style:{"min-width":"400px"}},{default:l(()=>[t(U,null,{default:l(()=>[n("div",io,q(y.value?"Edit":"Add")+" Remuneration",1)]),_:1}),t(U,{class:"q-gutter-md"},{default:l(()=>[t(he,{label:"Remuneration",type:"number",modelValue:b(f).remuneration,"onUpdate:modelValue":C[1]||(C[1]=L=>b(f).remuneration=L),outlined:"",dense:"",readonly:!_.value},{append:l(()=>[t(je,{name:"edit",class:"cursor-pointer",onClick:r})]),_:1},8,["modelValue","readonly"]),t(ke,{label:"Pay Matrix",options:b(o),modelValue:b(f).pay_matrix,"onUpdate:modelValue":C[2]||(C[2]=L=>b(f).pay_matrix=L),outlined:"",dense:"",readonly:!_.value},null,8,["options","modelValue","readonly"]),t(he,{label:"Next Increment Date",type:"date",modelValue:b(f).next_increment_date,"onUpdate:modelValue":C[3]||(C[3]=L=>b(f).next_increment_date=L),outlined:"",dense:"",readonly:!_.value},null,8,["modelValue","readonly"])]),_:1}),t(pe,{align:"right"},{default:l(()=>[Te(t(R,{flat:"",label:"Cancel"},null,512),[[Ee]]),t(R,{color:"primary",label:y.value?"Update":"Save",disable:!_.value,onClick:u},null,8,["label","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};function Et(e,a){if(a&&e===a)return null;const o=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(o)===!0)return e;const d=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,s=d.display;return s==="block"||s==="table"?e:Et(e.parentNode)}function nt(e,a,o){return!e||e===document.body?!1:o===!0&&e===a||(a===document?document.body:a).contains(e.parentNode)}function Ot(e,a,o){if(o||(o=document.createRange(),o.selectNode(e),o.setStart(e,0)),a.count===0)o.setEnd(e,a.count);else if(a.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<a.count?a.count-=e.textContent.length:(o.setEnd(e,a.count),a.count=0);else for(let d=0;a.count!==0&&d<e.childNodes.length;d++)o=Ot(e.childNodes[d],a,o);return o}const uo=/^https?:\/\//;class co{constructor(a,o){this.el=a,this.eVm=o,this._range=null}get selection(){if(this.el){const a=document.getSelection();if(nt(a.anchorNode,this.el,!0)&&nt(a.focusNode,this.el,!0))return a}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length!==0:!1}get range(){const a=this.selection;return a!=null&&a.rangeCount?a.getRangeAt(0):this._range}get parent(){const a=this.range;if(a!==null){const o=a.startContainer;return o.nodeType===document.ELEMENT_NODE?o:o.parentNode}return null}get blockParent(){const a=this.parent;return a!==null?Et(a,this.el):null}save(a=this.range){a!==null&&(this._range=a)}restore(a=this._range){const o=document.createRange(),d=document.getSelection();a!==null?(o.setStart(a.startContainer,a.startOffset),o.setEnd(a.endContainer,a.endOffset),d.removeAllRanges(),d.addRange(o)):(d.selectAllChildren(this.el),d.collapseToEnd())}savePosition(){let a=-1,o;const d=document.getSelection(),s=this.el.parentNode;if(d.focusNode&&nt(d.focusNode,s))for(o=d.focusNode,a=d.focusOffset;o&&o!==s;)o!==this.el&&o.previousSibling?(o=o.previousSibling,a+=o.textContent.length):o=o.parentNode;this.savedPos=a}restorePosition(a=0){if(this.savedPos>0&&this.savedPos<a){const o=window.getSelection(),d=Ot(this.el,{count:this.savedPos});d&&(d.collapse(!1),o.removeAllRanges(),o.addRange(d))}}hasParent(a,o){const d=o?this.parent:this.blockParent;return d!==null?d.nodeName.toLowerCase()===a.toLowerCase():!1}hasParents(a,o,d=this.parent){return d===null?!1:a.includes(d.nodeName.toLowerCase())===!0?!0:o===!0?this.hasParents(a,o,d.parentNode):!1}is(a,o){if(this.selection===null)return!1;switch(a){case"formatBlock":return o==="DIV"&&this.parent===this.el||this.hasParent(o,o==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(a)===o;case"fontName":const d=document.queryCommandValue(a);return d===`"${o}"`||d===o;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const s=document.queryCommandState(a);return o!==void 0?s===o:s}}getParentAttribute(a){return this.parent!==null?this.parent.getAttribute(a):null}can(a){if(a==="outdent")return this.hasParents(["blockquote","li"],!0);if(a==="indent")return this.hasParents(["li"],!0);if(a==="link")return this.selection!==null||this.is("link")}apply(a,o,d=ol){if(a==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(o)&&this.is(a,o)&&(a="outdent",o=null),o==="PRE"&&this.is(a,"PRE")&&(o="P");else if(a==="print"){d();const s=window.open();s.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),s.print(),s.close();return}else if(a==="link"){const s=this.getParentAttribute("href");if(s===null){const p=this.selectWord(this.selection),y=p?p.toString():"";if(!y.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=uo.test(y)?y:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(p.getRangeAt(0))}else this.eVm.editLinkUrl.value=s,this.range.selectNodeContents(this.parent),this.save();return}else if(a==="fullscreen"){this.eVm.toggleFullscreen(),d();return}else if(a==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),d();return}document.execCommand(a,!1,o),d()}selectWord(a){if(a===null||a.isCollapsed!==!0||a.modify===void 0)return a;const o=document.createRange();o.setStart(a.anchorNode,a.anchorOffset),o.setEnd(a.focusNode,a.focusOffset);const d=o.collapsed?["backward","forward"]:["forward","backward"];o.detach();const s=a.focusNode,p=a.focusOffset;return a.collapse(a.anchorNode,a.anchorOffset),a.modify("move",d[0],"character"),a.modify("move",d[1],"word"),a.extend(s,p),a.modify("extend",d[1],"character"),a.modify("extend",d[0],"word"),a}}function Pt(e,a,o){a.handler?a.handler(e,o,o.caret):o.runCmd(a.cmd,a.param)}function mt(e){return I("div",{class:"q-editor__toolbar-group"},e)}function Vt(e,a,o,d=!1){const s=d||(a.type==="toggle"?a.toggled?a.toggled(e):a.cmd&&e.caret.is(a.cmd,a.param):!1),p=[];if(a.tip&&e.$q.platform.is.desktop){const y=a.key?I("div",[I("small",`(CTRL + ${String.fromCharCode(a.key)})`)]):null;p.push(I(rt,{delay:1e3},()=>[I("div",{innerHTML:a.tip}),y]))}return I(R,{...e.buttonProps.value,icon:a.icon!==null?a.icon:void 0,color:s?a.toggleColor||e.props.toolbarToggleColor:a.color||e.props.toolbarColor,textColor:s&&!e.props.toolbarPush?null:a.textColor||e.props.toolbarTextColor,label:a.label,disable:a.disable?typeof a.disable=="function"?a.disable(e):!0:!1,size:"sm",onClick(y){o==null||o(),Pt(y,a,e)}},()=>p)}function fo(e,a){const o=a.list==="only-icons";let d=a.label,s=a.icon!==null?a.icon:void 0,p,y;function _(){i.component.proxy.hide()}if(o)y=a.options.map(r=>{const u=r.type===void 0?e.caret.is(r.cmd,r.param):!1;return u&&(d=r.tip,s=r.icon!==null?r.icon:void 0),Vt(e,r,_,u)}),p=e.toolbarBackgroundClass.value,y=[mt(y)];else{const r=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,u=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,m=a.list==="no-icons";y=a.options.map(C=>{const L=C.disable?C.disable(e):!1,P=C.type===void 0?e.caret.is(C.cmd,C.param):!1;P&&(d=C.tip,s=C.icon!==null?C.icon:void 0);const N=C.htmlTip;return I(H,{active:P,activeClass:r,clickable:!0,disable:L,dense:!0,onClick(z){var $;_(),(z==null?void 0:z.qAvoidFocus)!==!0&&(($=e.contentRef.value)==null||$.focus()),e.caret.restore(),Pt(z,C,e)}},()=>[m===!0?null:I(S,{class:P?r:u,side:!0},()=>I(je,{name:C.icon!==null?C.icon:void 0})),I(S,N?()=>I("div",{class:"text-no-wrap",innerHTML:C.htmlTip}):C.tip?()=>I("div",{class:"text-no-wrap"},C.tip):void 0)])}),p=[e.toolbarBackgroundClass.value,u]}const f=a.highlight&&d!==a.label,i=I(wl,{...e.buttonProps.value,noCaps:!0,noWrap:!0,color:f?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:f&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:a.fixedLabel?a.label:d,icon:a.fixedIcon?a.icon!==null?a.icon:void 0:s,contentClass:p,onShow:r=>e.emit("dropdownShow",r),onHide:r=>e.emit("dropdownHide",r),onBeforeShow:r=>e.emit("dropdownBeforeShow",r),onBeforeHide:r=>e.emit("dropdownBeforeHide",r)},()=>y);return i}function mo(e){if(e.caret)return e.buttons.value.filter(a=>!e.isViewingSource.value||a.find(o=>o.cmd==="viewsource")).map(a=>mt(a.map(o=>e.isViewingSource.value&&o.cmd!=="viewsource"?!1:o.type==="slot"?ct(e.slots[o.slot]):o.type==="dropdown"?fo(e,o):Vt(e,o))))}function go(e,a,o,d={}){const s=Object.keys(d);if(s.length===0)return{};const p={default_font:{cmd:"fontName",param:e,icon:o,tip:a}};return s.forEach(y=>{const _=d[y];p[y]={cmd:"fontName",param:_,icon:o,tip:_,htmlTip:`<font face="${_}">${_}</font>`}}),p}function po(e){if(e.caret){const a=e.props.toolbarColor||e.props.toolbarTextColor;let o=e.editLinkUrl.value;const d=()=>{e.caret.restore(),o!==e.editLinkUrl.value&&document.execCommand("createLink",!1,o===""?" ":o),e.editLinkUrl.value=null};return[I("div",{class:`q-mx-xs text-${a}`},`${e.$q.lang.editor.url}: `),I("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:o,onInput:s=>{sl(s),o=s.target.value},onKeydown:s=>{if(ut(s)!==!0)switch(s.keyCode){case 13:return yt(s),d();case 27:yt(s),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),mt([I(R,{key:"qedt_btm_rem",tabindex:-1,...e.buttonProps.value,label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}}),I(R,{key:"qedt_btm_upd",...e.buttonProps.value,label:e.$q.lang.label.update,noCaps:!0,onClick:d})])]}}const vo=Object.prototype.toString,ot=Object.prototype.hasOwnProperty,yo=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(e=>"[object "+e+"]"));function Ct(e){if(e!==Object(e)||yo.has(vo.call(e))===!0||e.constructor&&ot.call(e,"constructor")===!1&&ot.call(e.constructor.prototype,"isPrototypeOf")===!1)return!1;let a;for(a in e);return a===void 0||ot.call(e,a)}function jt(){let e,a,o,d,s,p,y=arguments[0]||{},_=1,f=!1;const i=arguments.length;for(typeof y=="boolean"&&(f=y,y=arguments[1]||{},_=2),Object(y)!==y&&typeof y!="function"&&(y={}),i===_&&(y=this,_--);_<i;_++)if((e=arguments[_])!==null)for(a in e)o=y[a],d=e[a],y!==d&&(f===!0&&d&&((s=Array.isArray(d))||Ct(d)===!0)?(s===!0?p=Array.isArray(o)===!0?o:[]:p=Ct(o)===!0?o:{},y[a]=jt(f,p,d)):d!==void 0&&(y[a]=d));return y}const bo=He({name:"QEditor",props:{...il,...Tl,modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(a=>a.length),default:()=>[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},emits:[...$l,"update:modelValue","keydown","click","focus","blur","dropdownShow","dropdownHide","dropdownBeforeShow","dropdownBeforeHide","linkShow","linkHide"],setup(e,{slots:a,emit:o}){const{proxy:d}=Ze(),{$q:s}=d,p=rl(e,s),{inFullscreen:y,toggleFullscreen:_}=Sl(),f=ul(),i=W(null),r=W(null),u=W(null),m=W(!1),C=B(()=>!e.readonly&&!e.disable);let L,P,N=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),L=window.getComputedStyle(document.body).fontFamily;const z=B(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),$=B(()=>({type:"a",flat:e.toolbarOutline!==!0&&e.toolbarPush!==!0,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!C.value,size:"sm"})),v=B(()=>{const g=s.lang.editor,w=s.iconSet.editor;return{bold:{cmd:"bold",icon:w.bold,tip:g.bold,key:66},italic:{cmd:"italic",icon:w.italic,tip:g.italic,key:73},strike:{cmd:"strikeThrough",icon:w.strikethrough,tip:g.strikethrough,key:83},underline:{cmd:"underline",icon:w.underline,tip:g.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:w.unorderedList,tip:g.unorderedList},ordered:{cmd:"insertOrderedList",icon:w.orderedList,tip:g.orderedList},subscript:{cmd:"subscript",icon:w.subscript,tip:g.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:w.superscript,tip:g.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:K=>K.caret&&!K.caret.can("link"),icon:w.hyperlink,tip:g.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:w.toggleFullscreen,tip:g.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:w.viewSource,tip:g.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:w.quote,tip:g.quote,key:81},left:{cmd:"justifyLeft",icon:w.left,tip:g.left},center:{cmd:"justifyCenter",icon:w.center,tip:g.center},right:{cmd:"justifyRight",icon:w.right,tip:g.right},justify:{cmd:"justifyFull",icon:w.justify,tip:g.justify},print:{type:"no-state",cmd:"print",icon:w.print,tip:g.print,key:80},outdent:{type:"no-state",disable:K=>K.caret&&!K.caret.can("outdent"),cmd:"outdent",icon:w.outdent,tip:g.outdent},indent:{type:"no-state",disable:K=>K.caret&&!K.caret.can("indent"),cmd:"indent",icon:w.indent,tip:g.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:w.removeFormat,tip:g.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:w.hr,tip:g.hr},undo:{type:"no-state",cmd:"undo",icon:w.undo,tip:g.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:w.redo,tip:g.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:w.heading1||w.heading,tip:g.heading1,htmlTip:`<h1 class="q-ma-none">${g.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:w.heading2||w.heading,tip:g.heading2,htmlTip:`<h2 class="q-ma-none">${g.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:w.heading3||w.heading,tip:g.heading3,htmlTip:`<h3 class="q-ma-none">${g.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:w.heading4||w.heading,tip:g.heading4,htmlTip:`<h4 class="q-ma-none">${g.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:w.heading5||w.heading,tip:g.heading5,htmlTip:`<h5 class="q-ma-none">${g.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:w.heading6||w.heading,tip:g.heading6,htmlTip:`<h6 class="q-ma-none">${g.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:w.heading,tip:g.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:w.code,htmlTip:`<code>${g.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:w.size1||w.size,tip:g.size1,htmlTip:`<font size="1">${g.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:w.size2||w.size,tip:g.size2,htmlTip:`<font size="2">${g.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:w.size3||w.size,tip:g.size3,htmlTip:`<font size="3">${g.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:w.size4||w.size,tip:g.size4,htmlTip:`<font size="4">${g.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:w.size5||w.size,tip:g.size5,htmlTip:`<font size="5">${g.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:w.size6||w.size,tip:g.size6,htmlTip:`<font size="6">${g.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:w.size7||w.size,tip:g.size7,htmlTip:`<font size="7">${g.size7}</font>`}}}),V=B(()=>{const g=e.definitions||{},w=e.definitions||e.fonts?jt(!0,{},v.value,g,go(L,s.lang.editor.defaultFont,s.iconSet.editor.font,e.fonts)):v.value;return e.toolbar.map(K=>K.map(te=>{if(te.options)return{type:"dropdown",icon:te.icon,label:te.label,size:"sm",dense:!0,fixedLabel:te.fixedLabel,fixedIcon:te.fixedIcon,highlight:te.highlight,list:te.list,options:te.options.map(Ne=>w[Ne])};const de=w[te];return de?de.type==="no-state"||g[te]&&(de.cmd===void 0||v.value[de.cmd]&&v.value[de.cmd].type==="no-state")?de:Object.assign({type:"toggle"},de):{type:"slot",slot:te}}))}),x={$q:s,props:e,slots:a,emit:o,inFullscreen:y,toggleFullscreen:_,runCmd:re,isViewingSource:m,editLinkUrl:u,toolbarBackgroundClass:z,buttonProps:$,contentRef:r,buttons:V,setContent:ie};be(()=>e.modelValue,g=>{N!==g&&(N=g,ie(g,!0))}),be(u,g=>{o(`link${g?"Show":"Hide"}`)});const T=B(()=>e.toolbar&&e.toolbar.length!==0),Q=B(()=>{const g={},w=K=>{K.key&&(g[K.key]={cmd:K.cmd,param:K.param})};return V.value.forEach(K=>{K.forEach(te=>{te.options?te.options.forEach(w):w(te)})}),g}),ee=B(()=>y.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),ve=B(()=>`q-editor q-editor--${m.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(y.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(p.value===!0?" q-editor--dark q-dark":"")),ne=B(()=>[e.contentClass,"q-editor__content",{col:y.value,"overflow-auto":y.value||e.maxHeight}]),_e=B(()=>e.disable===!0?{"aria-disabled":"true"}:{});function oe(){if(r.value!==null){const g=`inner${m.value===!0?"Text":"HTML"}`,w=r.value[g];w!==e.modelValue&&(N=w,o("update:modelValue",w))}}function ce(g){if(o("keydown",g),g.ctrlKey!==!0||ut(g)===!0){J();return}const w=g.keyCode,K=Q.value[w];if(K!==void 0){const{cmd:te,param:de}=K;dt(g),re(te,de,!1)}}function fe(g){J(),o("click",g)}function se(g){if(r.value!==null){const{scrollTop:w,scrollHeight:K}=r.value;P=K-w}x.caret.save(),o("blur",g)}function me(g){dl(()=>{r.value!==null&&P!==void 0&&(r.value.scrollTop=r.value.scrollHeight-P)}),o("focus",g)}function Ce(g){const w=i.value;if(w!==null&&w.contains(g.target)===!0&&(g.relatedTarget===null||w.contains(g.relatedTarget)!==!0)){const K=`inner${m.value===!0?"Text":"HTML"}`;x.caret.restorePosition(r.value[K].length),J()}}function we(g){const w=i.value;w!==null&&w.contains(g.target)===!0&&(g.relatedTarget===null||w.contains(g.relatedTarget)!==!0)&&(x.caret.savePosition(),J())}function De(){P=void 0}function $e(g){x.caret.save()}function ie(g,w){if(r.value!==null){w===!0&&x.caret.savePosition();const K=`inner${m.value===!0?"Text":"HTML"}`;r.value[K]=g,w===!0&&(x.caret.restorePosition(r.value[K].length),J())}}function re(g,w,K=!0){ye(),x.caret.restore(),x.caret.apply(g,w,()=>{ye(),x.caret.save(),K&&J()})}function J(){setTimeout(()=>{u.value=null,d.$forceUpdate()},1)}function ye(){cl(()=>{var g;(g=r.value)==null||g.focus({preventScroll:!0})})}function ue(){return r.value}return $t(()=>{x.caret=d.caret=new co(r.value,x),ie(e.modelValue),J(),document.addEventListener("selectionchange",$e)}),Ie(()=>{document.removeEventListener("selectionchange",$e)}),Object.assign(d,{runCmd:re,refreshToolbar:J,focus:ye,getContentEl:ue}),()=>{let g;if(T.value){const w=[I("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+z.value},mo(x))];u.value!==null&&w.push(I("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+z.value},po(x))),g=I("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},w)}return I("div",{ref:i,class:ve.value,style:{height:y.value===!0?"100%":null},..._e.value,onFocusin:Ce,onFocusout:we},[g,I("div",{ref:r,style:ee.value,class:ne.value,contenteditable:C.value,placeholder:e.placeholder,...f.listeners.value,onInput:oe,onKeydown:ce,onClick:fe,onBlur:se,onFocus:me,onMousedown:De,onTouchstartPassive:De})])}}}),ho={key:0},_o={class:"subtitle"},xo={class:"text-label"},wo={class:"row items-center q-gutter-sm"},ko={key:1,class:"text-grey-7 text-center q-pa-md italic"},qo={__name:"EngagementCard",props:{data:Object,canCreateEngagementCard:Boolean,canDownloadEngagementCard:Boolean,canDeleteEngagementCard:Boolean},setup(e){const a=W(!1),o=W(null),d=xe({html_content:""}),s=qe(),p=async(f=null)=>{o.value=f,f?d.html_content=f.content:d.html_content="",a.value=!0},y=()=>{d.post(route("engagement-card.update",o.value),{preserveScroll:!0,onSuccess:()=>{a.value=!1,s.notify({type:"positive",message:"Card updated successfully!"})}})},_=async f=>{try{const i=await fl.get(route("engagement-card.download",f.id),{responseType:"blob"}),r=window.URL.createObjectURL(new Blob([i.data],{type:"application/pdf"})),u=document.createElement("a");u.href=r,u.setAttribute("download",`EngagementCard_${f.card_no}.pdf`),document.body.appendChild(u),u.click(),u.remove()}catch{s.notify({type:"negative",message:"Failed to download PDF."})}};return(f,i)=>(c(),O("div",null,[t(Y,{class:"q-mt-md"},{default:l(()=>[i[2]||(i[2]=n("div",{class:"flex items-center justify-between q-pa-md bg-white"},[n("div",null,[n("div",{class:"stitle"},"Engagement Cards")])],-1)),t(U,null,{default:l(()=>[e.data.engagement_card&&e.data.engagement_card.length?(c(),O("div",ho,[(c(!0),O(G,null,ae(e.data.engagement_card,r=>(c(),E(H,{key:r.id,class:"q-mb-md"},{default:l(()=>[t(S,null,{default:l(()=>[n("div",_o,"Card No: "+q(r.card_no),1),n("div",xo,"Fiscal: "+q(r.fiscal_year),1)]),_:2},1024),t(S,{side:""},{default:l(()=>[n("div",wo,[e.canCreateEngagementCard?(c(),E(R,{key:0,dense:"",color:"primary",icon:"edit",onClick:u=>p(r)},null,8,["onClick"])):A("",!0),e.canDownloadEngagementCard?(c(),E(R,{key:1,dense:"",color:"primary",icon:"download",onClick:u=>_(r)},null,8,["onClick"])):A("",!0),e.canDeleteEngagementCard?(c(),E(R,{key:2,dense:"",color:"red",icon:"delete",onClick:u=>f.$inertia.delete(f.route("engagement-card.destroy",r.id))},null,8,["onClick"])):A("",!0)])]),_:2},1024)]),_:2},1024))),128))])):(c(),O("div",ko," No engagement card generated. "))]),_:1})]),_:1,__:[2]}),t(Oe,{modelValue:a.value,"onUpdate:modelValue":i[1]||(i[1]=r=>a.value=r),persistent:""},{default:l(()=>[t(Y,{style:{width:"1000px","max-width":"100vw"}},{default:l(()=>[t(U,{class:"row items-center justify-between bg-primary text-white"},{default:l(()=>[i[3]||(i[3]=n("div",{class:"text-h6"},"Engagement Card",-1)),Te(t(R,{dense:"",flat:"",icon:"close"},null,512),[[Ee]])]),_:1,__:[3]}),t(U,{style:{"flex-grow":"1",overflow:"auto",padding:"0"}},{default:l(()=>[t(bo,{modelValue:b(d).html_content,"onUpdate:modelValue":i[0]||(i[0]=r=>b(d).html_content=r),style:{width:"100%","max-height":"1100px"}},null,8,["modelValue"])]),_:1}),t(pe,{align:"right",style:{"flex-shrink":"0"}},{default:l(()=>[t(R,{color:"primary",label:"Save",onClick:y})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Co={class:"flex items-center justify-between q-pa-md bg-white"},Do={class:"row q-col-gutter-md"},$o={class:"col-12 col-md-4"},To={class:"column items-center q-gutter-sm"},So={class:"stitle"},Ro={class:"q-mt-lg full-width"},Eo={class:"q-mt-lg flex items-center justify-center"},Oo={class:"col-12 col-md-8"},Po={class:"row q-col-gutter-md"},Vo={class:"col-12 col-md-6"},jo={class:"col-12 col-md-6"},ts=Object.assign({layout:kl},{__name:"Show",props:["data","office","documentTypes","canCreate","canEdit","canDelete","canCreateRemuneration","canCreateTransfer","canDeleteDocument","canDeleteTransfer","canCreateEngagementCard","canDownloadEngagementCard","canDeleteEngagementCard","canRequestEditMr","canRequestDocumentEditMr","canRequestEditPe","canRequestDocumentEditPe","canRequestEditWc","canRequestDocumentEditWc","canRequestDelete","canRequestTransfer","canApproveEdit","canApproveTransfer","canApproveDelete","canEditDelete","canApproveDocumentEdit","canRequestDocumentDelete","canApproveDocumentDelete"],setup(e){const{formatDate:a}=Ae(),o=e,d=$=>$.employment_type==="Deleted"?"Deleted Employee":$.designation&&$.date_of_retirement?"Work Charge Employee":$.designation&&!$.date_of_retirement?"Provisional Employee":"Muster Roll Employee",s=W("document"),p=W(!1),y=B(()=>{var $;return!!(($=Xe().props.roles)!=null&&$.find(v=>v==="Admin"))}),_=B(()=>{var $;return!!(($=Xe().props.roles)!=null&&$.find(v=>v==="Manager"))}),f=B(()=>{const $=o.data.edit_requests;return $&&$.length?$[$.length-1]:null}),i=B(()=>{const $=o.data.deletion_requests;return $&&$.length?$[$.length-1]:null}),r=B(()=>{const $=o.data.transfer_requests;return $&&$.length?$[$.length-1]:null}),u=B(()=>{const $=o.data.document_request;return $&&$.length?$[$.length-1]:null});function m($){if(!$)return!0;const v=new Date,V=new Date($);return(v-V)/(1e3*60*60*24)<=15}const C=B(()=>f.value?y.value?f.value.approval_status==="pending":_.value?f.value.approval_status!=="pending"&&m(f.value.approval_date):!1:!1),L=B(()=>i.value?y.value?i.value.approval_status==="pending":_.value?i.value.approval_status!=="pending"&&m(i.value.approval_date):!1:!1),P=B(()=>r.value?y.value?r.value.approval_status==="pending":_.value?r.value.approval_status!=="pending"&&m(r.value.approval_date):!1:!1),N=B(()=>u.value?y.value?u.value.approval_status==="pending":_.value?u.value.approval_status!=="pending"&&m(u.value.approval_date):!1:!1),z=()=>{window.history.back()};return($,v)=>(c(),E(zt,{class:"container",padding:""},{default:l(()=>[n("div",Co,[n("div",null,[v[5]||(v[5]=n("div",{class:"stitle"},"Employee Detail",-1)),t(Bt,{class:"text-dark"},{default:l(()=>[t(gt,{class:"cursor-pointer",onClick:v[0]||(v[0]=V=>$.$inertia.get($.route("dashboard"))),icon:"dashboard",label:"Dashboard"}),t(gt,{class:"cursor-pointer",label:"Go Back",onClick:z})]),_:1})])]),v[28]||(v[28]=n("br",null,null,-1)),t(Y,{flat:""},{default:l(()=>[t(U,null,{default:l(()=>{var V,x,T,Q,ee,ve;return[n("div",Do,[n("div",$o,[t(Y,{class:"q-pa-md"},{default:l(()=>{var ne,_e;return[n("div",To,[t(ml,{size:"96px"},{default:l(()=>{var oe,ce;return[(oe=e.data)!=null&&oe.avatar?(c(),E(Nt,{key:0,src:`/storage/${(ce=e.data)==null?void 0:ce.avatar}`},null,8,["src"])):(c(),E(je,{key:1,name:"person",color:"primary"}))]}),_:1}),n("div",So,q(e.data.name),1),t(gl,{color:((_e=(ne=e.data)==null?void 0:ne.employment_type)==null?void 0:_e.trim())==="Deleted"?"red-6":"grey-6","text-color":"white",class:"stitle",label:d(e.data),style:{padding:"8px"},rounded:""},null,8,["color","label"]),n("div",Ro,[t(ft,{class:"rounded-borders"},{default:l(()=>{var oe,ce,fe,se,me,Ce,we,De,$e,ie,re,J,ye,ue,g,w,K,te,de,Ne,We,Ke,Pe,ze,Ye,Je,Fe,Me,Qe,Le,D,j,F,X,Z;return[t(H,null,{default:l(()=>[t(S,{class:"text-label"},{default:l(()=>v[6]||(v[6]=[h("Details")])),_:1,__:[6]})]),_:1}),t(H,null,{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>v[7]||(v[7]=[h("Employee Code:")])),_:1,__:[7]}),t(S,{class:"text-label"},{default:l(()=>{var k;return[h(q((k=e.data)==null?void 0:k.employee_code),1)]}),_:1})]),_:1}),t(H,null,{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>v[8]||(v[8]=[h("Name:")])),_:1,__:[8]}),t(S,{class:"text-label"},{default:l(()=>{var k;return[h(q((k=e.data)==null?void 0:k.name),1)]}),_:1})]),_:1}),t(H,null,{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>v[9]||(v[9]=[h("Email:")])),_:1,__:[9]}),t(S,{class:"text-label"},{default:l(()=>[h(q(e.data.email),1)]),_:1})]),_:1}),t(H,null,{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>v[10]||(v[10]=[h("Contact:")])),_:1,__:[10]}),t(S,{class:"text-label"},{default:l(()=>{var k;return[h(q((k=e.data)==null?void 0:k.mobile),1)]}),_:1})]),_:1}),t(H,null,{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>v[11]||(v[11]=[h("Parent Name:")])),_:1,__:[11]}),t(S,{class:"text-label"},{default:l(()=>{var k;return[h(q((k=e.data)==null?void 0:k.parent_name),1)]}),_:1})]),_:1}),t(H,null,{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>v[12]||(v[12]=[h("Date of Birth:")])),_:1,__:[12]}),t(S,{class:"text-label"},{default:l(()=>[h(q(b(a)(e.data.date_of_birth)),1)]),_:1})]),_:1}),t(H,null,{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>v[13]||(v[13]=[h("Address:")])),_:1,__:[13]}),t(S,{class:"text-label"},{default:l(()=>{var k;return[h(q(((k=e.data)==null?void 0:k.address)??"N/A"),1)]}),_:1})]),_:1}),t(H,null,{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>v[14]||(v[14]=[h("Education Qln.:")])),_:1,__:[14]}),t(S,{class:"text-label"},{default:l(()=>{var k;return[h(q((k=e.data)==null?void 0:k.educational_qln),1)]}),_:1})]),_:1}),t(H,null,{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>v[15]||(v[15]=[h("Technical Qln.:")])),_:1,__:[15]}),t(S,{class:"text-label"},{default:l(()=>{var k;return[h(q((k=e.data)==null?void 0:k.technical_qln),1)]}),_:1})]),_:1}),((ce=(oe=e.data)==null?void 0:oe.employment_type)==null?void 0:ce.trim())==="PE"||((se=(fe=e.data)==null?void 0:fe.employment_type)==null?void 0:se.trim())==="WC"||(me=e.data)!=null&&me.designation&&((Ce=e.data)==null?void 0:Ce.designation)!=="null"?(c(),E(H,{key:0},{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>v[16]||(v[16]=[h("Designation:")])),_:1,__:[16]}),t(S,{class:"text-label"},{default:l(()=>{var k;return[h(q((k=e.data)==null?void 0:k.designation),1)]}),_:1})]),_:1})):A("",!0),((De=(we=e.data)==null?void 0:we.employment_type)==null?void 0:De.trim())==="MR"||($e=e.data)!=null&&$e.post_assigned&&((ie=e.data)==null?void 0:ie.post_assigned)!=="null"?(c(),E(H,{key:1},{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>v[17]||(v[17]=[h("Post/Work Assigned:")])),_:1,__:[17]}),t(S,{class:"text-label"},{default:l(()=>{var k;return[h(q((k=e.data)==null?void 0:k.post_assigned),1)]}),_:1})]),_:1})):A("",!0),t(H,null,{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>v[18]||(v[18]=[h("Office:")])),_:1,__:[18]}),t(S,{class:"text-label"},{default:l(()=>{var k,M;return[h(q((M=(k=e.data)==null?void 0:k.office)==null?void 0:M.name),1)]}),_:1})]),_:1}),t(H,null,{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>v[19]||(v[19]=[h("Office Type:")])),_:1,__:[19]}),t(S,{class:"text-label"},{default:l(()=>{var k,M;return[h(q((M=(k=e.data)==null?void 0:k.office)==null?void 0:M.type),1)]}),_:1})]),_:1}),t(H,null,{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>v[20]||(v[20]=[h("Workplace:")])),_:1,__:[20]}),t(S,{class:"text-label"},{default:l(()=>{var k;return[h(q((k=e.data)==null?void 0:k.name_of_workplace),1)]}),_:1})]),_:1}),t(H,null,{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>v[21]||(v[21]=[h("Date of Initial Engagement:")])),_:1,__:[21]}),t(S,{class:"text-label"},{default:l(()=>{var k;return[h(q(b(a)((k=e.data)==null?void 0:k.date_of_engagement)||"N/A"),1)]}),_:1})]),_:1}),((J=(re=e.data)==null?void 0:re.employment_type)==null?void 0:J.trim())==="WC"||(ye=e.data)!=null&&ye.date_of_retirement&&((ue=e.data)==null?void 0:ue.date_of_retirement)!=="null"?(c(),E(H,{key:2},{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>v[22]||(v[22]=[h("Date of Retirement:")])),_:1,__:[22]}),t(S,{class:"text-label"},{default:l(()=>{var k;return[h(q(b(a)((k=e.data)==null?void 0:k.date_of_retirement)||"N/A"),1)]}),_:1})]),_:1})):A("",!0),((w=(g=e.data)==null?void 0:g.employment_type)==null?void 0:w.trim())==="PE"||(K=e.data)!=null&&K.engagement_card_no&&((te=e.data)==null?void 0:te.engagement_card_no)!=="null"?(c(),E(H,{key:3},{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>v[23]||(v[23]=[h("Engagement Card No. :")])),_:1,__:[23]}),t(S,{class:"text-label"},{default:l(()=>{var k;return[h(q((k=e.data)==null?void 0:k.engagement_card_no),1)]}),_:1})]),_:1})):A("",!0),((Ne=(de=e.data)==null?void 0:de.employment_type)==null?void 0:Ne.trim())==="MR"||(We=e.data)!=null&&We.post_assigned&&((Ke=e.data)==null?void 0:Ke.post_assigned)!=="null"?(c(),E(H,{key:4},{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>v[24]||(v[24]=[h("Post Selected:")])),_:1,__:[24]}),t(S,{class:"text-label"},{default:l(()=>{var k;return[h(q((k=e.data)==null?void 0:k.post_per_qualification),1)]}),_:1})]),_:1})):A("",!0),((ze=(Pe=e.data)==null?void 0:Pe.employment_type)==null?void 0:ze.trim())==="MR"||(Ye=e.data)!=null&&Ye.post_assigned&&((Je=e.data)==null?void 0:Je.post_assigned)!=="null"?(c(),E(H,{key:5},{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>v[25]||(v[25]=[h("Skill Category:")])),_:1,__:[25]}),t(S,{class:"text-label"},{default:l(()=>{var k;return[h(q((k=e.data)==null?void 0:k.skill_category),1)]}),_:1})]),_:1})):A("",!0),((Me=(Fe=e.data)==null?void 0:Fe.employment_type)==null?void 0:Me.trim())==="MR"||(Qe=e.data)!=null&&Qe.post_assigned&&((Le=e.data)==null?void 0:Le.post_assigned)!=="null"?(c(),E(H,{key:6},{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>v[26]||(v[26]=[h("Skill at Present:")])),_:1,__:[26]}),t(S,{class:"text-label"},{default:l(()=>{var k;return[h(q((k=e.data)==null?void 0:k.skill_at_present),1)]}),_:1})]),_:1})):A("",!0),((j=(D=e.data)==null?void 0:D.employment_type)==null?void 0:j.trim())==="MR"&&((F=e.data)!=null&&F.scheme_id)||(X=e.data)!=null&&X.post_assigned&&((Z=e.data)==null?void 0:Z.post_assigned)!=="null"?(c(),E(H,{key:7},{default:l(()=>[t(S,{side:"",class:"subtitle"},{default:l(()=>v[27]||(v[27]=[h("Scheme:")])),_:1,__:[27]}),t(S,{class:"text-label"},{default:l(()=>{var k,M;return[h(q((M=(k=e.data)==null?void 0:k.scheme)==null?void 0:M.name),1)]}),_:1})]),_:1})):A("",!0)]}),_:1}),n("div",Eo,[e.canEdit?(c(),E(R,{key:0,label:"Edit",onClick:v[1]||(v[1]=oe=>$.$inertia.get($.route("employee.edit",e.data))),class:"q-mr-md",color:"primary"})):A("",!0),e.canDelete&&e.data.employment_type!=="Deleted"?(c(),E(R,{key:1,label:"Delete",color:"negative",unelevated:"",onClick:v[2]||(v[2]=oe=>p.value=!0)})):A("",!0)])])])]}),_:1})]),t(Zn,{modelValue:p.value,"onUpdate:modelValue":v[3]||(v[3]=ne=>p.value=ne),employee:e.data},null,8,["modelValue","employee"]),n("div",Oo,[t(Al,{modelValue:s.value,"onUpdate:modelValue":v[4]||(v[4]=ne=>s.value=ne),class:"text-primary bg-white shadow-1 q-pa-sm",dense:"",align:"center"},{default:l(()=>{var ne,_e,oe,ce,fe,se;return[t(Be,{name:"document",label:"Documents",icon:"drive_folder_upload",alert:N.value,"alert-icon":"circle","alert-color":"red",class:ge(N.value?"text-red":"")},null,8,["alert","class"]),e.canApproveEdit?(c(),E(Be,{key:0,name:"edit",label:"Edit Request",icon:"edit",alert:C.value,"alert-icon":"circle","alert-color":"red",class:ge(C.value?"text-red":"")},null,8,["alert","class"])):A("",!0),e.canApproveTransfer?(c(),E(Be,{key:1,name:"transfer_request",label:"Transfer Request",icon:"input",alert:P.value,"alert-icon":"circle","alert-color":"red",class:ge(P.value?"text-red":"")},null,8,["alert","class"])):A("",!0),e.canApproveDelete?(c(),E(Be,{key:2,name:"deletion",label:"Deletion Request",icon:"delete_sweep",alert:L.value,"alert-icon":"circle","alert-color":"red",class:ge(L.value?"text-red":"")},null,8,["alert","class"])):A("",!0),((_e=(ne=e.data)==null?void 0:ne.employment_type)==null?void 0:_e.trim())==="MR"&&e.canRequestEditMr||((ce=(oe=e.data)==null?void 0:oe.employment_type)==null?void 0:ce.trim())==="PE"&&e.canRequestEditPe||((se=(fe=e.data)==null?void 0:fe.employment_type)==null?void 0:se.trim())==="WC"&&e.canRequestEditWc?(c(),E(Be,{key:3,name:"request_edit",label:"Request Edit",icon:"edit",alert:C.value,"alert-icon":"circle","alert-color":"red",class:ge(C.value?"text-red":"")},null,8,["alert","class"])):A("",!0),e.canRequestTransfer?(c(),E(Be,{key:4,name:"request_transfer",label:"Request Transfer",icon:"input"})):A("",!0),e.canRequestDelete?(c(),E(Be,{key:5,name:"request_deletion",label:"Request Deletion",icon:"delete_sweep"})):A("",!0)]}),_:1},8,["modelValue"]),s.value==="document"?(c(),E(aa,{key:0,data:e.data,documentTypes:e.documentTypes,canDeleteDocument:e.canDeleteDocument,canApproveDocumentEdit:e.canApproveDocumentEdit,canRequestDocumentEdit:((x=(V=e.data)==null?void 0:V.employment_type)==null?void 0:x.trim())==="MR"&&e.canRequestDocumentEditMr||((Q=(T=e.data)==null?void 0:T.employment_type)==null?void 0:Q.trim())==="PE"&&e.canRequestDocumentEditPe||((ve=(ee=e.data)==null?void 0:ee.employment_type)==null?void 0:ve.trim())==="WC"&&e.canRequestDocumentEditWc,canRequestDocumentDelete:e.canRequestDocumentDelete,canApproveDocumentDelete:e.canApproveDocumentDelete},null,8,["data","documentTypes","canDeleteDocument","canApproveDocumentEdit","canRequestDocumentEdit","canRequestDocumentDelete","canApproveDocumentDelete"])):A("",!0),s.value==="edit"?(c(),E(Ea,{key:1,data:e.data},null,8,["data"])):A("",!0),s.value==="transfer_request"?(c(),E(pa,{key:2,data:e.data,office:e.office},null,8,["data","office"])):A("",!0),s.value==="deletion"?(c(),E(Wa,{key:3,data:e.data},null,8,["data"])):A("",!0),s.value==="request_edit"?(c(),E(Sn,{key:4,data:e.data,documentTypes:e.documentTypes},null,8,["data","documentTypes"])):A("",!0),s.value==="request_transfer"?(c(),E(zn,{key:5,data:e.data,office:e.office},null,8,["data","office"])):A("",!0),s.value==="request_deletion"?(c(),E(cn,{key:6,data:e.data},null,8,["data"])):A("",!0),n("div",Po,[n("div",Vo,[e.data.employment_type==="PE"?(c(),E(ro,{key:0,data:e.data,canCreateRemuneration:e.canCreateRemuneration},null,8,["data","canCreateRemuneration"])):A("",!0),t(Jn,{data:e.data,office:e.office,canCreateTransfer:e.canCreateTransfer,canDeleteTransfer:e.canDeleteTransfer},null,8,["data","office","canCreateTransfer","canDeleteTransfer"])]),n("div",jo,[e.data.employment_type==="PE"?(c(),E(qo,{key:0,canDeleteEngagementCard:e.canDeleteEngagementCard,data:e.data,canCreateEngagementCard:e.canCreateEngagementCard,canDownloadEngagementCard:e.canDownloadEngagementCard},null,8,["canDeleteEngagementCard","data","canCreateEngagementCard","canDownloadEngagementCard"])):A("",!0),e.data.employment_type==="Deleted"?(c(),E(ao,{key:1,deletion:e.data.deletion_detail,canEditDelete:e.canEditDelete},null,8,["deletion","canEditDelete"])):A("",!0)])])])])]}),_:1})]),_:1})]),_:1,__:[28]}))}});export{ts as default};
