import{Q as ze,a as le}from"./QBreadcrumbs-DkqASnvn.js";import{a as Ne,Q as Ke}from"./QLayout-Du6LMI_4.js";import{r as K,x as Ye,l as He,c as Ie,b as Re,d as oe,o as u,w as h,e as s,i as r,E as Xe,g as p,f as c,q as k,Q as g,u as l,F as Be,v as Ae,t as _,G as Ze,h as y,D as el,W as ll}from"./app-DUznSOmc.js";import{Q as C}from"./QSelect-BBUPTZu7.js";import{Q as Y}from"./QStepperNavigation-rWF4uzIG.js";import{Q as ol,a as H}from"./QStepper-OwcnNQ3u.js";import{Q as sl}from"./QFile-qGhNOsIj.js";import{Q as rl}from"./QForm-CE808YKz.js";import{_ as al}from"./BackendLayout-C3ya82A2.js";import{u as tl}from"./use-quasar-Cr4Mn5yW.js";import{u as nl}from"./useUtils-DDGecAL2.js";import"./QSlideTransition-DzeEXPqm.js";import"./use-panel-iaQd2ocw.js";import"./touch-6qXbwtcZ.js";import"./date-D_fReOXn.js";const il={class:"flex items-center justify-between q-pa-md bg-white"},dl={class:"q-pa-md"},ml={class:"row items-center q-gutter-md"},ul={class:"rounded-borders overflow-hidden",style:{"background-color":"#8a82f7"}},cl={class:"column q-gutter-sm"},pl={class:"row q-gutter-md"},gl={key:0,class:"row q-col-gutter-sm"},_l={class:"col-12 col-sm-6"},fl={class:"col-12 col-sm-6"},vl={class:"col-12 col-sm-6"},yl={class:"col-12 col-sm-6"},bl={class:"col-12 col-sm-6"},kl={class:"col-12 col-sm-6"},Vl={key:0,class:"col-12 col-sm-6"},ql={key:1,class:"row q-col-gutter-sm"},hl={class:"col-12 col-sm-6"},wl={class:"col-12 col-sm-6"},Ul={class:"col-12 col-sm-6"},El={class:"col-12 col-sm-6"},Pl={class:"col-12 col-sm-6"},xl={class:"col-12 col-sm-6"},Cl={class:"col-12 col-sm-6"},Ql={class:"col-12 col-sm-6"},Sl={class:"row q-col-gutter-sm"},Ml={class:"col-12 col-sm-6"},Dl={key:0,class:"col-12 col-sm-6"},Nl={key:1,class:"col-12 col-sm-6"},Il={class:"col-12 col-sm-6"},Rl={key:2,class:"col-12 col-sm-6"},Bl={key:3,class:"col-12 col-sm-6"},Al={key:4,class:"col-12 col-sm-6"},Fl={key:5,class:"col-12 col-sm-6"},Tl={key:6,class:"col-12 col-sm-6"},jl={class:"col-12 col-sm-6"},Wl={key:7,class:"col-12 col-sm-6"},$l={key:8,class:"col-12 col-sm-6"},Ol={key:9,class:"col-12 col-sm-6"},Gl={class:"col-12 col-sm-6"},Jl={class:"row q-col-gutter-sm"},Ll={class:"text-subtitle2 q-mb-xs"},zl={class:"rounded-borders"},Kl={class:"row q-col-gutter-sm q-mb-md"},Yl={class:"col-12 col-sm-6"},Hl={class:"col-12 col-sm-6"},Xl={class:"col-12 col-sm-6"},Zl={class:"col-12 col-sm-6"},eo={class:"col-12 col-sm-6"},lo={class:"col-12 col-sm-6"},oo={class:"col-12 col-sm-6"},so={class:"row q-col-gutter-sm q-mb-md"},ro={class:"col-12 col-sm-6"},ao={class:"col-12 col-sm-6"},to={key:0,class:"col-12 col-sm-6"},no={key:1,class:"col-12 col-sm-6"},io={key:2,class:"col-12 col-sm-6"},mo={class:"col-12 col-sm-6"},uo={key:3,class:"col-12 col-sm-6"},co={key:4,class:"col-12 col-sm-6"},po={key:5,class:"col-12 col-sm-6"},go={class:"col-12 col-sm-6"},_o={key:6,class:"col-12 col-sm-6"},fo={class:"row q-col-gutter-sm q-mb-md"},vo={class:"row items-center justify-between"},yo={class:"text-subtitle2"},bo={key:0},ko=["href"],Vo={key:1,class:"text-grey"},se="https://storage.googleapis.com/a1aa/image/089155c9-d1c1-4945-5728-c9bdb3576171.jpg",Bo=Object.assign({layout:al},{__name:"Edit",props:["documentTypes","offices","data","current_offices","schemes"],setup(P){var te,ne,ie,de,me,ue,ce,pe,ge,_e,fe,ve,ye,be,ke,Ve,qe,he,we,Ue,Ee,Pe,xe;const{educationalQualifications:Fe,skills:re,formatDate:ae}=nl(),d=P,U=tl(),f=K("1"),S=K(!!((te=d.data)!=null&&te.scheme_id)||!!((ne=d.data)!=null&&ne.scheme)),e=Ye({name:(ie=d.data)==null?void 0:ie.name,email:(de=d.data)==null?void 0:de.email,mobile:(me=d.data)==null?void 0:me.mobile,parent_name:(ue=d.data)==null?void 0:ue.parent_name,date_of_birth:(ce=d.data)==null?void 0:ce.date_of_birth,address:(pe=d.data)==null?void 0:pe.address,designation:(ge=d.data)==null?void 0:ge.designation,post_assigned:(_e=d.data)==null?void 0:_e.post_assigned,employment_type:(fe=d.data)==null?void 0:fe.employment_type,office:((ye=(ve=d.data)==null?void 0:ve.office)==null?void 0:ye.id)??null,educational_qln:(be=d.data)==null?void 0:be.educational_qln,technical_qln:(ke=d.data)==null?void 0:ke.technical_qln,name_of_workplace:(Ve=d.data)==null?void 0:Ve.name_of_workplace,post_per_qualification:(qe=d.data)==null?void 0:qe.post_per_qualification,engagement_card_no:(he=d.data)==null?void 0:he.engagement_card_no,date_of_engagement:(we=d.data)==null?void 0:we.date_of_engagement,skill_category:(Ue=d.data)==null?void 0:Ue.skill_category,skill_at_present:(Ee=d.data)==null?void 0:Ee.skill_at_present,scheme:((xe=(Pe=d.data)==null?void 0:Pe.scheme)==null?void 0:xe.id)??null,documents:[],avatar:null}),X=K(null);function Te(){var t;(t=X.value)==null||t.click()}function je(t){const o=t.target.files[0];if(o&&o.size<=800*1024){const m=new FileReader;m.onload=()=>{Q.value=m.result},e.avatar=o,m.readAsDataURL(o)}else alert("File too large or invalid type. Max size: 800KB.")}function We(){var t;Q.value=(t=d.data)!=null&&t.avatar?`/storage/${d.data.avatar}`:se,e.avatar=null,X.value.value=null}const Q=K(""),$e=(t,o)=>{e.documents[t]={...e.documents[t],file:o}},Oe=t=>{window.open(t,"_blank")},Z=()=>{if(f.value==="1"){if(!e.name||!e.mobile||!e.parent_name||!e.date_of_birth||!e.educational_qln){U.notify({type:"negative",message:"Please fill all required Personal Info fields."});return}f.value=x.value?"4":"2"}else if(f.value==="2"){if(!e.employment_type||!e.office){U.notify({type:"negative",message:"Please fill all required Job Info fields."});return}if(e.employment_type==="MR"&&(!e.skill_category||!e.skill_at_present||!e.date_of_engagement)){U.notify({type:"negative",message:"Please fill all required Job Info fields."});return}f.value="3"}else f.value==="3"&&(f.value="4")},ee=()=>{f.value==="4"?f.value=x.value?"1":"3":f.value==="3"?f.value=x.value?"1":"2":f.value==="2"&&(f.value="1")},Ge=t=>t?typeof t=="string"?t:URL.createObjectURL(t):"#",Je=[{label:"MR",value:"MR"},{label:"PE",value:"PE"}],Le=()=>{U.dialog({title:"Confirm Submission",message:"Are you sure you want to submit?",cancel:!0,persistent:!0}).onOk(()=>{var o,m;const t=new FormData;t.append("name",e.name),t.append("email",e.email||""),t.append("mobile",e.mobile),t.append("parent_name",e.parent_name),t.append("date_of_birth",e.date_of_birth),t.append("address",e.address),t.append("designation",e.designation),t.append("post_assigned",e.post_assigned),t.append("employment_type",e.employment_type),t.append("office",((o=e.office)==null?void 0:o.id)||e.office),t.append("educational_qln",e.educational_qln),t.append("technical_qln",e.technical_qln),t.append("name_of_workplace",e.name_of_workplace),t.append("post_per_qualification",e.post_per_qualification),t.append("engagement_card_no",e.engagement_card_no),t.append("date_of_engagement",e.date_of_engagement||""),t.append("skill_category",e.skill_category),t.append("skill_at_present",e.skill_at_present),S.value||(e.scheme=""),t.append("scheme",((m=e.scheme)==null?void 0:m.id)||e.scheme),e.avatar&&typeof e.avatar!="string"&&t.append("avatar",e.avatar),Object.entries(e.documents).forEach(([v,i])=>{i!=null&&i.file&&t.append(`documents[${v}]`,i.file)}),axios.post(route("employee.update",d.data),t,{headers:{"Content-Type":"multipart/form-data"}}).then(v=>{const{employee:i,message:V}=v.data;U.notify({type:"positive",message:v.data.message||"Employee saved successfully."}),e.reset(),ll.get(route("employee.show",i))}).catch(v=>{if(v.response){const i=v.response.data.errors,V=[];let b=null;if(i){for(const q in i)b||(b=q),i[q]&&V.push(...i[q]);if(e.errors=i,b){const w={name:1,email:1,mobile:1,parent_name:1,date_of_birth:1,educational_qln:1,technical_qln:1,employment_type:2,designation:2,date_of_engagement:2,name_of_workplace:2,office:2,post_per_qualification:2,skill_category:2,skill_at_present:2,documents:3}[b]||1;f.value=String(w)}U.notify({type:"negative",message:V.join(", ")})}else v.response.data.message&&U.notify({type:"negative",message:v.response.data.message})}else U.notify({type:"negative",message:"System Error. Please try again later."})})})};He(()=>{var t,o;(t=d.data.documents)!=null&&t.length&&d.data.documents.forEach(m=>{e.documents[m.document_type_id]={name:m.name,url:`/storage/${m.path}`}}),(o=d.data)!=null&&o.avatar?Q.value=`/storage/${d.data.avatar}`:Q.value=se}),Ie(()=>{var t;return!!((t=Re().props.roles)!=null&&t.find(o=>o==="Admin"))});const x=Ie(()=>{var t;return!!((t=Re().props.roles)!=null&&t.find(o=>o==="Manager"))}),M=()=>{window.history.back()};return(t,o)=>(u(),oe(Ke,{class:"container",padding:""},{default:h(()=>[s("div",il,[s("div",null,[o[31]||(o[31]=s("div",{class:"stitle"},"Edit Employee",-1)),r(ze,{class:"text-dark"},{default:h(()=>[r(le,{class:"cursor-pointer",icon:"dashboard",label:"Dashboard",onClick:o[0]||(o[0]=m=>t.$inertia.get(t.route("dashboard")))}),r(le,{class:"cursor-pointer",label:"All Employees",onClick:o[1]||(o[1]=m=>t.$inertia.get(t.route("employees.all")))}),r(le,{class:"cursor-pointer",label:"Go Back",onClick:M})]),_:1})])]),o[55]||(o[55]=s("br",null,null,-1)),r(rl,{onSubmit:Xe(Le,["prevent"]),class:"bg-white q-pa-md"},{default:h(()=>[r(ol,{modelValue:f.value,"onUpdate:modelValue":o[30]||(o[30]=m=>f.value=m),ref:"stepper",animated:"",color:"secondary"},{default:h(()=>[r(H,{name:"1",title:"Personal Info",icon:"person",done:f.value>1},{default:h(()=>{var m,v,i,V,b,q,w,E,D,N,I,R,B,A,F,T,j,W,$,O,G,J,L,z,n,Ce,Qe,Se,Me,De;return[s("div",dl,[s("div",ml,[s("div",ul,[r(Ne,{src:Q.value,alt:"Profile Photo",style:{width:"120px",height:"120px"},"img-class":"object-cover"},null,8,["src"])]),s("div",cl,[s("div",pl,[r(k,{label:"Upload new Photo",color:"primary",onClick:Te,class:"text-weight-medium",rounded:"",unelevated:""}),r(k,{label:"Reset",color:"grey-4","text-color":"dark",onClick:We,class:"text-weight-medium",rounded:"",unelevated:""})]),o[32]||(o[32]=s("p",{class:"text-subtitle2 text-grey-7"}," Allowed JPG, GIF or PNG. Max size of 800K ",-1))])]),s("input",{ref_key:"fileInput",ref:X,type:"file",accept:"image/*",class:"hidden",onChange:je},null,544)]),x.value?(u(),c("div",gl,[s("div",_l,[r(g,{modelValue:l(e).name,"onUpdate:modelValue":o[2]||(o[2]=a=>l(e).name=a),label:"Name",disable:"",outlined:"",dense:"",error:!!((m=l(e).errors)!=null&&m.name),"error-message":(v=l(e).errors)==null?void 0:v.name,rules:[a=>!!a||"Name is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",fl,[r(g,{modelValue:l(e).email,"onUpdate:modelValue":o[3]||(o[3]=a=>l(e).email=a),label:"Email",type:"email",outlined:"",dense:"",error:!!((i=l(e).errors)!=null&&i.email),"error-message":(V=l(e).errors)==null?void 0:V.email},null,8,["modelValue","error","error-message"])]),s("div",vl,[r(g,{modelValue:l(e).mobile,"onUpdate:modelValue":o[4]||(o[4]=a=>l(e).mobile=a),label:"Mobile",mask:"##########",outlined:"",dense:"",error:!!((b=l(e).errors)!=null&&b.mobile),"error-message":(q=l(e).errors)==null?void 0:q.mobile,rules:[a=>!!a||"Mobile is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",yl,[r(g,{modelValue:l(e).address,"onUpdate:modelValue":o[5]||(o[5]=a=>l(e).address=a),label:"Address",outlined:"",dense:"",error:!!((w=l(e).errors)!=null&&w.address),"error-message":(E=l(e).errors)==null?void 0:E.address,rules:[a=>!!a||"Address is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",bl,[r(g,{modelValue:l(e).name_of_workplace,"onUpdate:modelValue":o[6]||(o[6]=a=>l(e).name_of_workplace=a),label:"Workplace",outlined:"",dense:"",error:!!((D=l(e).errors)!=null&&D.name_of_workplace),"error-message":(N=l(e).errors)==null?void 0:N.name_of_workplace,rules:[a=>!!a||"Workplace is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",kl,[r(g,{modelValue:l(e).technical_qln,"onUpdate:modelValue":o[7]||(o[7]=a=>l(e).technical_qln=a),label:"Technical Qualification",outlined:"",dense:"",error:!!((I=l(e).errors)!=null&&I.technical_qln),"error-message":(R=l(e).errors)==null?void 0:R.technical_qln,rules:[a=>!!a||"Technical Qualification is required"]},null,8,["modelValue","error","error-message","rules"])]),l(e).employment_type==="MR"?(u(),c("div",Vl,[r(g,{modelValue:l(e).post_assigned,"onUpdate:modelValue":o[8]||(o[8]=a=>l(e).post_assigned=a),label:"Post/Work Assigned",outlined:"",dense:"",error:!!((B=l(e).errors)!=null&&B.post_assigned),"error-message":(A=l(e).errors)==null?void 0:A.post_assigned,rules:[a=>!!a||"Post/Work Assigned is required"]},null,8,["modelValue","error","error-message","rules"])])):p("",!0)])):p("",!0),x.value?p("",!0):(u(),c("div",ql,[s("div",hl,[r(g,{modelValue:l(e).name,"onUpdate:modelValue":o[9]||(o[9]=a=>l(e).name=a),label:"Name",outlined:"",dense:"",error:!!((F=l(e).errors)!=null&&F.name),"error-message":(T=l(e).errors)==null?void 0:T.name,rules:[a=>!!a||"Name is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",wl,[r(g,{modelValue:l(e).email,"onUpdate:modelValue":o[10]||(o[10]=a=>l(e).email=a),label:"Email",type:"email",outlined:"",dense:"",error:!!((j=l(e).errors)!=null&&j.email),"error-message":(W=l(e).errors)==null?void 0:W.email},null,8,["modelValue","error","error-message"])]),s("div",Ul,[r(g,{modelValue:l(e).mobile,"onUpdate:modelValue":o[11]||(o[11]=a=>l(e).mobile=a),label:"Mobile",mask:"##########",outlined:"",dense:"",error:!!(($=l(e).errors)!=null&&$.mobile),"error-message":(O=l(e).errors)==null?void 0:O.mobile,rules:[a=>!!a||"Mobile is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",El,[r(g,{modelValue:l(e).parent_name,"onUpdate:modelValue":o[12]||(o[12]=a=>l(e).parent_name=a),label:"Parent Name",outlined:"",dense:"",error:!!((G=l(e).errors)!=null&&G.parent_name),"error-message":(J=l(e).errors)==null?void 0:J.parent_name,rules:[a=>!!a||"Parent Name is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Pl,[r(g,{modelValue:l(e).date_of_birth,"onUpdate:modelValue":o[13]||(o[13]=a=>l(e).date_of_birth=a),label:"Date of Birth",type:"date",outlined:"",dense:"",error:!!((L=l(e).errors)!=null&&L.date_of_birth),"error-message":(z=l(e).errors)==null?void 0:z.date_of_birth,rules:[a=>!!a||"Date of Birth is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",xl,[r(g,{modelValue:l(e).address,"onUpdate:modelValue":o[14]||(o[14]=a=>l(e).address=a),label:"Address",outlined:"",dense:"",error:!!((n=l(e).errors)!=null&&n.address),"error-message":(Ce=l(e).errors)==null?void 0:Ce.address,rules:[a=>!!a||"Address is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Cl,[r(C,{modelValue:l(e).educational_qln,"onUpdate:modelValue":o[15]||(o[15]=a=>l(e).educational_qln=a),options:l(Fe),label:"Educational Qualification *",outlined:"",dense:"","emit-value":"","map-options":"",error:!!((Qe=l(e).errors)!=null&&Qe.educational_qln),"error-message":(Se=l(e).errors)==null?void 0:Se.educational_qln,rules:[a=>!!a||"Education Qualification is required"]},null,8,["modelValue","options","error","error-message","rules"])]),s("div",Ql,[r(g,{modelValue:l(e).technical_qln,"onUpdate:modelValue":o[16]||(o[16]=a=>l(e).technical_qln=a),label:"Technical Qualification",outlined:"",dense:"",error:!!((Me=l(e).errors)!=null&&Me.technical_qln),"error-message":(De=l(e).errors)==null?void 0:De.technical_qln,rules:[a=>!!a||"Technical Qualification is required"]},null,8,["modelValue","error","error-message","rules"])])])),r(Y,null,{default:h(()=>[r(k,{flat:"",color:"negative",label:"Cancel",class:"q-ml-sm",onClick:M}),r(k,{color:"primary",label:"Next",onClick:Z})]),_:1})]}),_:1},8,["done"]),x.value?p("",!0):(u(),oe(H,{key:0,name:"2",title:"Job Info",icon:"work",done:f.value>2},{default:h(()=>{var m,v,i,V,b,q,w,E,D,N,I,R,B,A,F,T,j,W,$,O,G,J,L,z;return[s("div",Sl,[s("div",Ml,[r(C,{modelValue:l(e).employment_type,"onUpdate:modelValue":o[17]||(o[17]=n=>l(e).employment_type=n),label:"Employment Type *",options:Je,"emit-value":"","map-options":"",outlined:"",dense:"",error:!!((m=l(e).errors)!=null&&m.employment_type),"error-message":(v=l(e).errors)==null?void 0:v.employment_type,rules:[n=>!!n||"Employment Type is required"]},null,8,["modelValue","error","error-message","rules"])]),l(e).employment_type==="PE"?(u(),c("div",Dl,[r(g,{modelValue:l(e).designation,"onUpdate:modelValue":o[18]||(o[18]=n=>l(e).designation=n),label:"Designation *",outlined:"",dense:"",error:!!((i=l(e).errors)!=null&&i.designation),"error-message":(V=l(e).errors)==null?void 0:V.designation,rules:[n=>!!n||"Designation is required"]},null,8,["modelValue","error","error-message","rules"])])):p("",!0),l(e).employment_type==="MR"?(u(),c("div",Nl,[r(g,{modelValue:l(e).post_assigned,"onUpdate:modelValue":o[19]||(o[19]=n=>l(e).post_assigned=n),label:"Post/Work Assigned *",type:"text",outlined:"",dense:"",error:!!((b=l(e).errors)!=null&&b.post_assigned),"error-message":(q=l(e).errors)==null?void 0:q.post_assigned,rules:[n=>!!n||"Post/Work Assigned is required"]},null,8,["modelValue","error","error-message","rules"])])):p("",!0),s("div",Il,[r(C,{modelValue:l(e).office,"onUpdate:modelValue":o[20]||(o[20]=n=>l(e).office=n),label:"Office *",options:P.offices,"option-label":"name","option-value":"id","emit-value":"","map-options":"",outlined:"",dense:"",error:!!((w=l(e).errors)!=null&&w.office),"error-message":(E=l(e).errors)==null?void 0:E.office,rules:[n=>!!n||"Office is required"]},null,8,["modelValue","options","error","error-message","rules"])]),l(e).employment_type==="PE"?(u(),c("div",Rl,[r(g,{modelValue:l(e).engagement_card_no,"onUpdate:modelValue":o[21]||(o[21]=n=>l(e).engagement_card_no=n),label:"Engagement Card No.",type:"text",outlined:"",dense:"",error:!!((D=l(e).errors)!=null&&D.engagement_card_no),"error-message":(N=l(e).errors)==null?void 0:N.engagement_card_no,rules:[n=>!!n||"Engagement Card No. is required"]},null,8,["modelValue","error","error-message","rules"])])):p("",!0),l(e).employment_type==="PE"?(u(),c("div",Bl,[r(g,{modelValue:l(e).date_of_engagement,"onUpdate:modelValue":o[22]||(o[22]=n=>l(e).date_of_engagement=n),label:"Date of Initial Engagement",type:"date",outlined:"",dense:"",error:!!((I=l(e).errors)!=null&&I.date_of_engagement),"error-message":(R=l(e).errors)==null?void 0:R.date_of_engagement,rules:[n=>!!n||"Date of Initial Engagement is required"]},null,8,["modelValue","error","error-message","rules"])])):p("",!0),l(e).employment_type==="MR"?(u(),c("div",Al,[r(g,{modelValue:l(e).date_of_engagement,"onUpdate:modelValue":o[23]||(o[23]=n=>l(e).date_of_engagement=n),label:"Date of Initial Engagement *",type:"date",outlined:"",dense:"",error:!!((B=l(e).errors)!=null&&B.date_of_engagement),"error-message":(A=l(e).errors)==null?void 0:A.date_of_engagement,rules:[n=>!!n||"Date of Initial Engagement is required"]},null,8,["modelValue","error","error-message","rules"])])):p("",!0),l(e).employment_type==="MR"?(u(),c("div",Fl,[r(C,{modelValue:l(e).skill_category,"onUpdate:modelValue":o[24]||(o[24]=n=>l(e).skill_category=n),label:"Skill Category at Initial Engagement *",options:l(re),"emit-value":"","map-options":"",outlined:"",dense:"",error:!!((F=l(e).errors)!=null&&F.skill_category),"error-message":(T=l(e).errors)==null?void 0:T.skill_category,rules:[n=>!!n||"Skill Category is required"]},null,8,["modelValue","options","error","error-message","rules"])])):p("",!0),l(e).employment_type==="MR"?(u(),c("div",Tl,[r(C,{modelValue:l(e).skill_at_present,"onUpdate:modelValue":o[25]||(o[25]=n=>l(e).skill_at_present=n),label:"Skill at Present *",options:l(re),"emit-value":"","map-options":"",outlined:"",dense:"",error:!!((j=l(e).errors)!=null&&j.skill_at_present),"error-message":(W=l(e).errors)==null?void 0:W.skill_at_present,rules:[n=>!!n||"Skill at Present is required"]},null,8,["modelValue","options","error","error-message","rules"])])):p("",!0),s("div",jl,[r(g,{modelValue:l(e).name_of_workplace,"onUpdate:modelValue":o[26]||(o[26]=n=>l(e).name_of_workplace=n),label:"Workplace",outlined:"",dense:"",error:!!(($=l(e).errors)!=null&&$.name_of_workplace),"error-message":(O=l(e).errors)==null?void 0:O.name_of_workplace},null,8,["modelValue","error","error-message"])]),l(e).employment_type==="MR"?(u(),c("div",Wl,[r(g,{modelValue:l(e).post_per_qualification,"onUpdate:modelValue":o[27]||(o[27]=n=>l(e).post_per_qualification=n),label:"Post Selected",outlined:"",dense:"",error:!!((G=l(e).errors)!=null&&G.post_per_qualification),"error-message":(J=l(e).errors)==null?void 0:J.post_per_qualification,rules:[n=>!!n||"Post per Qualification is required"]},null,8,["modelValue","error","error-message","rules"])])):p("",!0),l(e).employment_type==="MR"?(u(),c("div",$l,[r(C,{modelValue:S.value,"onUpdate:modelValue":o[28]||(o[28]=n=>S.value=n),options:[{label:"Yes",value:!0},{label:"No",value:!1}],label:"Does Employee belong to a Scheme? *",outlined:"",dense:"","emit-value":"","map-options":""},null,8,["modelValue"])])):p("",!0),S.value?(u(),c("div",Ol,[s("div",Gl,[r(C,{modelValue:l(e).scheme,"onUpdate:modelValue":o[29]||(o[29]=n=>l(e).scheme=n),label:"Scheme *",options:P.schemes,"option-label":"name","option-value":"id","emit-value":"","map-options":"",outlined:"",dense:"",error:!!((L=l(e).errors)!=null&&L.scheme),"error-message":(z=l(e).errors)==null?void 0:z.scheme,rules:[n=>!!n||"Scheme is required"]},null,8,["modelValue","options","error","error-message","rules"])])])):p("",!0)]),r(Y,null,{default:h(()=>[r(k,{flat:"",color:"negative",label:"Cancel",class:"q-ml-sm",onClick:M}),r(k,{flat:"",color:"primary",label:"Back",onClick:ee,class:"q-ml-sm"}),r(k,{color:"primary",label:"Next",onClick:Z})]),_:1})]}),_:1},8,["done"])),x.value?p("",!0):(u(),oe(H,{key:1,name:"3",title:"Upload Documents",icon:"cloud_upload",done:f.value>3},{default:h(()=>[s("div",Jl,[(u(!0),c(Be,null,Ae(P.documentTypes,(m,v)=>{var i,V;return u(),c("div",{class:"col-12 col-sm-6",key:m.id},[s("div",Ll,_(m.name),1),r(sl,{filled:"","model-value":((i=l(e).documents[m.id])==null?void 0:i.file)||null,"onUpdate:modelValue":b=>$e(m.id,b),label:"Upload File",accept:".pdf,.jpg,.jpeg,.png",clearable:"",class:"full-width"},Ze({_:2},[(V=l(e).documents[m.id])!=null&&V.url?{name:"append",fn:h(()=>[r(k,{round:"",dense:"",flat:"",icon:"visibility",onClick:b=>Oe(l(e).documents[m.id].url),class:"q-ml-sm"},null,8,["onClick"])]),key:"0"}:void 0]),1032,["model-value","onUpdate:modelValue"])])}),128))]),r(Y,null,{default:h(()=>[r(k,{flat:"",color:"negative",label:"Cancel",class:"q-ml-sm",onClick:M}),r(k,{flat:"",color:"primary",label:"Back",onClick:ee,class:"q-ml-sm"}),r(k,{color:"primary",label:"Next",onClick:Z})]),_:1})]),_:1},8,["done"])),r(H,{name:"4",title:"Preview Information",icon:"visibility",done:f.value>4},{default:h(()=>{var m,v;return[s("div",zl,[r(Ne,{src:Q.value||se,alt:"Profile Photo",style:{width:"120px",height:"120px"},"img-class":"object-cover"},null,8,["src"])]),o[52]||(o[52]=s("div",{class:"q-mb-md text-h6"},"Personal Info",-1)),s("div",Kl,[s("div",Yl,[o[33]||(o[33]=s("strong",null,"Name:",-1)),y(" "+_(l(e).name),1)]),s("div",Hl,[o[34]||(o[34]=s("strong",null,"Email:",-1)),y(" "+_(l(e).email),1)]),s("div",Xl,[o[35]||(o[35]=s("strong",null,"Mobile:",-1)),y(" "+_(l(e).mobile),1)]),s("div",Zl,[o[36]||(o[36]=s("strong",null,"Parent Name:",-1)),y(" "+_(l(e).parent_name),1)]),s("div",eo,[o[37]||(o[37]=s("strong",null,"Date of Birth:",-1)),y(" "+_(l(ae)(l(e).date_of_birth)),1)]),s("div",lo,[o[38]||(o[38]=s("strong",null,"Education:",-1)),y(" "+_(l(e).educational_qln),1)]),s("div",oo,[o[39]||(o[39]=s("strong",null,"Technical Qualification:",-1)),y(" "+_(l(e).technical_qln),1)])]),o[53]||(o[53]=s("div",{class:"q-mb-md text-h6"},"Job Info",-1)),s("div",so,[s("div",ro,[o[40]||(o[40]=s("strong",null,"Employment Type:",-1)),y(" "+_(l(e).employment_type),1)]),s("div",ao,[o[41]||(o[41]=s("strong",null,"Office:",-1)),y(" "+_(((m=P.offices.find(i=>i.id===l(e).office))==null?void 0:m.name)||"—"),1)]),l(e).employment_type==="PE"?(u(),c("div",to,[o[42]||(o[42]=s("strong",null,"Designation:",-1)),y(" "+_(l(e).designation),1)])):p("",!0),l(e).employment_type==="MR"?(u(),c("div",no,[o[43]||(o[43]=s("strong",null,"Post/Work Assigned :",-1)),y(" "+_(l(e).post_assigned),1)])):p("",!0),l(e).employment_type==="PE"?(u(),c("div",io,[o[44]||(o[44]=s("strong",null,"Engagement Card No. :",-1)),y(" "+_(l(e).engagement_card_no),1)])):p("",!0),s("div",mo,[o[45]||(o[45]=s("strong",null,"Date of Initial Engagement:",-1)),y(" "+_(l(ae)(l(e).date_of_engagement)),1)]),l(e).employment_type==="MR"?(u(),c("div",uo,[o[46]||(o[46]=s("strong",null,"Skill Category at Initial Engagement:",-1)),y(" "+_(l(e).skill_category),1)])):p("",!0),l(e).employment_type==="MR"?(u(),c("div",co,[o[47]||(o[47]=s("strong",null,"Skill at Present:",-1)),y(" "+_(l(e).skill_at_present),1)])):p("",!0),l(e).employment_type==="MR"?(u(),c("div",po,[o[48]||(o[48]=s("strong",null,"Post Selected:",-1)),y(" "+_(l(e).post_per_qualification),1)])):p("",!0),s("div",go,[o[49]||(o[49]=s("strong",null,"Workplace:",-1)),y(" "+_(l(e).name_of_workplace),1)]),S.value?(u(),c("div",_o,[o[50]||(o[50]=s("strong",null,"Scheme:",-1)),y(_(((v=((d==null?void 0:d.schemes)||P.schemes).find(i=>String(i.id)===String(l(e).scheme)))==null?void 0:v.name)||""),1)])):p("",!0)]),o[54]||(o[54]=s("div",{class:"q-mb-md text-h6"},"Uploaded Documents",-1)),s("div",fo,[(u(!0),c(Be,null,Ae(P.documentTypes,(i,V)=>{var b,q,w,E;return u(),c("div",{class:"col-12 col-sm-6",key:i.id},[s("div",vo,[s("div",yo,[s("strong",null,_(i.name),1)]),(b=l(e).documents[i.id])!=null&&b.file||(q=l(e).documents[i.id])!=null&&q.url?(u(),c("div",bo,[s("a",{href:Ge(((w=l(e).documents[i.id])==null?void 0:w.file)||((E=l(e).documents[i.id])==null?void 0:E.url)),target:"_blank",class:"text-primary text-weight-medium"},[r(el,{name:"visibility",class:"q-mr-xs"}),o[51]||(o[51]=y(" View File "))],8,ko)])):(u(),c("div",Vo,"No document uploaded"))])])}),128))]),r(Y,null,{default:h(()=>[r(k,{flat:"",color:"negative",label:"Cancel",class:"q-ml-sm",onClick:M}),r(k,{flat:"",color:"primary",label:"Back",onClick:ee,class:"q-ml-sm"}),r(k,{type:"submit",color:"btn-primary",label:"Submit"})]),_:1})]}),_:1,__:[52,53,54]},8,["done"])]),_:1},8,["modelValue"])]),_:1})]),_:1,__:[55]}))}});export{Bo as default};
