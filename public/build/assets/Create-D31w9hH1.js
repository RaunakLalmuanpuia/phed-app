import{Q as I,a as n}from"./QBreadcrumbs-C9FQqerD.js";import{x as G,E as H,c as J,o as R,w as u,b as r,f as i,d as K,e as L,Q as d,u as o,F as T,l as W,m as j}from"./app-CQP7oEou.js";import{Q as z}from"./QSelect-DYScMFEW.js";import{Q as X}from"./QForm-THRO08IW.js";import{Q as Y}from"./QLayout-BsP_hYUS.js";import{_ as Z}from"./BackendLayout-B51gh9WN.js";import{u as _}from"./use-quasar-B-Zlj9K4.js";import"./touch-DRvNqZ5Q.js";const h={class:"flex items-center justify-between q-pa-md bg-white"},ee={style:{"max-width":"720px"},class:"row q-col-gutter-sm"},se={class:"col-xs-12 col-sm-9"},oe={class:"col-xs-12 col-sm-9"},re={class:"col-xs-12 col-sm-9"},le={class:"col-xs-12 col-sm-9"},ie={class:"col-xs-12 col-sm-9"},te={class:"col-xs-12 col-sm-9"},ae={class:"col-xs-12 col-sm-9"},de={class:"col-xs-12 col-sm-9"},me={class:"col-xs-12"},ne={class:"col-xs-12 flex q-gutter-sm"},we=Object.assign({layout:Z},{__name:"Create",props:["userRoles","offices"],setup(p){const c=_(),s=G({name:"",email:"",mobile:"",roles:[],office:null,designation:"",password:"",password_confirmation:""}),D=H(()=>s.roles.some(t=>t.value==="Manager")),A=t=>{s.transform(e=>{var a;return{...e,office_id:(a=e==null?void 0:e.office)==null?void 0:a.value,roles:e.roles.map(m=>m.value)}}).post(route("user.store"),{onStart:e=>c.loading.show(),onFinish:e=>c.loading.hide()})};return(t,e)=>(R(),J(Y,{class:"container",padding:""},{default:u(()=>[r("div",h,[r("div",null,[e[11]||(e[11]=r("div",{class:"stitle"},"Create User",-1)),i(I,{class:"text-dark"},{default:u(()=>[i(n,{class:"cursor-pointer",icon:"dashboard",label:"Dashboard",onClick:e[0]||(e[0]=a=>t.$inertia.get(t.route("dashboard")))}),i(n,{class:"cursor-pointer",label:"User Accounts",onClick:e[1]||(e[1]=a=>t.$inertia.get(t.route("user.index")))}),i(n,{label:"New User"})]),_:1})])]),e[20]||(e[20]=r("br",null,null,-1)),i(X,{onSubmit:A,class:"bg-white q-pa-md"},{default:u(()=>{var a,m,g,f,v,b,x,w,V,q,Q,S,U,y,C,k,B,$,N,P,E,F,O,M;return[r("div",ee,[e[13]||(e[13]=r("div",{class:"col-xs-12 col-sm-3"},[r("div",{class:"text-label q-mt-md"},"Name")],-1)),r("div",se,[i(d,{modelValue:o(s).name,"onUpdate:modelValue":e[2]||(e[2]=l=>o(s).name=l),error:!!((a=o(s).errors)!=null&&a.name),"error-message":(g=(m=o(s).errors)==null?void 0:m.name)==null?void 0:g.toString(),outlined:"",dense:"","item-aligned":"",rules:[l=>l!==""||"Name is required"]},null,8,["modelValue","error","error-message","rules"])]),e[14]||(e[14]=r("div",{class:"col-xs-12 col-sm-3"},[r("div",{class:"text-label q-mt-md"},"Designation")],-1)),r("div",oe,[i(d,{modelValue:o(s).designation,"onUpdate:modelValue":e[3]||(e[3]=l=>o(s).designation=l),error:!!((f=o(s).errors)!=null&&f.designation),"error-message":(b=(v=o(s).errors)==null?void 0:v.designation)==null?void 0:b.toString(),outlined:"",dense:"","item-aligned":""},null,8,["modelValue","error","error-message"])]),e[15]||(e[15]=r("div",{class:"col-xs-12 col-sm-3"},[r("div",{class:"text-label q-mt-md"},"Mobile")],-1)),r("div",re,[i(d,{modelValue:o(s).mobile,"onUpdate:modelValue":e[4]||(e[4]=l=>o(s).mobile=l),mask:"##########",error:!!((x=o(s).errors)!=null&&x.mobile),"error-message":(V=(w=o(s).errors)==null?void 0:w.mobile)==null?void 0:V.toString(),outlined:"",dense:"","item-aligned":"",rules:[l=>l!==""||"Mobile is required"]},null,8,["modelValue","error","error-message","rules"])]),e[16]||(e[16]=r("div",{class:"col-xs-12 col-sm-3"},[r("div",{class:"text-label q-mt-md"},"Email")],-1)),r("div",le,[i(d,{modelValue:o(s).email,"onUpdate:modelValue":e[5]||(e[5]=l=>o(s).email=l),type:"email",error:!!((q=o(s).errors)!=null&&q.email),"error-message":(S=(Q=o(s).errors)==null?void 0:Q.email)==null?void 0:S.toString(),outlined:"",dense:"","item-aligned":"",rules:[l=>l!==""||"Email is required"]},null,8,["modelValue","error","error-message","rules"])]),e[17]||(e[17]=r("div",{class:"col-xs-12 col-sm-3"},[r("div",{class:"text-label q-mt-md"},"Role")],-1)),r("div",ie,[i(z,{modelValue:o(s).roles,"onUpdate:modelValue":e[6]||(e[6]=l=>o(s).roles=l),error:!!((U=o(s).errors)!=null&&U.roles),options:p.userRoles,multiple:"","use-chips":"","error-message":(C=(y=o(s).errors)==null?void 0:y.roles)==null?void 0:C.toString(),outlined:"",dense:"","item-aligned":""},null,8,["modelValue","error","options","error-message"])]),D.value?(R(),K(T,{key:0},[e[12]||(e[12]=r("div",{class:"col-xs-12 col-sm-3"},[r("div",{class:"text-label q-mt-md"},"Office")],-1)),r("div",te,[i(z,{modelValue:o(s).office,"onUpdate:modelValue":e[7]||(e[7]=l=>o(s).office=l),error:!!((k=o(s).errors)!=null&&k.office),"error-message":($=(B=o(s).errors)==null?void 0:B.office)==null?void 0:$.toString(),options:p.offices,rules:[l=>!!l||"Office is required"],clearable:"","no-error-icon":"",outlined:"",dense:"","item-aligned":""},null,8,["modelValue","error","error-message","options","rules"])])],64)):L("",!0),e[18]||(e[18]=r("div",{class:"col-xs-12 col-sm-3"},[r("div",{class:"text-label q-mt-md"},"Password")],-1)),r("div",ae,[i(d,{modelValue:o(s).password,"onUpdate:modelValue":e[8]||(e[8]=l=>o(s).password=l),type:"password",error:!!((N=o(s).errors)!=null&&N.password),"error-message":(E=(P=o(s).errors)==null?void 0:P.password)==null?void 0:E.toString(),outlined:"",dense:"","item-aligned":"",rules:[l=>l!==""||"Password is required"]},null,8,["modelValue","error","error-message","rules"])]),e[19]||(e[19]=r("div",{class:"col-xs-12 col-sm-3"},[r("div",{class:"text-label q-mt-md"},"Password Confirmation")],-1)),r("div",de,[i(d,{modelValue:o(s).password_confirmation,"onUpdate:modelValue":e[9]||(e[9]=l=>o(s).password_confirmation=l),type:"password",error:!!((F=o(s).errors)!=null&&F.password_confirmation),"error-message":(M=(O=o(s).errors)==null?void 0:O.password_confirmation)==null?void 0:M.toString(),outlined:"",dense:"","item-aligned":"",rules:[l=>l!==""||"Password Confirmation is required",l=>l===o(s).password||"Password confirmation does not match password"]},null,8,["modelValue","error","error-message","rules"])]),r("div",me,[i(W,{class:"q-my-md"})]),r("div",ne,[i(j,{class:"sized-btn",type:"submit",color:"btn-primary",label:"Save"}),i(j,{class:"sized-btn",color:"negative",outline:"",label:"Cancel",onClick:e[10]||(e[10]=l=>t.$inertia.get(t.route("user.index")))})])])]}),_:1})]),_:1,__:[20]}))}});export{we as default};
