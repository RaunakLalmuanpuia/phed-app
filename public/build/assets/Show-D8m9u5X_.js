import{Q as Qt,a as rt}from"./QBreadcrumbs-B01kuZk7.js";import{b as zt,a as It,Q as Mt}from"./QLayout-CCFN6Yoj.js";import{K as yt,L as Pe,M as ht,N as Ue,r as B,E as V,j as je,i as _t,O as de,R as Je,k as D,z as pe,P as Ft,S as Ht,T as et,U as tt,I as $e,V as ze,X as Xe,h as ue,Y as kt,Z as Wt,_ as Kt,J as Oe,c as C,o as p,w as a,f as t,q as P,b as m,Q as H,d as N,e as E,F as ae,n as _e,t as S,m as $,p as M,x as me,l as Re,B as b,$ as Ie,a0 as ce,W as Ze,a1 as we,u as w,a2 as wt,a3 as Yt,a4 as qt,a5 as xt,a6 as Gt,A as Ct,H as Jt,a7 as Xt,a8 as Zt,a9 as el,aa as Ke,ab as tl,ac as ll,ad as al,ae as nl,af as ut,ag as dt,ah as ol,ai as sl,aj as ct,ak as il,al as rl,am as ul,an as dl,G as ft,v as cl}from"./app-C0Prpwuj.js";import{b as St,Q as Me,a as R,c as _,C as ke,v as fl,d as mt,u as ml,p as gt,e as gl,f as vl,g as pl,r as vt,s as bl,_ as yl,h as hl}from"./BackendLayout-C_gidwE2.js";import{r as _l,Q as Le}from"./QSelect-C7qlWUwL.js";import{a as kl,Q as Tt,u as wl,b as ql,c as xl}from"./QTable-D-GKtUWN.js";import{Q as Cl}from"./QTd-CGzKhJnO.js";import{u as qe}from"./use-quasar-DiainN62.js";import{_ as Dt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{Q as lt}from"./QFile-QVaNk3uX.js";import{Q as $t}from"./QForm-CJvm8oFL.js";import{c as pt}from"./touch-CQT328lm.js";/* empty css            */let Sl=0;const Tl=["click","keydown"],Dl={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Sl++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function $l(e,l,n,o){const d=yt(ht,Pe);if(d===Pe)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Pe;const{proxy:g}=Ue(),s=B(null),c=B(null),i=B(null),r=V(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),u=V(()=>d.currentModel.value===e.name),v=V(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(u.value===!0?" q-tab--active"+(d.tabProps.value.activeClass?" "+d.tabProps.value.activeClass:"")+(d.tabProps.value.activeColor?` text-${d.tabProps.value.activeColor}`:"")+(d.tabProps.value.activeBgColor?` bg-${d.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&d.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||d.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),q=V(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(d.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),x=V(()=>e.disable===!0||d.hasFocus.value===!0||u.value===!1&&d.hasActiveTab.value===!0?-1:e.tabindex||0);function Q(y,F){var O;if(F!==!0&&(y==null?void 0:y.qAvoidFocus)!==!0&&((O=s.value)==null||O.focus()),e.disable!==!0){d.updateModel({name:e.name}),n("click",y);return}}function U(y){Ht(y,[13,32])?Q(y,!0):et(y)!==!0&&y.keyCode>=35&&y.keyCode<=40&&y.altKey!==!0&&y.metaKey!==!0&&d.onKbdNavigate(y.keyCode,g.$el)===!0&&tt(y),n("keydown",y)}function X(){const y=d.tabProps.value.narrowIndicator,F=[],O=D("div",{ref:i,class:["q-tab__indicator",d.tabProps.value.indicatorClass]});e.icon!==void 0&&F.push(D(pe,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&F.push(D("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&F.push(e.alertIcon!==void 0?D(pe,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):D("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),y===!0&&F.push(O);const ee=[D("div",{class:"q-focus-helper",tabindex:-1,ref:s}),D("div",{class:q.value},Ft(l.default,F))];return y===!1&&ee.push(O),ee}const Y={name:V(()=>e.name),rootRef:c,tabIndicatorRef:i,routeData:o};je(()=>{d.unregisterTab(Y)}),_t(()=>{d.registerTab(Y)});function Z(y,F){const O={ref:c,class:v.value,tabindex:x.value,role:"tab","aria-selected":u.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:Q,onKeydown:U,...F};return de(D(y,O,X()),[[Je,r.value]])}return{renderTab:Z,$tabs:d}}const De=$e({name:"QTab",props:Dl,emits:Tl,setup(e,{slots:l,emit:n}){const{renderTab:o}=$l(e,l,n);return()=>o("div")}});function Rl(e,l,n){const o=n===!0?["left","right"]:["top","bottom"];return`absolute-${l===!0?o[0]:o[1]}${e?` text-${e}`:""}`}const El=["left","center","right","justify"],Vl=$e({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>El.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:l,emit:n}){const{proxy:o}=Ue(),{$q:d}=o,{registerTick:g}=ze(),{registerTick:s}=ze(),{registerTick:c}=ze(),{registerTimeout:i,removeTimeout:r}=Xe(),{registerTimeout:u,removeTimeout:v}=Xe(),q=B(null),x=B(null),Q=B(e.modelValue),U=B(!1),X=B(!0),Y=B(!1),Z=B(!1),y=[],F=B(0),O=B(!1);let ee=null,te=null,le;const xe=V(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Rl(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),Ee=V(()=>{const k=F.value,T=Q.value;for(let L=0;L<k;L++)if(y[L].name.value===T)return!0;return!1}),Ve=V(()=>`q-tabs__content--align-${U.value===!0?"left":Z.value===!0?"justify":e.align}`),Be=V(()=>`q-tabs row no-wrap items-center q-tabs--${U.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),Ne=V(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+Ve.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),be=V(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),ge=V(()=>e.vertical!==!0&&d.lang.rtl===!0),re=V(()=>_l===!1&&ge.value===!0);ue(ge,oe),ue(()=>e.modelValue,k=>{Ce({name:k,setCurrent:!0,skipEmit:!0})}),ue(()=>e.outsideArrows,ye);function Ce({name:k,setCurrent:T,skipEmit:L}){Q.value!==k&&(L!==!0&&e["onUpdate:modelValue"]!==void 0&&n("update:modelValue",k),(T===!0||e["onUpdate:modelValue"]===void 0)&&(Te(Q.value,k),Q.value=k))}function ye(){g(()=>{q.value&&Se({width:q.value.offsetWidth,height:q.value.offsetHeight})})}function Se(k){if(be.value===void 0||x.value===null)return;const T=k[be.value.container],L=Math.min(x.value[be.value.scroll],Array.prototype.reduce.call(x.value.children,(K,z)=>K+(z[be.value.content]||0),0)),W=T>0&&L>T;U.value=W,W===!0&&s(oe),Z.value=T<parseInt(e.breakpoint,10)}function Te(k,T){const L=k!=null&&k!==""?y.find(K=>K.name.value===k):null,W=T!=null&&T!==""?y.find(K=>K.name.value===T):null;if(Qe===!0)Qe=!1;else if(L&&W){const K=L.tabIndicatorRef.value,z=W.tabIndicatorRef.value;ee!==null&&(clearTimeout(ee),ee=null),K.style.transition="none",K.style.transform="none",z.style.transition="none",z.style.transform="none";const j=K.getBoundingClientRect(),J=z.getBoundingClientRect();z.style.transform=e.vertical===!0?`translate3d(0,${j.top-J.top}px,0) scale3d(1,${J.height?j.height/J.height:1},1)`:`translate3d(${j.left-J.left}px,0,0) scale3d(${J.width?j.width/J.width:1},1,1)`,c(()=>{ee=setTimeout(()=>{ee=null,z.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",z.style.transform="none"},70)})}W&&U.value===!0&&ne(W.rootRef.value)}function ne(k){const{left:T,width:L,top:W,height:K}=x.value.getBoundingClientRect(),z=k.getBoundingClientRect();let j=e.vertical===!0?z.top-W:z.left-T;if(j<0){x.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(j),oe();return}j+=e.vertical===!0?z.height-K:z.width-L,j>0&&(x.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(j),oe())}function oe(){const k=x.value;if(k===null)return;const T=k.getBoundingClientRect(),L=e.vertical===!0?k.scrollTop:Math.abs(k.scrollLeft);ge.value===!0?(X.value=Math.ceil(L+T.width)<k.scrollWidth-1,Y.value=L>0):(X.value=L>0,Y.value=e.vertical===!0?Math.ceil(L+T.height)<k.scrollHeight:Math.ceil(L+T.width)<k.scrollWidth)}function I(k){te!==null&&clearInterval(te),te=setInterval(()=>{G(k)===!0&&f()},5)}function fe(){I(re.value===!0?Number.MAX_SAFE_INTEGER:0)}function se(){I(re.value===!0?0:Number.MAX_SAFE_INTEGER)}function f(){te!==null&&(clearInterval(te),te=null)}function h(k,T){const L=Array.prototype.filter.call(x.value.children,J=>J===T||J.matches&&J.matches(".q-tab.q-focusable")===!0),W=L.length;if(W===0)return;if(k===36)return ne(L[0]),L[0].focus(),!0;if(k===35)return ne(L[W-1]),L[W-1].focus(),!0;const K=k===(e.vertical===!0?38:37),z=k===(e.vertical===!0?40:39),j=K===!0?-1:z===!0?1:void 0;if(j!==void 0){const J=ge.value===!0?-1:1,ve=L.indexOf(T)+j*J;return ve>=0&&ve<W&&(ne(L[ve]),L[ve].focus({preventScroll:!0})),!0}}const A=V(()=>re.value===!0?{get:k=>Math.abs(k.scrollLeft),set:(k,T)=>{k.scrollLeft=-T}}:e.vertical===!0?{get:k=>k.scrollTop,set:(k,T)=>{k.scrollTop=T}}:{get:k=>k.scrollLeft,set:(k,T)=>{k.scrollLeft=T}});function G(k){const T=x.value,{get:L,set:W}=A.value;let K=!1,z=L(T);const j=k<z?-1:1;return z+=j*5,z<0?(K=!0,z=0):(j===-1&&z<=k||j===1&&z>=k)&&(K=!0,z=k),W(T,z),oe(),K}function ie(k,T){for(const L in k)if(k[L]!==T[L])return!1;return!0}function Fe(){let k=null,T={matchedLen:0,queryDiff:9999,hrefLen:0};const L=y.filter(j=>{var J;return((J=j.routeData)==null?void 0:J.hasRouterLink.value)===!0}),{hash:W,query:K}=o.$route,z=Object.keys(K).length;for(const j of L){const J=j.routeData.exact.value===!0;if(j.routeData[J===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:ve,query:He,matched:jt,href:Ut}=j.routeData.resolvedLink.value,We=Object.keys(He).length;if(J===!0){if(ve!==W||We!==z||ie(K,He)===!1)continue;k=j.name.value;break}if(ve!==""&&ve!==W||We!==0&&ie(He,K)===!1)continue;const he={matchedLen:jt.length,queryDiff:z-We,hrefLen:Ut.length-ve.length};if(he.matchedLen>T.matchedLen){k=j.name.value,T=he;continue}else if(he.matchedLen!==T.matchedLen)continue;if(he.queryDiff<T.queryDiff)k=j.name.value,T=he;else if(he.queryDiff!==T.queryDiff)continue;he.hrefLen>T.hrefLen&&(k=j.name.value,T=he)}if(k===null&&y.some(j=>j.routeData===void 0&&j.name.value===Q.value)===!0){Qe=!1;return}Ce({name:k,setCurrent:!0})}function Ot(k){if(r(),O.value!==!0&&q.value!==null&&k.target&&typeof k.target.closest=="function"){const T=k.target.closest(".q-tab");T&&q.value.contains(T)===!0&&(O.value=!0,U.value===!0&&ne(T))}}function Bt(){i(()=>{O.value=!1},30)}function Ae(){ot.avoidRouteWatcher===!1?u(Fe):v()}function nt(){if(le===void 0){const k=ue(()=>o.$route.fullPath,Ae);le=()=>{k(),le=void 0}}}function Nt(k){y.push(k),F.value++,ye(),k.routeData===void 0||o.$route===void 0?u(()=>{if(U.value===!0){const T=Q.value,L=T!=null&&T!==""?y.find(W=>W.name.value===T):null;L&&ne(L.rootRef.value)}}):(nt(),k.routeData.hasRouterLink.value===!0&&Ae())}function At(k){y.splice(y.indexOf(k),1),F.value--,ye(),le!==void 0&&k.routeData!==void 0&&(y.every(T=>T.routeData===void 0)===!0&&le(),Ae())}const ot={currentModel:Q,tabProps:xe,hasFocus:O,hasActiveTab:Ee,registerTab:Nt,unregisterTab:At,verifyRouteModel:Ae,updateModel:Ce,onKbdNavigate:h,avoidRouteWatcher:!1};kt(ht,ot);function st(){ee!==null&&clearTimeout(ee),f(),le==null||le()}let it,Qe;return je(st),Wt(()=>{it=le!==void 0,st()}),Kt(()=>{it===!0&&(nt(),Qe=!0,Ae()),ye()}),()=>D("div",{ref:q,class:Be.value,role:"tablist",onFocusin:Ot,onFocusout:Bt},[D(zt,{onResize:Se}),D("div",{ref:x,class:Ne.value,onScroll:oe},Oe(l.default)),D(pe,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(X.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||d.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:fe,onTouchstartPassive:fe,onMouseupPassive:f,onMouseleavePassive:f,onTouchendPassive:f}),D(pe,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(Y.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||d.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:se,onTouchstartPassive:se,onMouseupPassive:f,onMouseleavePassive:f,onTouchendPassive:f})])}}),Pl={class:"row q-col-gutter-md q-mt-sm"},Ll={class:"q-pa-sm"},Ol={class:"q-pa-sm"},Bl={class:"q-pa-sm"},Nl={class:"q-pa-sm"},Al={class:"q-pa-sm"},jl={key:0},Ul={__name:"Document",props:["data","office"],setup(e){const l=e,n=B(""),o=V(()=>{var g;return(g=l.data)!=null&&g.documents?l.data.documents.filter(s=>{var i,r,u;const c=n.value.toLowerCase();return((i=s.name)==null?void 0:i.toLowerCase().includes(c))||((u=(r=s.type)==null?void 0:r.name)==null?void 0:u.toLowerCase().includes(c))}):[]});function d(g){return new Date(g).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}return(g,s)=>(p(),C(M,{class:"q-mt-md"},{default:a(()=>[t(P,null,{default:a(()=>[s[1]||(s[1]=m("div",{class:"stitle"},"Uploaded Documents",-1)),m("div",Pl,[t(H,{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=c=>n.value=c),dense:"",outlined:"",label:"Search by document name or type...",class:"col-12 col-sm-6"},null,8,["modelValue"])])]),_:1,__:[1]}),t(kl,{flat:"",dense:"",class:"q-ma-sm"},{default:a(()=>[s[3]||(s[3]=m("thead",null,[m("tr",{class:"text-left"},[m("th",null,"Document Name"),m("th",null,"Type"),m("th",null,"Mime Type"),m("th",null,"Upload Date"),m("th",null,"Actions")])],-1)),m("tbody",null,[(p(!0),N(ae,null,_e(o.value,c=>{var i;return p(),N("tr",{key:c.id,class:"text-left"},[m("td",Ll,S(c.name),1),m("td",Ol,S(((i=c.type)==null?void 0:i.name)||"—"),1),m("td",Bl,S(c.mime),1),m("td",Nl,S(d(c.upload_date)),1),m("td",Al,[t($,{icon:"visibility",flat:"",dense:"",round:"",href:`/storage/${c.path}`,target:"_blank",title:"View Document"},null,8,["href"]),t($,{icon:"download",flat:"",dense:"",round:"",href:`/storage/${c.path}`,download:"",title:"Download Document"},null,8,["href"])])])}),128)),o.value.length===0?(p(),N("tr",jl,s[2]||(s[2]=[m("td",{colspan:"5",class:"text-center text-grey"},"No documents found",-1)]))):E("",!0)])]),_:1,__:[3]})]),_:1}))}},Ql={__name:"TransferRequest",props:["data","office"],setup(e){const l=qe(),n=B(!1),o=me({}),d=s=>{o.post(route("transfer.approve",s),{onStart:()=>{l.loading.show()},onFinish:()=>{l.loading.hide(),n.value=!1,o.reset(),l.notify({type:"success",message:"Transfer Approved",position:"bottom"})},onError:c=>{Object.values(c).forEach(i=>{l.notify({type:"negative",message:i,position:"bottom"})})}})},g=s=>{o.post(route("transfer.reject",s),{onStart:()=>{l.loading.show()},onFinish:()=>{l.loading.hide(),n.value=!1,o.reset(),l.notify({type:"negative",message:"Transfer Rejected",position:"bottom"})},onError:c=>{Object.values(c).forEach(i=>{l.notify({type:"negative",message:i,position:"bottom"})})}})};return(s,c)=>(p(),C(M,{class:"q-mt-md"},{default:a(()=>[t(P,{class:"flex items-center justify-between"},{default:a(()=>c[0]||(c[0]=[m("div",{class:"stitle text-lg font-bold"},"Transfer Request",-1)])),_:1,__:[0]}),t(Re),t(P,null,{default:a(()=>[c[3]||(c[3]=m("div",{class:"stitle text-md font-semibold q-mb-sm"},"Tranfer Requests",-1)),t(Tt,{rows:e.data.transfer_requests,columns:[{name:"current_office",label:"Current Office",field:i=>{var r;return(r=i.current_office)==null?void 0:r.name}},{name:"requested_office",label:"Requested Office",field:i=>{var r;return(r=i.requested_office)==null?void 0:r.name}},{name:"status",label:"Status",field:"approval_status"},{name:"date",label:"Request Date",field:"request_date"},{name:"actions",label:"Actions",field:"id",align:"center"}],"row-key":"id",flat:"",bordered:""},{"body-cell-actions":a(i=>[t(Cl,{props:i},{default:a(()=>[i.row.approval_status==="pending"?(p(),C(St,{key:0,flat:"",dense:"",color:"primary",label:"Actions",size:"sm"},{default:a(()=>[t(Me,null,{default:a(()=>[de((p(),C(R,{clickable:"",onClick:r=>d(i.row.id)},{default:a(()=>[t(_,{avatar:""},{default:a(()=>[t(pe,{name:"check",color:"positive"})]),_:1}),t(_,null,{default:a(()=>c[1]||(c[1]=[b("Approve")])),_:1,__:[1]})]),_:2},1032,["onClick"])),[[Je]]),de((p(),C(R,{clickable:"",onClick:r=>g(i.row.id)},{default:a(()=>[t(_,{avatar:""},{default:a(()=>[t(pe,{name:"close",color:"negative"})]),_:1}),t(_,null,{default:a(()=>c[2]||(c[2]=[b("Reject")])),_:1,__:[2]})]),_:2},1032,["onClick"])),[[Je]])]),_:2},1024)]),_:2},1024)):E("",!0)]),_:2},1032,["props"])]),_:1},8,["rows","columns"])]),_:1,__:[3]})]),_:1}))}},zl=Dt(Ql,[["__scopeId","data-v-63a4d12a"]]),Il={key:0,class:"text-gray-500 text-center py-6"},Ml={key:1,class:"flex flex-col gap-4"},Fl={class:"flex flex-wrap justify-between items-center mb-3"},Hl={class:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2 p-3 rounded-md"},Wl={__name:"EditRequest",props:["data"],setup(e){const l=g=>{Ze.post(route("edit.approve",g))},n=g=>{Ze.post(route("edit.reject",g))},o=g=>{try{return JSON.parse(g)}catch{return{}}},d={name:"Name",date_of_birth:"Date of Birth",parent_name:"Parent's Name",employment_type:"Employment Type",designation:"Designation",educational_qln:"Educational Qualification",name_of_workplace:"Workplace Name",post_per_qualification:"Post per Qualification",date_of_engagement:"Date of Engagement",skill_category:"Skill Category",skill_at_present:"Skill at Present"};return(g,s)=>(p(),C(M,{class:"q-mt-md"},{default:a(()=>[t(P,null,{default:a(()=>s[0]||(s[0]=[m("div",{class:"stitle text-lg font-bold"},"Edit Requests",-1)])),_:1,__:[0]}),t(Re),t(P,null,{default:a(()=>[e.data.edit_requests.length===0?(p(),N("div",Il," No edit requests found. ")):(p(),N("div",Ml,[(p(!0),N(ae,null,_e(e.data.edit_requests,c=>(p(),C(M,{key:c.id,class:"shadow-md rounded-xl border border-gray-200 hover:shadow-lg transition"},{default:a(()=>[t(P,null,{default:a(()=>[m("div",Fl,[m("div",null,[s[1]||(s[1]=m("b",{class:"text-label"},"Status:",-1)),m("span",{class:Ie({"text-yellow-600":c.approval_status==="pending","text-green-600":c.approval_status==="approved","text-red-600":c.approval_status==="rejected"})},S(c.approval_status),3)]),m("div",null,[s[2]||(s[2]=m("b",{class:"text-label"},"Requested On:",-1)),b(" "+S(c.request_date),1)])]),m("div",null,[s[3]||(s[3]=m("b",{class:"block mb-2 text-label"},"Requested Changes:",-1)),m("div",Hl,[(p(!0),N(ae,null,_e(o(c.requested_changes),(i,r)=>(p(),N("div",{key:r,class:"flex justify-between items-center"},[t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>[b(S(d[r]??r)+":",1)]),_:2},1024),t(_,{class:"text-label"},{default:a(()=>[b(S(i),1)]),_:2},1024)]),_:2},1024)]))),128))])])]),_:2},1024),c.approval_status==="pending"?(p(),C(ce,{key:0,align:"right"},{default:a(()=>[t($,{label:"Approve",color:"positive",onClick:i=>l(c.id)},null,8,["onClick"]),t($,{label:"Reject",color:"negative",onClick:i=>n(c.id)},null,8,["onClick"])]),_:2},1024)):E("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}))}},Kl={key:0,class:"text-gray-500 text-center py-6"},Yl={key:1,class:"flex flex-col gap-4"},Gl={class:"flex flex-wrap justify-between items-center mb-3"},Jl={class:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2 p-3 rounded-md"},Xl={key:0,class:"mt-3"},Zl={__name:"DeletionRequest",props:["data"],setup(e){const l=qe(),n=me({});function o(c){try{return JSON.parse(c.reason)}catch{return{}}}function d(c){return new Date(c).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})}const g=c=>{n.post(route("deletion.approve",c),{onStart:()=>{l.loading.show()},onFinish:()=>{l.loading.hide(),n.reset(),l.notify({type:"success",message:"Deletion Approved",position:"bottom"})},onError:i=>{Object.values(i).forEach(r=>{l.notify({type:"negative",message:r,position:"bottom"})})}})},s=c=>{n.post(route("deletion.reject",c),{onStart:()=>{l.loading.show()},onFinish:()=>{l.loading.hide(),n.reset(),l.notify({type:"negative",message:"Deletion Rejected",position:"bottom"})},onError:i=>{Object.values(i).forEach(r=>{l.notify({type:"negative",message:r,position:"bottom"})})}})};return(c,i)=>(p(),C(M,{class:"q-mt-md"},{default:a(()=>[t(P,null,{default:a(()=>i[0]||(i[0]=[m("div",{class:"stitle text-lg font-bold"},"Deletion Requests",-1)])),_:1,__:[0]}),t(Re),t(P,null,{default:a(()=>[e.data.deletion_requests.length===0?(p(),N("div",Kl," No deletion requests. ")):(p(),N("div",Yl,[(p(!0),N(ae,null,_e(e.data.deletion_requests,r=>(p(),C(M,{key:r.id,class:"shadow-md rounded-xl border border-gray-200 hover:shadow-lg transition"},{default:a(()=>[t(P,null,{default:a(()=>[m("div",Gl,[m("div",null,[i[1]||(i[1]=m("b",{class:"text-label"},"Status:",-1)),m("span",{class:Ie({"text-yellow-600":r.approval_status==="pending","text-green-600":r.approval_status==="approved","text-red-600":r.approval_status==="rejected"})},S(r.approval_status),3)]),m("div",null,[i[2]||(i[2]=m("b",{class:"text-label"},"Requested On:",-1)),b(" "+S(d(r.request_date)),1)])]),m("div",null,[i[7]||(i[7]=m("b",{class:"block mb-2 text-label"},"Reason Details:",-1)),m("div",Jl,[t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>i[3]||(i[3]=[b("Reason:")])),_:1,__:[3]}),t(_,{class:"text-label"},{default:a(()=>[b(S(o(r).reason),1)]),_:2},1024)]),_:2},1024),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>i[4]||(i[4]=[b("Year:")])),_:1,__:[4]}),t(_,{class:"text-label"},{default:a(()=>[b(S(o(r).year),1)]),_:2},1024)]),_:2},1024),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>i[5]||(i[5]=[b("Remark:")])),_:1,__:[5]}),t(_,{class:"text-label"},{default:a(()=>[b(S(o(r).remark),1)]),_:2},1024)]),_:2},1024),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>i[6]||(i[6]=[b("Seniority List:")])),_:1,__:[6]}),t(_,{class:"text-label"},{default:a(()=>[b(S(o(r).seniority_list),1)]),_:2},1024)]),_:2},1024)]),o(r).supporting_document?(p(),N("div",Xl,[t($,{dense:"",flat:"",color:"primary",icon:"attach_file",href:`/${o(r).supporting_document}`,target:"_blank",label:"View Document"},null,8,["href"])])):E("",!0)])]),_:2},1024),r.approval_status==="pending"?(p(),C(ce,{key:0,align:"right"},{default:a(()=>[t($,{label:"Approve",color:"positive",onClick:u=>g(r.id)},null,8,["onClick"]),t($,{label:"Reject",color:"negative",onClick:u=>s(r.id)},null,8,["onClick"])]),_:2},1024)):E("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}))}},ea={key:0,class:"text-gray-500 text-center py-6"},ta={key:1,class:"flex flex-col gap-4"},la={class:"flex flex-wrap justify-between items-center mb-3"},aa={class:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2 p-3 rounded-md"},na={key:0,class:"mt-3"},oa={__name:"RequestDeletion",props:["data"],setup(e){const l=e,n=qe(),o=me({reason:"",seniority_list:"",year:"",remark:"",supporting_document:null}),d=B(!1);function g(i){try{return JSON.parse(i.reason)}catch{return{}}}function s(i){return new Date(i).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})}function c(){o.post(route("deletion.request",l.data),{preserveScroll:!0,onSuccess:()=>{n.notify({type:"positive",message:"Deletion request submitted successfully"}),d.value=!1,o.reset()},onError:i=>{Object.values(i).forEach(r=>{n.notify({type:"negative",message:r,position:"bottom"})})}})}return(i,r)=>(p(),C(M,{class:"q-mt-md"},{default:a(()=>[t(P,{class:"flex items-center justify-between"},{default:a(()=>[r[8]||(r[8]=m("div",{class:"stitle text-lg font-bold"},"Request Deletion",-1)),m("div",null,[e.data.employment_type!=="Deleted"?(p(),C($,{key:0,label:"Request Deletion",color:"negative",onClick:r[0]||(r[0]=u=>d.value=!0)})):E("",!0)])]),_:1,__:[8]}),t(Re),t(we,{modelValue:d.value,"onUpdate:modelValue":r[7]||(r[7]=u=>d.value=u)},{default:a(()=>[t(M,{style:{"min-width":"400px"}},{default:a(()=>[t(P,null,{default:a(()=>r[9]||(r[9]=[m("div",{class:"text-h6"},"Submit Deletion Request",-1)])),_:1,__:[9]}),t(P,null,{default:a(()=>[t(H,{modelValue:w(o).reason,"onUpdate:modelValue":r[1]||(r[1]=u=>w(o).reason=u),label:"Reason",type:"textarea",outlined:"",error:!!w(o).errors.reason,"error-message":w(o).errors.reason},null,8,["modelValue","error","error-message"]),t(H,{modelValue:w(o).seniority_list,"onUpdate:modelValue":r[2]||(r[2]=u=>w(o).seniority_list=u),label:"Seniority List",outlined:"",class:"q-mt-sm"},null,8,["modelValue"]),t(H,{modelValue:w(o).year,"onUpdate:modelValue":r[3]||(r[3]=u=>w(o).year=u),label:"Year",type:"number",outlined:"",class:"q-mt-sm"},null,8,["modelValue"]),t(H,{modelValue:w(o).remark,"onUpdate:modelValue":r[4]||(r[4]=u=>w(o).remark=u),label:"Remark",type:"textarea",outlined:"",class:"q-mt-sm"},null,8,["modelValue"]),t(lt,{modelValue:w(o).supporting_document,"onUpdate:modelValue":r[5]||(r[5]=u=>w(o).supporting_document=u),label:"Supporting Document",outlined:"",class:"q-mt-sm",error:!!w(o).errors.supporting_document,"error-message":w(o).errors.supporting_document},null,8,["modelValue","error","error-message"])]),_:1}),t(ce,{align:"right"},{default:a(()=>[t($,{flat:"",label:"Cancel",color:"grey",onClick:r[6]||(r[6]=u=>d.value=!1)}),t($,{label:"Submit",color:"negative",onClick:c,loading:w(o).processing},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(P,null,{default:a(()=>[e.data.deletion_requests.length===0?(p(),N("div",ea," No deletion requests. ")):(p(),N("div",ta,[(p(!0),N(ae,null,_e(e.data.deletion_requests,u=>(p(),C(M,{key:u.id,class:"shadow-md rounded-xl border border-gray-200 hover:shadow-lg transition"},{default:a(()=>[t(P,null,{default:a(()=>[m("div",la,[m("div",null,[r[10]||(r[10]=m("b",{class:"text-label"},"Status:",-1)),m("span",{class:Ie({"text-yellow-600":u.approval_status==="pending","text-green-600":u.approval_status==="approved","text-red-600":u.approval_status==="rejected"})},S(u.approval_status),3)]),m("div",null,[r[11]||(r[11]=m("b",{class:"text-label"},"Requested On:",-1)),b(" "+S(s(u.request_date)),1)])]),m("div",null,[r[16]||(r[16]=m("b",{class:"block mb-2 text-label"},"Reason Details:",-1)),m("div",aa,[t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>r[12]||(r[12]=[b("Reason:")])),_:1,__:[12]}),t(_,{class:"text-label"},{default:a(()=>[b(S(g(u).reason),1)]),_:2},1024)]),_:2},1024),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>r[13]||(r[13]=[b("Year:")])),_:1,__:[13]}),t(_,{class:"text-label"},{default:a(()=>[b(S(g(u).year),1)]),_:2},1024)]),_:2},1024),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>r[14]||(r[14]=[b("Remark:")])),_:1,__:[14]}),t(_,{class:"text-label"},{default:a(()=>[b(S(g(u).remark),1)]),_:2},1024)]),_:2},1024),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>r[15]||(r[15]=[b("Seniority List:")])),_:1,__:[15]}),t(_,{class:"text-label"},{default:a(()=>[b(S(g(u).seniority_list),1)]),_:2},1024)]),_:2},1024)]),g(u).supporting_document?(p(),N("div",na,[t($,{dense:"",flat:"",color:"primary",icon:"attach_file",href:`/${g(u).supporting_document}`,target:"_blank",label:"View Document"},null,8,["href"])])):E("",!0)])]),_:2},1024)]),_:2},1024))),128))]))]),_:1})]),_:1}))}},sa={key:0,class:"text-gray-500 text-center py-6"},ia={key:1,class:"flex flex-col gap-4"},ra={class:"flex flex-wrap justify-between items-center mb-3"},ua={class:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2 p-3 rounded-md"},da={__name:"RequestEdit",props:["data"],setup(e){const l=e,n=B(!1),o=me({requested_changes:{name:"",date_of_birth:"",parent_name:"",employment_type:"",designation:"",educational_qln:"",name_of_workplace:"",post_per_qualification:"",date_of_engagement:"",skill_category:"",skill_at_present:""}}),d=[{label:"MR",value:"MR"},{label:"PE",value:"PE"}],g=[{label:"Unskilled",value:"Unskilled"},{label:"Semi-Skilled",value:"Semi-Skilled"},{label:"Skilled-I",value:"Skilled-I"},{label:"Skilled-II",value:"Skilled-II"}],s=()=>{o.post(route("edit.request",l.data),{onSuccess:()=>{n.value=!1,o.reset()}})},c=r=>{try{return JSON.parse(r)}catch{return{}}},i={name:"Name",date_of_birth:"Date of Birth",parent_name:"Parent's Name",employment_type:"Employment Type",designation:"Designation",educational_qln:"Educational Qualification",name_of_workplace:"Workplace Name",post_per_qualification:"Post per Qualification",date_of_engagement:"Date of Engagement",skill_category:"Skill Category",skill_at_present:"Skill at Present"};return(r,u)=>(p(),N(ae,null,[t(M,{class:"q-mt-md"},{default:a(()=>[t(P,{class:"flex items-center justify-between"},{default:a(()=>[u[12]||(u[12]=m("div",{class:"stitle text-lg font-bold"},"Request Edit",-1)),t($,{label:"Request Edit",color:"primary",onClick:u[0]||(u[0]=v=>n.value=!0)})]),_:1,__:[12]}),t(Re),t(P,null,{default:a(()=>[e.data.edit_requests.length===0?(p(),N("div",sa," No edit requests found. ")):(p(),N("div",ia,[(p(!0),N(ae,null,_e(e.data.edit_requests,v=>(p(),C(M,{key:v.id,class:"shadow-md rounded-xl border border-gray-200 hover:shadow-lg transition"},{default:a(()=>[t(P,null,{default:a(()=>[m("div",ra,[m("div",null,[u[13]||(u[13]=m("b",{class:"text-label"},"Status:",-1)),m("span",{class:Ie({"text-yellow-600":v.approval_status==="pending","text-green-600":v.approval_status==="approved","text-red-600":v.approval_status==="rejected"})},S(v.approval_status),3)]),m("div",null,[u[14]||(u[14]=m("b",{class:"text-label"},"Requested On:",-1)),b(" "+S(v.request_date),1)])]),m("div",null,[u[15]||(u[15]=m("b",{class:"block mb-2 text-label"},"Requested Changes:",-1)),m("div",ua,[(p(!0),N(ae,null,_e(c(v.requested_changes),(q,x)=>(p(),N("div",{key:x,class:"flex justify-between items-center"},[t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>[b(S(i[x]??x)+":",1)]),_:2},1024),t(_,{class:"text-label"},{default:a(()=>[b(S(q),1)]),_:2},1024)]),_:2},1024)]))),128))])])]),_:2},1024),v.approval_status==="pending"?(p(),C(ce,{key:0,align:"right"},{default:a(()=>[t($,{label:"Approve",color:"positive",onClick:q=>r.approveRequest(v.id)},null,8,["onClick"]),t($,{label:"Reject",color:"negative",onClick:q=>r.rejectRequest(v.id)},null,8,["onClick"])]),_:2},1024)):E("",!0)]),_:2},1024))),128))]))]),_:1})]),_:1}),t(we,{modelValue:n.value,"onUpdate:modelValue":u[11]||(u[11]=v=>n.value=v),persistent:""},{default:a(()=>[t(M,{style:{"min-width":"400px"}},{default:a(()=>[t(P,null,{default:a(()=>u[16]||(u[16]=[m("div",{class:"text-lg font-bold"},"Request Edit",-1)])),_:1,__:[16]}),t(P,null,{default:a(()=>[t(H,{modelValue:w(o).requested_changes.name,"onUpdate:modelValue":u[1]||(u[1]=v=>w(o).requested_changes.name=v),label:"New Name",outlined:"",dense:""},null,8,["modelValue"]),t(H,{modelValue:w(o).requested_changes.date_of_birth,"onUpdate:modelValue":u[2]||(u[2]=v=>w(o).requested_changes.date_of_birth=v),label:"New Date of Birth",type:"date",outlined:"",dense:"",class:"q-mt-md"},null,8,["modelValue"]),t(H,{modelValue:w(o).requested_changes.parent_name,"onUpdate:modelValue":u[3]||(u[3]=v=>w(o).requested_changes.parent_name=v),label:"New Parent Name",outlined:"",dense:"",class:"q-mt-md"},null,8,["modelValue"]),t(H,{modelValue:w(o).requested_changes.educational_qln,"onUpdate:modelValue":u[4]||(u[4]=v=>w(o).requested_changes.educational_qln=v),label:"Education Qualification",outlined:"",dense:"",class:"q-mt-md"},null,8,["modelValue"]),t(H,{modelValue:w(o).requested_changes.designation,"onUpdate:modelValue":u[5]||(u[5]=v=>w(o).requested_changes.designation=v),label:"New Designation",outlined:"",dense:"",class:"q-mt-md"},null,8,["modelValue"]),t(H,{modelValue:w(o).requested_changes.date_of_engagement,"onUpdate:modelValue":u[6]||(u[6]=v=>w(o).requested_changes.date_of_engagement=v),label:"New Date of Engagement",type:"date",outlined:"",dense:"",class:"q-mt-md"},null,8,["modelValue"]),t(Le,{modelValue:w(o).requested_changes.employment_type,"onUpdate:modelValue":u[7]||(u[7]=v=>w(o).requested_changes.employment_type=v),label:"New Employment Type",outlined:"",dense:"",class:"q-mt-md",options:d,"emit-value":"","map-options":""},null,8,["modelValue"]),w(o).requested_changes.employment_type==="MR"||e.data.employment_type==="MR"?(p(),C(H,{key:0,modelValue:w(o).requested_changes.post_per_qualification,"onUpdate:modelValue":u[8]||(u[8]=v=>w(o).requested_changes.post_per_qualification=v),label:"New Post per Qualification",outlined:"",dense:"",class:"q-mt-md"},null,8,["modelValue"])):E("",!0),w(o).requested_changes.employment_type==="MR"||e.data.employment_type==="MR"?(p(),C(Le,{key:1,modelValue:w(o).requested_changes.skill_category,"onUpdate:modelValue":u[9]||(u[9]=v=>w(o).requested_changes.skill_category=v),label:"New Skill Category",outlined:"",dense:"",class:"q-mt-md",options:g,"emit-value":"","map-options":""},null,8,["modelValue"])):E("",!0),w(o).requested_changes.employment_type==="MR"||e.data.employment_type==="MR"?(p(),C(Le,{key:2,modelValue:w(o).requested_changes.skill_at_present,"onUpdate:modelValue":u[10]||(u[10]=v=>w(o).requested_changes.skill_at_present=v),label:"New Skill at Present",outlined:"",dense:"",class:"q-mt-md",options:g,"emit-value":"","map-options":""},null,8,["modelValue"])):E("",!0)]),_:1}),t(ce,{align:"right"},{default:a(()=>[de(t($,{flat:"",label:"Cancel"},null,512),[[ke]]),t($,{label:"Submit",color:"primary",loading:w(o).processing,onClick:s},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},ca={__name:"RequestTransfer",props:["data","office"],setup(e){const l=e,n=qe(),o=B(!1),d=me({requested_office_id:""}),g=V(()=>{var c,i;return((i=(c=l.data.transfer_requests)==null?void 0:c.slice(-1)[0])==null?void 0:i.approval_status)==="pending"}),s=()=>{d.post(route("transfer.request",l.data),{onStart:()=>{n.loading.show()},onFinish:()=>{n.loading.hide(),o.value=!1,d.reset(),n.notify({type:"positive",message:"Transfer Requested",position:"bottom"})},onError:c=>{Object.values(c).forEach(i=>{n.notify({type:"negative",message:i,position:"bottom"})})}})};return(c,i)=>(p(),N(ae,null,[t(M,{class:"q-mt-md"},{default:a(()=>[t(P,{class:"flex items-center justify-between"},{default:a(()=>[i[3]||(i[3]=m("div",{class:"stitle text-lg font-bold"},"Request Transfer",-1)),m("div",null,[t($,{label:"Request Transfer",color:"primary",disable:g.value,onClick:i[0]||(i[0]=r=>o.value=!0)},null,8,["disable"])])]),_:1,__:[3]}),t(Re),t(P,null,{default:a(()=>[i[4]||(i[4]=m("div",{class:"stitle text-md font-semibold q-mb-sm"},"Previous Requests",-1)),t(Tt,{rows:e.data.transfer_requests,columns:[{name:"id",label:"ID",field:"id",align:"left"},{name:"current_office",label:"Current Office",field:r=>{var u;return(u=r.current_office)==null?void 0:u.name}},{name:"requested_office",label:"Requested Office",field:r=>{var u;return(u=r.requested_office)==null?void 0:u.name}},{name:"status",label:"Status",field:"approval_status"},{name:"date",label:"Request Date",field:"request_date"}],"row-key":"id",flat:"",bordered:""},null,8,["rows","columns"])]),_:1,__:[4]})]),_:1}),t(we,{modelValue:o.value,"onUpdate:modelValue":i[2]||(i[2]=r=>o.value=r),persistent:""},{default:a(()=>[t(M,{style:{"min-width":"400px"}},{default:a(()=>[t(P,null,{default:a(()=>i[5]||(i[5]=[m("div",{class:"text-h6"},"Select Requested Office",-1)])),_:1,__:[5]}),t(P,null,{default:a(()=>[t(Le,{modelValue:w(d).requested_office_id,"onUpdate:modelValue":i[1]||(i[1]=r=>w(d).requested_office_id=r),options:e.office,"option-value":"id","option-label":"name",label:"Office",dense:"",outlined:""},null,8,["modelValue","options"])]),_:1}),t(ce,{align:"right"},{default:a(()=>[de(t($,{flat:"",label:"Cancel",color:"negative"},null,512),[[ke]]),t($,{flat:"",label:"Submit",color:"primary",onClick:s})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},fa=Dt(ca,[["__scopeId","data-v-4360f5c2"]]),ma=$e({name:"QTimelineEntry",props:{heading:Boolean,tag:{type:String,default:"h3"},side:{type:String,default:"right",validator:e=>["left","right"].includes(e)},icon:String,avatar:String,color:String,title:String,subtitle:String,body:String},setup(e,{slots:l}){const n=yt(wt,Pe);if(n===Pe)return console.error("QTimelineEntry needs to be child of QTimeline"),Pe;const o=V(()=>`q-timeline__entry q-timeline__entry--${e.side}`+(e.icon!==void 0||e.avatar!==void 0?" q-timeline__entry--icon":"")),d=V(()=>`q-timeline__dot text-${e.color||n.color}`),g=V(()=>n.layout==="comfortable"&&n.side==="left");return()=>{const s=Yt(l.default,[]);if(e.body!==void 0&&s.unshift(e.body),e.heading===!0){const r=[D("div"),D("div"),D(e.tag,{class:"q-timeline__heading-title"},s)];return D("div",{class:"q-timeline__heading"},g.value===!0?r.reverse():r)}let c;e.icon!==void 0?c=[D(pe,{class:"row items-center justify-center",name:e.icon})]:e.avatar!==void 0&&(c=[D("img",{class:"q-timeline__dot-img",src:e.avatar})]);const i=[D("div",{class:"q-timeline__subtitle"},[D("span",{},Oe(l.subtitle,[e.subtitle]))]),D("div",{class:d.value},c),D("div",{class:"q-timeline__content"},[D("h6",{class:"q-timeline__title"},Oe(l.title,[e.title]))].concat(s))];return D("li",{class:o.value},g.value===!0?i.reverse():i)}}}),ga=$e({name:"QTimeline",props:{...qt,color:{type:String,default:"primary"},side:{type:String,default:"right",validator:e=>["left","right"].includes(e)},layout:{type:String,default:"dense",validator:e=>["dense","comfortable","loose"].includes(e)}},setup(e,{slots:l}){const n=Ue(),o=xt(e,n.proxy.$q);kt(wt,e);const d=V(()=>`q-timeline q-timeline--${e.layout} q-timeline--${e.layout}--${e.side}`+(o.value===!0?" q-timeline--dark":""));return()=>D("ul",{class:d.value},Oe(l.default))}}),va={class:"flex items-center justify-between q-pa-md bg-white"},pa={class:"flex q-gutter-sm"},ba={key:0},ya={class:"flex items-center justify-between"},ha={key:1,class:"text-subtitle2 text-grey-7 q-pa-md"},_a={key:0},ka={key:1},wa={__name:"Transfer",props:["data","office","canCreateTransfer","canDeleteTransfer"],setup(e){const l=e,n=qe(),o=B(!1),d=B(!1),g=me({old_office_id:null,new_office_id:null,transfer_date:"",is_present_transfer:!1}),s=V(()=>{var u;return[...((u=l.data)==null?void 0:u.transfers)||[]].sort((v,q)=>new Date(v.transfer_date)-new Date(q.transfer_date))});function c(u){return new Date(u).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}const i=u=>{g.is_present_transfer=d.value,g.post(route("transfer.store",l.data),{onStart:()=>{n.loading.show(),g.reset()},onFinish:()=>{n.loading.hide(),o.value=!1,g.reset()},onError:v=>{Object.values(v).forEach(q=>{n.notify({type:"negative",message:q,position:"bottom"})})}})},r=u=>{n.dialog({title:"Confirmation",message:"Do you want to delete?",ok:"Yes",cancel:"No"}).onOk(()=>{Ze.delete(route("transfer.destroy",u),{onStart:v=>n.loading.show(),onFinish:v=>n.loading.hide(),preserveState:!1})})};return ue(d,u=>{u?(g.old_office_id=l.data.office,g.transfer_date=new Date().toISOString().split("T")[0]):(g.old_office_id=null,g.transfer_date="")}),(u,v)=>(p(),N(ae,null,[t(M,{class:"q-mt-md"},{default:a(()=>[m("div",va,[v[7]||(v[7]=m("div",null,[m("div",{class:"stitle"},"Transfer History")],-1)),m("div",pa,[e.canCreateTransfer?(p(),C($,{key:0,onClick:v[0]||(v[0]=q=>o.value=!0),color:"btn-primary",icon:"add"})):E("",!0)])]),t(P,null,{default:a(()=>[s.value.length>0?(p(),N("div",ba,[t(ga,{color:"primary",class:"q-pa-md"},{default:a(()=>[(p(!0),N(ae,null,_e(s.value,(q,x)=>(p(),C(ma,{key:q.id,title:c(q.transfer_date),icon:x===s.value.length-1?"flag":"swap_horiz"},{subtitle:a(()=>[m("div",ya,[m("span",null,"Transfer #"+S(x+1),1),e.canDeleteTransfer?(p(),C($,{key:0,icon:"delete",color:"red",flat:"",dense:"",size:"m",onClick:Q=>r(q.id),title:"Delete Transfer"},null,8,["onClick"])):E("",!0)])]),default:a(()=>{var Q,U;return[m("div",null,[v[8]||(v[8]=b(" From ")),m("strong",null,S(((Q=q.old_office)==null?void 0:Q.name)||"Unknown Office"),1),v[9]||(v[9]=b(" to ")),m("strong",null,S(((U=q.new_office)==null?void 0:U.name)||"Unknown Office"),1)])]}),_:2},1032,["title","icon"]))),128))]),_:1})])):(p(),N("div",ha," No transfer history found "))]),_:1})]),_:1}),t(we,{modelValue:o.value,"onUpdate:modelValue":v[6]||(v[6]=q=>o.value=q)},{default:a(()=>[t(M,{style:{"min-width":"400px"}},{default:a(()=>[t(P,null,{default:a(()=>v[10]||(v[10]=[m("div",{class:"stitle"},"Add Transfer",-1)])),_:1,__:[10]}),t(P,{class:"q-gutter-md"},{default:a(()=>[t(Gt,{modelValue:d.value,"onUpdate:modelValue":v[1]||(v[1]=q=>d.value=q),label:"Is Present Transfer?",color:"primary"},null,8,["modelValue"]),d.value?(p(),N("div",_a,[t(H,{modelValue:e.data.office.name,"onUpdate:modelValue":v[2]||(v[2]=q=>e.data.office.name=q),label:"Old Office",dense:"",outlined:"",readonly:""},null,8,["modelValue"])])):(p(),N("div",ka,[t(Le,{modelValue:w(g).old_office_id,"onUpdate:modelValue":v[3]||(v[3]=q=>w(g).old_office_id=q),options:e.office,"option-value":"id","option-label":"name",label:"Old Office",dense:"",outlined:""},null,8,["modelValue","options"])])),t(Le,{modelValue:w(g).new_office_id,"onUpdate:modelValue":v[4]||(v[4]=q=>w(g).new_office_id=q),options:e.office,"option-value":"id","option-label":"name",label:"New Office",dense:"",outlined:""},null,8,["modelValue","options"]),t(H,{modelValue:w(g).transfer_date,"onUpdate:modelValue":v[5]||(v[5]=q=>w(g).transfer_date=q),type:"date",label:"Transfer Date",dense:"",outlined:""},null,8,["modelValue"])]),_:1}),t(ce,{align:"right"},{default:a(()=>[de(t($,{flat:"",label:"Cancel"},null,512),[[ke]]),t($,{flat:"",label:"Submit",color:"primary",onClick:i})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},qa=$e({name:"QSpace",setup(){const e=D("div",{class:"q-space"});return()=>e}}),xa={__name:"DeletionDialog",props:{modelValue:Boolean,employee:Object},emits:["update:modelValue"],setup(e,{emit:l}){const n=qe(),o=e,d=l,g=B(o.modelValue);ue(()=>o.modelValue,i=>g.value=i),ue(g,i=>d("update:modelValue",i));const s=me({seniority_list:"",reason:"",year:new Date().getFullYear(),remark:"",supporting_document:null});function c(){s.post(route("deletion.store",o.employee),{preserveScroll:!0,onSuccess:()=>{g.value=!1,s.reset(),n.notify({type:"positive",message:"Employee Deleted successfully."})}})}return(i,r)=>(p(),C(we,{modelValue:g.value,"onUpdate:modelValue":r[5]||(r[5]=u=>g.value=u)},{default:a(()=>[t(M,{style:{"min-width":"400px"}},{default:a(()=>[t(P,{class:"row items-center q-pa-sm bg-negative text-white"},{default:a(()=>[r[6]||(r[6]=m("div",{class:"text-h6"},"Employee Deletion Details",-1)),t(qa),de(t($,{icon:"close",flat:"",round:"",dense:""},null,512),[[ke]])]),_:1,__:[6]}),t($t,{onSubmit:Ct(c,["prevent"])},{default:a(()=>[t(P,{class:"q-gutter-md"},{default:a(()=>[t(H,{modelValue:w(s).seniority_list,"onUpdate:modelValue":r[0]||(r[0]=u=>w(s).seniority_list=u),label:"Seniority List",dense:"",outlined:"",type:"number"},null,8,["modelValue"]),t(H,{modelValue:w(s).reason,"onUpdate:modelValue":r[1]||(r[1]=u=>w(s).reason=u),label:"Reason",dense:"",outlined:"",required:""},null,8,["modelValue"]),t(H,{modelValue:w(s).year,"onUpdate:modelValue":r[2]||(r[2]=u=>w(s).year=u),label:"Year",dense:"",outlined:"",type:"number"},null,8,["modelValue"]),t(H,{modelValue:w(s).remark,"onUpdate:modelValue":r[3]||(r[3]=u=>w(s).remark=u),label:"Remark",type:"textarea",dense:"",outlined:""},null,8,["modelValue"]),t(lt,{modelValue:w(s).supporting_document,"onUpdate:modelValue":r[4]||(r[4]=u=>w(s).supporting_document=u),label:"Supporting Document",dense:"",outlined:""},null,8,["modelValue"])]),_:1}),t(ce,{align:"right",class:"q-pa-sm"},{default:a(()=>[de(t($,{flat:"",label:"Cancel"},null,512),[[ke]]),t($,{color:"negative",label:"Submit Deletion",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},Ca={class:"flex items-center justify-between q-pa-md bg-white"},Sa={class:"flex q-gutter-sm"},Ta={__name:"Deletion",props:["deletion","canEditDelete"],setup(e){const l=qe(),n=e,o=B(!1),d=me({reason:n.deletion.reason||"",seniority_list:n.deletion.seniority_list||"",year:n.deletion.year||"",remark:n.deletion.remark||"",supporting_document:null}),g=()=>{d.post(route("deletion.update",n.deletion),{preserveScroll:!0,onSuccess:()=>{o.value=!1,l.notify({type:"positive",message:"Deleted details updated successfully."})}})},s=c=>{window.open(c,"_blank")};return(c,i)=>(p(),N(ae,null,[t(M,{class:"q-mt-md"},{default:a(()=>[m("div",Ca,[i[8]||(i[8]=m("div",null,[m("div",{class:"stitle text-red"},"Deletion Detail")],-1)),m("div",Sa,[e.canEditDelete?(p(),C($,{key:0,onClick:i[0]||(i[0]=r=>o.value=!0),color:"btn-primary",icon:"edit"})):E("",!0)])]),t(P,null,{default:a(()=>[t(Me,{class:"q-mt-sm"},{default:a(()=>[t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>i[9]||(i[9]=[b("Reason:")])),_:1,__:[9]}),t(_,{class:"text-label"},{default:a(()=>[b(S(e.deletion.reason),1)]),_:1})]),_:1}),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>i[10]||(i[10]=[b("Seniority List:")])),_:1,__:[10]}),t(_,{class:"text-label"},{default:a(()=>[b(S(e.deletion.seniority_list),1)]),_:1})]),_:1}),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>i[11]||(i[11]=[b("Year:")])),_:1,__:[11]}),t(_,{class:"text-label"},{default:a(()=>[b(S(e.deletion.year),1)]),_:1})]),_:1}),e.deletion.remark?(p(),C(R,{key:0},{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>i[12]||(i[12]=[b("Remark:")])),_:1,__:[12]}),t(_,{class:"text-label"},{default:a(()=>[b(S(e.deletion.remark),1)]),_:1})]),_:1})):E("",!0),e.deletion.supporting_document?(p(),C(R,{key:1},{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>i[13]||(i[13]=[b("Supporting Document:")])),_:1,__:[13]}),t(_,{class:"text-label"},{default:a(()=>[t($,{dense:"",flat:"",icon:"visibility",href:`/storage/${e.deletion.supporting_document}`,target:"_blank"},null,8,["href"])]),_:1})]),_:1})):E("",!0)]),_:1})]),_:1})]),_:1}),t(we,{modelValue:o.value,"onUpdate:modelValue":i[7]||(i[7]=r=>o.value=r)},{default:a(()=>[t(M,{style:{"min-width":"500px","max-width":"90vw"}},{default:a(()=>[t(P,{class:"bg-negative text-white"},{default:a(()=>i[14]||(i[14]=[m("div",{class:"text-h6"},"Edit Deletion Detail",-1)])),_:1,__:[14]}),t($t,{onSubmit:Ct(g,["prevent"])},{default:a(()=>[t(P,{class:"q-gutter-md"},{default:a(()=>[t(H,{modelValue:w(d).reason,"onUpdate:modelValue":i[1]||(i[1]=r=>w(d).reason=r),label:"Reason",outlined:"",dense:"",required:""},null,8,["modelValue"]),t(H,{modelValue:w(d).seniority_list,"onUpdate:modelValue":i[2]||(i[2]=r=>w(d).seniority_list=r),label:"Seniority List",outlined:"",dense:""},null,8,["modelValue"]),t(H,{modelValue:w(d).year,"onUpdate:modelValue":i[3]||(i[3]=r=>w(d).year=r),label:"Year",outlined:"",dense:"",type:"number"},null,8,["modelValue"]),t(H,{modelValue:w(d).remark,"onUpdate:modelValue":i[4]||(i[4]=r=>w(d).remark=r),label:"Remark",outlined:"",dense:"",type:"textarea"},null,8,["modelValue"]),t(lt,{modelValue:w(d).supporting_document,"onUpdate:modelValue":i[6]||(i[6]=r=>w(d).supporting_document=r),label:"Supporting Document",outlined:"",dense:"",accept:".pdf,.png,.jpg,.jpeg"},Jt({_:2},[e.deletion.supporting_document?{name:"append",fn:a(()=>[t($,{round:"",dense:"",flat:"",icon:"visibility",href:`/storage/${e.deletion.supporting_document}`,onClick:i[5]||(i[5]=r=>s(`/storage/${e.deletion.supporting_document}`)),class:"q-ml-sm"},null,8,["href"])]),key:"0"}:void 0]),1032,["modelValue"])]),_:1}),t(ce,{align:"right"},{default:a(()=>[de(t($,{flat:"",label:"Cancel"},null,512),[[ke]]),t($,{color:"primary",label:"Update",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Da={class:"flex items-center justify-between q-pa-md bg-white"},$a={class:"flex q-gutter-sm"},Ra={key:0,class:"text-grey-7 text-center q-pa-md"},Ea={class:"text-h6"},Va={__name:"Remuneration",props:{data:Object,canCreateRemuneration:Boolean},setup(e){const l=e,n=B(!1),o=B(!1),d=me({remuneration:"",next_increment_date:""}),g=(c=!1)=>{o.value=c,c&&l.data.remuneration_detail?(d.remuneration=l.data.remuneration_detail.remuneration,d.next_increment_date=l.data.remuneration_detail.next_increment_date):d.reset(),n.value=!0},s=()=>{o.value?d.put(route("remuneration.update",l.data.id),{onSuccess:()=>{n.value=!1}}):d.post(route("remuneration.store",l.data.id),{onSuccess:()=>{n.value=!1,d.reset()}})};return(c,i)=>(p(),N(ae,null,[t(M,{class:"q-mt-md"},{default:a(()=>[m("div",Da,[i[4]||(i[4]=m("div",null,[m("div",{class:"stitle"},"Remuneration Detail")],-1)),m("div",$a,[e.canCreateRemuneration?(p(),C($,{key:0,onClick:i[0]||(i[0]=r=>g(!!e.data.remuneration_detail)),color:"btn-primary",icon:e.data.remuneration_detail?"edit":"add"},null,8,["icon"])):E("",!0)])]),t(P,null,{default:a(()=>[e.data.remuneration_detail?(p(),C(Me,{key:1,class:"q-mt-sm"},{default:a(()=>[t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>i[5]||(i[5]=[b("Remuneration:")])),_:1,__:[5]}),t(_,{class:"text-label"},{default:a(()=>[b(" ₹ "+S(e.data.remuneration_detail.remuneration.toLocaleString()),1)]),_:1})]),_:1}),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>i[6]||(i[6]=[b("Medical Allowance (%):")])),_:1,__:[6]}),t(_,{class:"text-label"},{default:a(()=>[b(S(e.data.remuneration_detail.medical_percentage),1)]),_:1})]),_:1}),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>i[7]||(i[7]=[b("Medical Allowance:")])),_:1,__:[7]}),t(_,{class:"text-label"},{default:a(()=>[b(" ₹ "+S(e.data.remuneration_detail.medical_amount.toLocaleString()),1)]),_:1})]),_:1}),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>i[8]||(i[8]=[b("Total:")])),_:1,__:[8]}),t(_,{class:"text-label"},{default:a(()=>[b(" ₹ "+S(e.data.remuneration_detail.total.toLocaleString()),1)]),_:1})]),_:1}),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>i[9]||(i[9]=[b("Monthly Remuneration:")])),_:1,__:[9]}),t(_,{class:"text-label"},{default:a(()=>[b(" ₹ "+S(e.data.remuneration_detail.round_total.toLocaleString()),1)]),_:1})]),_:1}),t(Re,{spaced:""}),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>i[10]||(i[10]=[b("Date of next Increment:")])),_:1,__:[10]}),t(_,{class:"text-label"},{default:a(()=>[b(S(new Date(e.data.remuneration_detail.next_increment_date).toLocaleDateString()),1)]),_:1})]),_:1})]),_:1})):(p(),N("div",Ra," No remuneration data available. "))]),_:1})]),_:1}),t(we,{modelValue:n.value,"onUpdate:modelValue":i[3]||(i[3]=r=>n.value=r)},{default:a(()=>[t(M,{style:{"min-width":"400px"}},{default:a(()=>[t(P,null,{default:a(()=>[m("div",Ea,S(o.value?"Edit":"Add")+" Remuneration",1)]),_:1}),t(P,{class:"q-gutter-md"},{default:a(()=>[t(H,{label:"Remuneration",type:"number",modelValue:w(d).remuneration,"onUpdate:modelValue":i[1]||(i[1]=r=>w(d).remuneration=r),outlined:"",dense:""},null,8,["modelValue"]),t(H,{label:"Next Increment Date",type:"date",modelValue:w(d).next_increment_date,"onUpdate:modelValue":i[2]||(i[2]=r=>w(d).next_increment_date=r),outlined:"",dense:""},null,8,["modelValue"])]),_:1}),t(ce,{align:"right"},{default:a(()=>[de(t($,{flat:"",label:"Cancel"},null,512),[[ke]]),t($,{color:"primary",label:o.value?"Update":"Save",onClick:s},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};function Rt(e,l){if(l&&e===l)return null;const n=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(n)===!0)return e;const o=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,d=o.display;return d==="block"||d==="table"?e:Rt(e.parentNode)}function Ye(e,l,n){return!e||e===document.body?!1:n===!0&&e===l||(l===document?document.body:l).contains(e.parentNode)}function Et(e,l,n){if(n||(n=document.createRange(),n.selectNode(e),n.setStart(e,0)),l.count===0)n.setEnd(e,l.count);else if(l.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<l.count?l.count-=e.textContent.length:(n.setEnd(e,l.count),l.count=0);else for(let o=0;l.count!==0&&o<e.childNodes.length;o++)n=Et(e.childNodes[o],l,n);return n}const Pa=/^https?:\/\//;class La{constructor(l,n){this.el=l,this.eVm=n,this._range=null}get selection(){if(this.el){const l=document.getSelection();if(Ye(l.anchorNode,this.el,!0)&&Ye(l.focusNode,this.el,!0))return l}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length!==0:!1}get range(){const l=this.selection;return l!=null&&l.rangeCount?l.getRangeAt(0):this._range}get parent(){const l=this.range;if(l!==null){const n=l.startContainer;return n.nodeType===document.ELEMENT_NODE?n:n.parentNode}return null}get blockParent(){const l=this.parent;return l!==null?Rt(l,this.el):null}save(l=this.range){l!==null&&(this._range=l)}restore(l=this._range){const n=document.createRange(),o=document.getSelection();l!==null?(n.setStart(l.startContainer,l.startOffset),n.setEnd(l.endContainer,l.endOffset),o.removeAllRanges(),o.addRange(n)):(o.selectAllChildren(this.el),o.collapseToEnd())}savePosition(){let l=-1,n;const o=document.getSelection(),d=this.el.parentNode;if(o.focusNode&&Ye(o.focusNode,d))for(n=o.focusNode,l=o.focusOffset;n&&n!==d;)n!==this.el&&n.previousSibling?(n=n.previousSibling,l+=n.textContent.length):n=n.parentNode;this.savedPos=l}restorePosition(l=0){if(this.savedPos>0&&this.savedPos<l){const n=window.getSelection(),o=Et(this.el,{count:this.savedPos});o&&(o.collapse(!1),n.removeAllRanges(),n.addRange(o))}}hasParent(l,n){const o=n?this.parent:this.blockParent;return o!==null?o.nodeName.toLowerCase()===l.toLowerCase():!1}hasParents(l,n,o=this.parent){return o===null?!1:l.includes(o.nodeName.toLowerCase())===!0?!0:n===!0?this.hasParents(l,n,o.parentNode):!1}is(l,n){if(this.selection===null)return!1;switch(l){case"formatBlock":return n==="DIV"&&this.parent===this.el||this.hasParent(n,n==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(l)===n;case"fontName":const o=document.queryCommandValue(l);return o===`"${n}"`||o===n;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const d=document.queryCommandState(l);return n!==void 0?d===n:d}}getParentAttribute(l){return this.parent!==null?this.parent.getAttribute(l):null}can(l){if(l==="outdent")return this.hasParents(["blockquote","li"],!0);if(l==="indent")return this.hasParents(["li"],!0);if(l==="link")return this.selection!==null||this.is("link")}apply(l,n,o=Xt){if(l==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(n)&&this.is(l,n)&&(l="outdent",n=null),n==="PRE"&&this.is(l,"PRE")&&(n="P");else if(l==="print"){o();const d=window.open();d.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),d.print(),d.close();return}else if(l==="link"){const d=this.getParentAttribute("href");if(d===null){const g=this.selectWord(this.selection),s=g?g.toString():"";if(!s.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=Pa.test(s)?s:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(g.getRangeAt(0))}else this.eVm.editLinkUrl.value=d,this.range.selectNodeContents(this.parent),this.save();return}else if(l==="fullscreen"){this.eVm.toggleFullscreen(),o();return}else if(l==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),o();return}document.execCommand(l,!1,n),o()}selectWord(l){if(l===null||l.isCollapsed!==!0||l.modify===void 0)return l;const n=document.createRange();n.setStart(l.anchorNode,l.anchorOffset),n.setEnd(l.focusNode,l.focusOffset);const o=n.collapsed?["backward","forward"]:["forward","backward"];n.detach();const d=l.focusNode,g=l.focusOffset;return l.collapse(l.anchorNode,l.anchorOffset),l.modify("move",o[0],"character"),l.modify("move",o[1],"word"),l.extend(d,g),l.modify("extend",o[1],"character"),l.modify("extend",o[0],"word"),l}}const Oa=$e({name:"QTooltip",inheritAttrs:!1,props:{...ml,...tl,...Ke,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...Ke.transitionShow,default:"jump-down"},transitionHide:{...Ke.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:mt},self:{type:String,default:"top middle",validator:mt},offset:{type:Array,default:()=>[14,14],validator:fl},scrollTarget:el,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Zt],setup(e,{slots:l,emit:n,attrs:o}){let d,g;const s=Ue(),{proxy:{$q:c}}=s,i=B(null),r=B(!1),u=V(()=>gt(e.anchor,c.lang.rtl)),v=V(()=>gt(e.self,c.lang.rtl)),q=V(()=>e.persistent!==!0),{registerTick:x,removeTick:Q}=ze(),{registerTimeout:U}=Xe(),{transitionProps:X,transitionStyle:Y}=ll(e),{localScrollTarget:Z,changeScrollEvent:y,unconfigureScrollTarget:F}=gl(e,Te),{anchorEl:O,canShow:ee,anchorEvents:te}=vl({showing:r,configureAnchorEl:Se}),{show:le,hide:xe}=al({showing:r,canShow:ee,handleShow:Ne,handleHide:be,hideOnRouteChange:q,processOnMount:!0});Object.assign(te,{delayShow:Ce,delayHide:ye});const{showPortal:Ee,hidePortal:Ve,renderPortal:Be}=nl(s,i,oe,"tooltip");if(c.platform.is.mobile===!0){const I={anchorEl:O,innerRef:i,onClickOutside(se){return xe(se),se.target.classList.contains("q-dialog__backdrop")&&tt(se),!0}},fe=V(()=>e.modelValue===null&&e.persistent!==!0&&r.value===!0);ue(fe,se=>{(se===!0?pl:vt)(I)}),je(()=>{vt(I)})}function Ne(I){Ee(),x(()=>{g=new MutationObserver(()=>re()),g.observe(i.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),re(),Te()}),d===void 0&&(d=ue(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,re)),U(()=>{Ee(!0),n("show",I)},e.transitionDuration)}function be(I){Q(),Ve(),ge(),U(()=>{Ve(!0),n("hide",I)},e.transitionDuration)}function ge(){g!==void 0&&(g.disconnect(),g=void 0),d!==void 0&&(d(),d=void 0),F(),ut(te,"tooltipTemp")}function re(){bl({targetEl:i.value,offset:e.offset,anchorEl:O.value,anchorOrigin:u.value,selfOrigin:v.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Ce(I){if(c.platform.is.mobile===!0){pt(),document.body.classList.add("non-selectable");const fe=O.value,se=["touchmove","touchcancel","touchend","click"].map(f=>[fe,f,"delayHide","passiveCapture"]);dt(te,"tooltipTemp",se)}U(()=>{le(I)},e.delay)}function ye(I){c.platform.is.mobile===!0&&(ut(te,"tooltipTemp"),pt(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),U(()=>{xe(I)},e.hideDelay)}function Se(){if(e.noParentEvent===!0||O.value===null)return;const I=c.platform.is.mobile===!0?[[O.value,"touchstart","delayShow","passive"]]:[[O.value,"mouseenter","delayShow","passive"],[O.value,"mouseleave","delayHide","passive"]];dt(te,"anchor",I)}function Te(){if(O.value!==null||e.scrollTarget!==void 0){Z.value=ol(O.value,e.scrollTarget);const I=e.noParentEvent===!0?re:xe;y(Z.value,I)}}function ne(){return r.value===!0?D("div",{...o,ref:i,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",o.class],style:[o.style,Y.value],role:"tooltip"},Oe(l.default)):null}function oe(){return D(sl,X.value,ne)}return je(ge),Object.assign(s.proxy,{updatePosition:re}),Be}});function Vt(e,l,n){l.handler?l.handler(e,n,n.caret):n.runCmd(l.cmd,l.param)}function at(e){return D("div",{class:"q-editor__toolbar-group"},e)}function Pt(e,l,n,o=!1){const d=o||(l.type==="toggle"?l.toggled?l.toggled(e):l.cmd&&e.caret.is(l.cmd,l.param):!1),g=[];if(l.tip&&e.$q.platform.is.desktop){const s=l.key?D("div",[D("small",`(CTRL + ${String.fromCharCode(l.key)})`)]):null;g.push(D(Oa,{delay:1e3},()=>[D("div",{innerHTML:l.tip}),s]))}return D($,{...e.buttonProps.value,icon:l.icon!==null?l.icon:void 0,color:d?l.toggleColor||e.props.toolbarToggleColor:l.color||e.props.toolbarColor,textColor:d&&!e.props.toolbarPush?null:l.textColor||e.props.toolbarTextColor,label:l.label,disable:l.disable?typeof l.disable=="function"?l.disable(e):!0:!1,size:"sm",onClick(s){n==null||n(),Vt(s,l,e)}},()=>g)}function Ba(e,l){const n=l.list==="only-icons";let o=l.label,d=l.icon!==null?l.icon:void 0,g,s;function c(){r.component.proxy.hide()}if(n)s=l.options.map(u=>{const v=u.type===void 0?e.caret.is(u.cmd,u.param):!1;return v&&(o=u.tip,d=u.icon!==null?u.icon:void 0),Pt(e,u,c,v)}),g=e.toolbarBackgroundClass.value,s=[at(s)];else{const u=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,v=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,q=l.list==="no-icons";s=l.options.map(x=>{const Q=x.disable?x.disable(e):!1,U=x.type===void 0?e.caret.is(x.cmd,x.param):!1;U&&(o=x.tip,d=x.icon!==null?x.icon:void 0);const X=x.htmlTip;return D(R,{active:U,activeClass:u,clickable:!0,disable:Q,dense:!0,onClick(Y){var Z;c(),(Y==null?void 0:Y.qAvoidFocus)!==!0&&((Z=e.contentRef.value)==null||Z.focus()),e.caret.restore(),Vt(Y,x,e)}},()=>[q===!0?null:D(_,{class:U?u:v,side:!0},()=>D(pe,{name:x.icon!==null?x.icon:void 0})),D(_,X?()=>D("div",{class:"text-no-wrap",innerHTML:x.htmlTip}):x.tip?()=>D("div",{class:"text-no-wrap"},x.tip):void 0)])}),g=[e.toolbarBackgroundClass.value,v]}const i=l.highlight&&o!==l.label,r=D(St,{...e.buttonProps.value,noCaps:!0,noWrap:!0,color:i?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:i&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:l.fixedLabel?l.label:o,icon:l.fixedIcon?l.icon!==null?l.icon:void 0:d,contentClass:g,onShow:u=>e.emit("dropdownShow",u),onHide:u=>e.emit("dropdownHide",u),onBeforeShow:u=>e.emit("dropdownBeforeShow",u),onBeforeHide:u=>e.emit("dropdownBeforeHide",u)},()=>s);return r}function Na(e){if(e.caret)return e.buttons.value.filter(l=>!e.isViewingSource.value||l.find(n=>n.cmd==="viewsource")).map(l=>at(l.map(n=>e.isViewingSource.value&&n.cmd!=="viewsource"?!1:n.type==="slot"?Oe(e.slots[n.slot]):n.type==="dropdown"?Ba(e,n):Pt(e,n))))}function Aa(e,l,n,o={}){const d=Object.keys(o);if(d.length===0)return{};const g={default_font:{cmd:"fontName",param:e,icon:n,tip:l}};return d.forEach(s=>{const c=o[s];g[s]={cmd:"fontName",param:c,icon:n,tip:c,htmlTip:`<font face="${c}">${c}</font>`}}),g}function ja(e){if(e.caret){const l=e.props.toolbarColor||e.props.toolbarTextColor;let n=e.editLinkUrl.value;const o=()=>{e.caret.restore(),n!==e.editLinkUrl.value&&document.execCommand("createLink",!1,n===""?" ":n),e.editLinkUrl.value=null};return[D("div",{class:`q-mx-xs text-${l}`},`${e.$q.lang.editor.url}: `),D("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:n,onInput:d=>{il(d),n=d.target.value},onKeydown:d=>{if(et(d)!==!0)switch(d.keyCode){case 13:return ct(d),o();case 27:ct(d),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),at([D($,{key:"qedt_btm_rem",tabindex:-1,...e.buttonProps.value,label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}}),D($,{key:"qedt_btm_upd",...e.buttonProps.value,label:e.$q.lang.label.update,noCaps:!0,onClick:o})])]}}const Ua=Object.prototype.toString,Ge=Object.prototype.hasOwnProperty,Qa=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(e=>"[object "+e+"]"));function bt(e){if(e!==Object(e)||Qa.has(Ua.call(e))===!0||e.constructor&&Ge.call(e,"constructor")===!1&&Ge.call(e.constructor.prototype,"isPrototypeOf")===!1)return!1;let l;for(l in e);return l===void 0||Ge.call(e,l)}function Lt(){let e,l,n,o,d,g,s=arguments[0]||{},c=1,i=!1;const r=arguments.length;for(typeof s=="boolean"&&(i=s,s=arguments[1]||{},c=2),Object(s)!==s&&typeof s!="function"&&(s={}),r===c&&(s=this,c--);c<r;c++)if((e=arguments[c])!==null)for(l in e)n=s[l],o=e[l],s!==o&&(i===!0&&o&&((d=Array.isArray(o))||bt(o)===!0)?(d===!0?g=Array.isArray(n)===!0?n:[]:g=bt(n)===!0?n:{},s[l]=Lt(i,g,o)):o!==void 0&&(s[l]=o));return s}const za=$e({name:"QEditor",props:{...qt,...ql,modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(l=>l.length),default:()=>[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},emits:[...wl,"update:modelValue","keydown","click","focus","blur","dropdownShow","dropdownHide","dropdownBeforeShow","dropdownBeforeHide","linkShow","linkHide"],setup(e,{slots:l,emit:n}){const{proxy:o}=Ue(),{$q:d}=o,g=xt(e,d),{inFullscreen:s,toggleFullscreen:c}=xl(),i=rl(),r=B(null),u=B(null),v=B(null),q=B(!1),x=V(()=>!e.readonly&&!e.disable);let Q,U,X=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),Q=window.getComputedStyle(document.body).fontFamily;const Y=V(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),Z=V(()=>({type:"a",flat:e.toolbarOutline!==!0&&e.toolbarPush!==!0,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!x.value,size:"sm"})),y=V(()=>{const f=d.lang.editor,h=d.iconSet.editor;return{bold:{cmd:"bold",icon:h.bold,tip:f.bold,key:66},italic:{cmd:"italic",icon:h.italic,tip:f.italic,key:73},strike:{cmd:"strikeThrough",icon:h.strikethrough,tip:f.strikethrough,key:83},underline:{cmd:"underline",icon:h.underline,tip:f.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:h.unorderedList,tip:f.unorderedList},ordered:{cmd:"insertOrderedList",icon:h.orderedList,tip:f.orderedList},subscript:{cmd:"subscript",icon:h.subscript,tip:f.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:h.superscript,tip:f.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:A=>A.caret&&!A.caret.can("link"),icon:h.hyperlink,tip:f.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:h.toggleFullscreen,tip:f.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:h.viewSource,tip:f.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:h.quote,tip:f.quote,key:81},left:{cmd:"justifyLeft",icon:h.left,tip:f.left},center:{cmd:"justifyCenter",icon:h.center,tip:f.center},right:{cmd:"justifyRight",icon:h.right,tip:f.right},justify:{cmd:"justifyFull",icon:h.justify,tip:f.justify},print:{type:"no-state",cmd:"print",icon:h.print,tip:f.print,key:80},outdent:{type:"no-state",disable:A=>A.caret&&!A.caret.can("outdent"),cmd:"outdent",icon:h.outdent,tip:f.outdent},indent:{type:"no-state",disable:A=>A.caret&&!A.caret.can("indent"),cmd:"indent",icon:h.indent,tip:f.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:h.removeFormat,tip:f.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:h.hr,tip:f.hr},undo:{type:"no-state",cmd:"undo",icon:h.undo,tip:f.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:h.redo,tip:f.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:h.heading1||h.heading,tip:f.heading1,htmlTip:`<h1 class="q-ma-none">${f.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:h.heading2||h.heading,tip:f.heading2,htmlTip:`<h2 class="q-ma-none">${f.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:h.heading3||h.heading,tip:f.heading3,htmlTip:`<h3 class="q-ma-none">${f.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:h.heading4||h.heading,tip:f.heading4,htmlTip:`<h4 class="q-ma-none">${f.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:h.heading5||h.heading,tip:f.heading5,htmlTip:`<h5 class="q-ma-none">${f.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:h.heading6||h.heading,tip:f.heading6,htmlTip:`<h6 class="q-ma-none">${f.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:h.heading,tip:f.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:h.code,htmlTip:`<code>${f.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:h.size1||h.size,tip:f.size1,htmlTip:`<font size="1">${f.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:h.size2||h.size,tip:f.size2,htmlTip:`<font size="2">${f.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:h.size3||h.size,tip:f.size3,htmlTip:`<font size="3">${f.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:h.size4||h.size,tip:f.size4,htmlTip:`<font size="4">${f.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:h.size5||h.size,tip:f.size5,htmlTip:`<font size="5">${f.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:h.size6||h.size,tip:f.size6,htmlTip:`<font size="6">${f.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:h.size7||h.size,tip:f.size7,htmlTip:`<font size="7">${f.size7}</font>`}}}),F=V(()=>{const f=e.definitions||{},h=e.definitions||e.fonts?Lt(!0,{},y.value,f,Aa(Q,d.lang.editor.defaultFont,d.iconSet.editor.font,e.fonts)):y.value;return e.toolbar.map(A=>A.map(G=>{if(G.options)return{type:"dropdown",icon:G.icon,label:G.label,size:"sm",dense:!0,fixedLabel:G.fixedLabel,fixedIcon:G.fixedIcon,highlight:G.highlight,list:G.list,options:G.options.map(Fe=>h[Fe])};const ie=h[G];return ie?ie.type==="no-state"||f[G]&&(ie.cmd===void 0||y.value[ie.cmd]&&y.value[ie.cmd].type==="no-state")?ie:Object.assign({type:"toggle"},ie):{type:"slot",slot:G}}))}),O={$q:d,props:e,slots:l,emit:n,inFullscreen:s,toggleFullscreen:c,runCmd:oe,isViewingSource:q,editLinkUrl:v,toolbarBackgroundClass:Y,buttonProps:Z,contentRef:u,buttons:F,setContent:ne};ue(()=>e.modelValue,f=>{X!==f&&(X=f,ne(f,!0))}),ue(v,f=>{n(`link${f?"Show":"Hide"}`)});const ee=V(()=>e.toolbar&&e.toolbar.length!==0),te=V(()=>{const f={},h=A=>{A.key&&(f[A.key]={cmd:A.cmd,param:A.param})};return F.value.forEach(A=>{A.forEach(G=>{G.options?G.options.forEach(h):h(G)})}),f}),le=V(()=>s.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),xe=V(()=>`q-editor q-editor--${q.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(s.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(g.value===!0?" q-editor--dark q-dark":"")),Ee=V(()=>[e.contentClass,"q-editor__content",{col:s.value,"overflow-auto":s.value||e.maxHeight}]),Ve=V(()=>e.disable===!0?{"aria-disabled":"true"}:{});function Be(){if(u.value!==null){const f=`inner${q.value===!0?"Text":"HTML"}`,h=u.value[f];h!==e.modelValue&&(X=h,n("update:modelValue",h))}}function Ne(f){if(n("keydown",f),f.ctrlKey!==!0||et(f)===!0){I();return}const h=f.keyCode,A=te.value[h];if(A!==void 0){const{cmd:G,param:ie}=A;tt(f),oe(G,ie,!1)}}function be(f){I(),n("click",f)}function ge(f){if(u.value!==null){const{scrollTop:h,scrollHeight:A}=u.value;U=A-h}O.caret.save(),n("blur",f)}function re(f){ul(()=>{u.value!==null&&U!==void 0&&(u.value.scrollTop=u.value.scrollHeight-U)}),n("focus",f)}function Ce(f){const h=r.value;if(h!==null&&h.contains(f.target)===!0&&(f.relatedTarget===null||h.contains(f.relatedTarget)!==!0)){const A=`inner${q.value===!0?"Text":"HTML"}`;O.caret.restorePosition(u.value[A].length),I()}}function ye(f){const h=r.value;h!==null&&h.contains(f.target)===!0&&(f.relatedTarget===null||h.contains(f.relatedTarget)!==!0)&&(O.caret.savePosition(),I())}function Se(){U=void 0}function Te(f){O.caret.save()}function ne(f,h){if(u.value!==null){h===!0&&O.caret.savePosition();const A=`inner${q.value===!0?"Text":"HTML"}`;u.value[A]=f,h===!0&&(O.caret.restorePosition(u.value[A].length),I())}}function oe(f,h,A=!0){fe(),O.caret.restore(),O.caret.apply(f,h,()=>{fe(),O.caret.save(),A&&I()})}function I(){setTimeout(()=>{v.value=null,o.$forceUpdate()},1)}function fe(){dl(()=>{var f;(f=u.value)==null||f.focus({preventScroll:!0})})}function se(){return u.value}return _t(()=>{O.caret=o.caret=new La(u.value,O),ne(e.modelValue),I(),document.addEventListener("selectionchange",Te)}),je(()=>{document.removeEventListener("selectionchange",Te)}),Object.assign(o,{runCmd:oe,refreshToolbar:I,focus:fe,getContentEl:se}),()=>{let f;if(ee.value){const h=[D("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+Y.value},Na(O))];v.value!==null&&h.push(D("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+Y.value},ja(O))),f=D("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},h)}return D("div",{ref:r,class:xe.value,style:{height:s.value===!0?"100%":null},...Ve.value,onFocusin:Ce,onFocusout:ye},[f,D("div",{ref:u,style:le.value,class:Ee.value,contenteditable:x.value,placeholder:e.placeholder,...i.listeners.value,onInput:Be,onKeydown:Ne,onClick:be,onBlur:ge,onFocus:re,onMousedown:Se,onTouchstartPassive:Se})])}}}),Ia={class:"flex items-center justify-between q-pa-md bg-white"},Ma={class:"flex q-gutter-sm"},Fa={__name:"EngagementCard",props:{data:Object,canCreateEngagementCard:Boolean,canDownloadEngagementCard:Boolean},setup(e){var r,u;const l=e,n=me({html_content:((u=(r=l.data)==null?void 0:r.engagement_card)==null?void 0:u.content)||""}),o=B(!1),d=B(""),g=qe(),s=async()=>{o.value=!0;try{axios.get(route("engagement-card.show",l.data)).then(v=>{d.value=v.data,n.html_content=v.data})}catch{g.notify({type:"negative",message:"Failed to load card data"})}},c=()=>{n.post(route("engagement-card.store",l.data),{preserveScroll:!0,onSuccess:()=>{o.value=!1,g.notify({type:"positive",message:"Card saved successfully!"})}})},i=async()=>{try{const v=await axios.get(route("engagement-card.download",l.data),{responseType:"blob"}),q=window.URL.createObjectURL(new Blob([v.data],{type:"application/pdf"})),x=document.createElement("a");x.href=q,x.setAttribute("download",`EngagementCard_${l.data.id}.pdf`),document.body.appendChild(x),x.click(),x.remove()}catch{g.notify({type:"negative",message:"Failed to download PDF."})}};return(v,q)=>(p(),C(M,{class:"q-mt-md"},{default:a(()=>[m("div",Ia,[q[2]||(q[2]=m("div",null,[m("div",{class:"stitle"},"Engagement Card")],-1)),m("div",Ma,[e.data.engagement_card&&e.canCreateEngagementCard?(p(),C($,{key:0,color:"primary",icon:"edit",onClick:s})):E("",!0)])]),t(P,null,{default:a(()=>[!e.data.engagement_card&&e.canCreateEngagementCard?(p(),C($,{key:0,color:"primary",label:"Create",onClick:s})):E("",!0),e.data.engagement_card&&e.canDownloadEngagementCard?(p(),C($,{key:1,color:"primary",label:"Download",onClick:i})):E("",!0),t(we,{modelValue:o.value,"onUpdate:modelValue":q[1]||(q[1]=x=>o.value=x),persistent:""},{default:a(()=>[t(M,{style:{width:"1000px","max-width":"100vw"}},{default:a(()=>[t(P,{class:"row items-center justify-between bg-primary text-white"},{default:a(()=>[q[3]||(q[3]=m("div",{class:"text-h6"},"Engagement Card",-1)),de(t($,{dense:"",flat:"",icon:"close"},null,512),[[ke]])]),_:1,__:[3]}),t(P,{style:{"flex-grow":"1",overflow:"auto",padding:"0"}},{default:a(()=>[t(za,{modelValue:w(n).html_content,"onUpdate:modelValue":q[0]||(q[0]=x=>w(n).html_content=x),style:{width:"100%","max-height":"1100px"}},null,8,["modelValue"])]),_:1}),t(ce,{align:"right",style:{"flex-shrink":"0"}},{default:a(()=>[t($,{color:"primary",label:"Save",onClick:c})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}))}},Ha={class:"flex items-center justify-between q-pa-md bg-white"},Wa={class:"row q-col-gutter-md"},Ka={class:"col-12 col-md-4"},Ya={class:"column items-center q-gutter-sm"},Ga={class:"stitle"},Ja={class:"q-mt-lg full-width"},Xa={class:"q-mt-lg flex items-center justify-center"},Za={class:"col-12 col-md-8"},en={class:"row q-col-gutter-md"},tn={class:"col-12 col-md-7"},ln={class:"col-12 col-md-5"},bn=Object.assign({layout:yl},{__name:"Show",props:["data","office","canCreate","canEdit","canDelete","canCreateRemuneration","canCreateTransfer","canDeleteTransfer","canCreateEngagementCard","canDownloadEngagementCard","canRequestEdit","canRequestDelete","canRequestTransfer","canApproveEdit","canApproveTransfer","canApproveDelete","canEditDelete"],setup(e){const l=B("document"),n=B(!1),o=V(()=>{var g;return!!((g=ft().props.roles)!=null&&g.find(s=>s==="Admin"))}),d=V(()=>{var g;return!!((g=ft().props.roles)!=null&&g.find(s=>s==="Manager"))});return(g,s)=>(p(),C(Mt,{class:"container",padding:""},{default:a(()=>[m("div",Ha,[m("div",null,[s[5]||(s[5]=m("div",{class:"stitle"},"Employee Detail",-1)),t(Qt,{class:"text-dark"},{default:a(()=>[t(rt,{onClick:s[0]||(s[0]=c=>g.$inertia.get(g.route("dashboard"))),icon:"dashboard",label:"Dashboard"}),t(rt,{label:"All Employees",to:g.route("mis.import")},null,8,["to"])]),_:1})])]),s[24]||(s[24]=m("br",null,null,-1)),t(M,{flat:""},{default:a(()=>[t(P,null,{default:a(()=>[m("div",Wa,[m("div",Ka,[t(M,{class:"q-pa-md"},{default:a(()=>{var c,i,r,u,v,q;return[m("div",Ya,[t(cl,{size:"96px"},{default:a(()=>{var x,Q;return[(x=e.data)!=null&&x.avatar?(p(),C(It,{key:0,src:`/storage/${(Q=e.data)==null?void 0:Q.avatar}`},null,8,["src"])):(p(),C(pe,{key:1,name:"person",color:"primary"}))]}),_:1}),m("div",Ga,S(e.data.name),1),t(hl,{color:((i=(c=e.data)==null?void 0:c.employment_type)==null?void 0:i.trim())==="Deleted"?"red-6":"grey-6","text-color":"white",class:"stitle",label:((u=(r=e.data)==null?void 0:r.employment_type)==null?void 0:u.trim())==="MR"?"Muster Roll":((q=(v=e.data)==null?void 0:v.employment_type)==null?void 0:q.trim())==="PE"?"Provisional":"Deleted",style:{padding:"8px"},rounded:""},null,8,["color","label"]),m("div",Ja,[t(Me,{class:"rounded-borders"},{default:a(()=>{var x,Q,U,X,Y,Z;return[t(R,null,{default:a(()=>[t(_,{class:"text-label"},{default:a(()=>s[6]||(s[6]=[b("Details")])),_:1,__:[6]})]),_:1}),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>s[7]||(s[7]=[b("Employee Code:")])),_:1,__:[7]}),t(_,{class:"text-label"},{default:a(()=>{var y;return[b(S((y=e.data)==null?void 0:y.employee_code),1)]}),_:1})]),_:1}),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>s[8]||(s[8]=[b("Name:")])),_:1,__:[8]}),t(_,{class:"text-label"},{default:a(()=>{var y;return[b(S((y=e.data)==null?void 0:y.name),1)]}),_:1})]),_:1}),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>s[9]||(s[9]=[b("Email:")])),_:1,__:[9]}),t(_,{class:"text-label"},{default:a(()=>[b(S(e.data.email),1)]),_:1})]),_:1}),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>s[10]||(s[10]=[b("Contact:")])),_:1,__:[10]}),t(_,{class:"text-label"},{default:a(()=>{var y;return[b(S((y=e.data)==null?void 0:y.mobile),1)]}),_:1})]),_:1}),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>s[11]||(s[11]=[b("Parent Name:")])),_:1,__:[11]}),t(_,{class:"text-label"},{default:a(()=>{var y;return[b(S((y=e.data)==null?void 0:y.parent_name),1)]}),_:1})]),_:1}),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>s[12]||(s[12]=[b("Date of Birth:")])),_:1,__:[12]}),t(_,{class:"text-label"},{default:a(()=>[b(S(e.data.date_of_birth),1)]),_:1})]),_:1}),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>s[13]||(s[13]=[b("Address:")])),_:1,__:[13]}),t(_,{class:"text-label"},{default:a(()=>{var y;return[b(S(((y=e.data)==null?void 0:y.address)??"N/A"),1)]}),_:1})]),_:1}),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>s[14]||(s[14]=[b("Education Qln.:")])),_:1,__:[14]}),t(_,{class:"text-label"},{default:a(()=>{var y;return[b(S((y=e.data)==null?void 0:y.educational_qln),1)]}),_:1})]),_:1}),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>s[15]||(s[15]=[b("Technical Qln.:")])),_:1,__:[15]}),t(_,{class:"text-label"},{default:a(()=>{var y;return[b(S((y=e.data)==null?void 0:y.technical_qln),1)]}),_:1})]),_:1}),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>s[16]||(s[16]=[b("Designation:")])),_:1,__:[16]}),t(_,{class:"text-label"},{default:a(()=>{var y;return[b(S((y=e.data)==null?void 0:y.designation),1)]}),_:1})]),_:1}),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>s[17]||(s[17]=[b("Office:")])),_:1,__:[17]}),t(_,{class:"text-label"},{default:a(()=>{var y,F;return[b(S((F=(y=e.data)==null?void 0:y.office)==null?void 0:F.name),1)]}),_:1})]),_:1}),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>s[18]||(s[18]=[b("Office Type:")])),_:1,__:[18]}),t(_,{class:"text-label"},{default:a(()=>{var y,F;return[b(S((F=(y=e.data)==null?void 0:y.office)==null?void 0:F.type),1)]}),_:1})]),_:1}),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>s[19]||(s[19]=[b("Workplace:")])),_:1,__:[19]}),t(_,{class:"text-label"},{default:a(()=>{var y;return[b(S((y=e.data)==null?void 0:y.name_of_workplace),1)]}),_:1})]),_:1}),t(R,null,{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>s[20]||(s[20]=[b("Date of Engagement:")])),_:1,__:[20]}),t(_,{class:"text-label"},{default:a(()=>{var y;return[b(S(((y=e.data)==null?void 0:y.date_of_engagement)??"N/A"),1)]}),_:1})]),_:1}),((Q=(x=e.data)==null?void 0:x.employment_type)==null?void 0:Q.trim())==="MR"?(p(),C(R,{key:0},{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>s[21]||(s[21]=[b("Post Per Qualification:")])),_:1,__:[21]}),t(_,{class:"text-label"},{default:a(()=>{var y;return[b(S((y=e.data)==null?void 0:y.post_per_qualification),1)]}),_:1})]),_:1})):E("",!0),((X=(U=e.data)==null?void 0:U.employment_type)==null?void 0:X.trim())==="MR"?(p(),C(R,{key:1},{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>s[22]||(s[22]=[b("Skill Category:")])),_:1,__:[22]}),t(_,{class:"text-label"},{default:a(()=>{var y;return[b(S((y=e.data)==null?void 0:y.skill_category),1)]}),_:1})]),_:1})):E("",!0),((Z=(Y=e.data)==null?void 0:Y.employment_type)==null?void 0:Z.trim())==="MR"?(p(),C(R,{key:2},{default:a(()=>[t(_,{side:"",class:"subtitle"},{default:a(()=>s[23]||(s[23]=[b("Skill at Present:")])),_:1,__:[23]}),t(_,{class:"text-label"},{default:a(()=>{var y;return[b(S((y=e.data)==null?void 0:y.skill_at_present),1)]}),_:1})]),_:1})):E("",!0)]}),_:1}),m("div",Xa,[e.canEdit?(p(),C($,{key:0,label:"Edit",onClick:s[1]||(s[1]=x=>g.$inertia.get(g.route("employee.edit",e.data))),class:"q-mr-md",color:"primary"})):E("",!0),e.canDelete&&e.data.employment_type!=="Deleted"?(p(),C($,{key:1,label:"Delete",color:"negative",unelevated:"",onClick:s[2]||(s[2]=x=>n.value=!0)})):E("",!0)])])])]}),_:1})]),t(xa,{modelValue:n.value,"onUpdate:modelValue":s[3]||(s[3]=c=>n.value=c),employee:e.data},null,8,["modelValue","employee"]),m("div",Za,[t(Vl,{modelValue:l.value,"onUpdate:modelValue":s[4]||(s[4]=c=>l.value=c),class:"text-primary bg-white shadow-1 q-pa-sm",dense:"",align:"center"},{default:a(()=>[t(De,{name:"document",label:"Documents",icon:"drive_folder_upload"}),o.value&&e.canApproveEdit?(p(),C(De,{key:0,name:"edit",label:"Edit Request",icon:"edit"})):E("",!0),o.value&&e.canApproveTransfer?(p(),C(De,{key:1,name:"transfer_request",label:"Transfer Request",icon:"input"})):E("",!0),o.value&&e.canApproveDelete?(p(),C(De,{key:2,name:"deletion",label:"Deletion Request",icon:"delete_sweep"})):E("",!0),d.value&&e.canRequestEdit?(p(),C(De,{key:3,name:"request_edit",label:"Request Edit",icon:"edit"})):E("",!0),d.value&&e.canRequestTransfer?(p(),C(De,{key:4,name:"request_transfer",label:"Request Transfer",icon:"input"})):E("",!0),d.value&&e.canRequestDelete?(p(),C(De,{key:5,name:"request_deletion",label:"Request Deletion",icon:"delete_sweep"})):E("",!0)]),_:1},8,["modelValue"]),l.value==="document"?(p(),C(Ul,{key:0,data:e.data},null,8,["data"])):E("",!0),l.value==="edit"?(p(),C(Wl,{key:1,data:e.data},null,8,["data"])):E("",!0),l.value==="transfer_request"?(p(),C(zl,{key:2,data:e.data,office:e.office},null,8,["data","office"])):E("",!0),l.value==="deletion"?(p(),C(Zl,{key:3,data:e.data},null,8,["data"])):E("",!0),l.value==="request_edit"?(p(),C(da,{key:4,data:e.data},null,8,["data"])):E("",!0),l.value==="request_transfer"?(p(),C(fa,{key:5,data:e.data,office:e.office},null,8,["data","office"])):E("",!0),l.value==="request_deletion"?(p(),C(oa,{key:6,data:e.data},null,8,["data"])):E("",!0),m("div",en,[m("div",tn,[e.data.remuneration_detail?(p(),C(Va,{key:0,data:e.data,canCreateRemuneration:e.canCreateRemuneration},null,8,["data","canCreateRemuneration"])):E("",!0),t(wa,{data:e.data,office:e.office,canCreateTransfer:e.canCreateTransfer,canDeleteTransfer:e.canDeleteTransfer},null,8,["data","office","canCreateTransfer","canDeleteTransfer"])]),m("div",ln,[e.data.employment_type==="PE"?(p(),C(Fa,{key:0,data:e.data,canCreateEngagementCard:e.canCreateEngagementCard,canDownloadEngagementCard:e.canDownloadEngagementCard},null,8,["data","canCreateEngagementCard","canDownloadEngagementCard"])):E("",!0),e.data.employment_type==="Deleted"?(p(),C(Ta,{key:1,deletion:e.data.deletion_detail,canEditDelete:e.canEditDelete},null,8,["deletion","canEditDelete"])):E("",!0)])])])])]),_:1})]),_:1})]),_:1,__:[24]}))}});export{bn as default};
