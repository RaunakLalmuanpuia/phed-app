import{Q as x,a as f}from"./QBreadcrumbs-CATnAa52.js";import{Q as n}from"./QSelect-CO_hcso5.js";import{r as w,d as y,o as b,w as l,e as s,i as t,y as v,z as m,p as Q,g as V,q as k}from"./app-C-F0Pl6B.js";import{Q as _}from"./QLayout-C_r3fW1o.js";import{_ as q}from"./BackendLayout-CHxGLLS1.js";import{u as C}from"./use-quasar-DKhJcrZA.js";import"./QChip-CYtrk1bx.js";import"./format-BTIWOjr3.js";import"./touch-DLSvpzZM.js";import"./QSlideTransition-C_JFsmL5.js";const D={class:"flex items-center justify-between q-pa-md bg-white"},B={class:"q-pa-md"},S={class:"row q-col-gutter-md"},h={class:"row q-gutter-sm col-12 col-sm justify-end"},z=Object.assign({layout:q},{__name:"Export",props:["office","canExport"],setup(d){const r=C(),o=w({type:null,office:null}),p=[{label:"MR",value:"MR"},{label:"PE",value:"PE"},{label:"DELETED",value:"Deleted"}],g=()=>{r.dialog({title:"Confirm Export",message:"Are you sure you want to export the data?",cancel:!0,persistent:!0}).onOk(()=>{const i=new FormData;i.append("type",o.value.type),i.append("office",o.value.office),axios.post(route("mis.import-employee"),i,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{r.notify({type:"positive",message:"Data Successfully Imported"})}).catch(e=>{if(e.response){const a=e.response.data.errors,u=[];if(a){for(const c in a)a[c]&&u.push(...a[c]);r.notify({type:"negative",message:u})}else e.response.data.message&&r.notify({type:"negative",message:e.response.data.message})}else r.notify({type:"negative",message:"System Error. Please try again later."})})})},E=()=>{window.history.back()};return(i,e)=>(b(),y(_,{class:"container",padding:""},{default:l(()=>[s("div",D,[s("div",null,[e[4]||(e[4]=s("div",{class:"stitle"},"Export Data",-1)),t(x,{class:"text-dark"},{default:l(()=>[t(f,{class:"cursor-pointer",onClick:e[0]||(e[0]=a=>i.$inertia.get(i.route("dashboard"))),icon:"dashboard",label:"Dashboard"}),t(f,{class:"cursor-pointer",label:"Go Back",onClick:E})]),_:1})])]),e[6]||(e[6]=s("br",null,null,-1)),t(v,{flat:""},{default:l(()=>[t(m,null,{default:l(()=>[s("div",B,[t(v,{flat:"",class:"q-mt-md bg-white shadow-1"},{default:l(()=>[t(m,null,{default:l(()=>[e[5]||(e[5]=s("div",{class:"text-subtitle1 text-weight-medium text-grey-8 q-mb-md"}," Export Filter ",-1)),s("div",S,[t(n,{label:"Select Office",class:"col-12 col-sm-4",modelValue:o.value.office,"onUpdate:modelValue":e[1]||(e[1]=a=>o.value.office=a),options:d.office,"option-label":"name","option-value":"id","emit-value":"","map-options":"",outlined:"",dense:"",clearable:""},null,8,["modelValue","options"]),t(n,{label:"Select Employment Type",class:"col-12 col-sm-4",modelValue:o.value.type,"onUpdate:modelValue":e[2]||(e[2]=a=>o.value.type=a),options:p,"emit-value":"","map-options":"",outlined:"",dense:"",clearable:""},null,8,["modelValue"]),t(n,{label:"Select Employment Type",class:"col-12 col-sm-4",modelValue:o.value.type,"onUpdate:modelValue":e[3]||(e[3]=a=>o.value.type=a),options:p,"emit-value":"","map-options":"",outlined:"",dense:"",clearable:""},null,8,["modelValue"])])]),_:1,__:[5]}),t(Q),t(m,{class:"row items-center justify-between q-gutter-md"},{default:l(()=>[s("div",h,[d.canExport?(b(),y(k,{key:0,label:"Export Data",icon:"add",color:"primary",onClick:g})):V("",!0)])]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1,__:[6]}))}});export{z as default};
