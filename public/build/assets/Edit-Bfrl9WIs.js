import{Q as Ye,a as oe}from"./QBreadcrumbs-xFstMEAC.js";import{a as Re,Q as He}from"./QLayout-Cl5bBm7n.js";import{r as K,x as Xe,l as Ze,c as Y,b as se,d as re,o as u,w,e as s,i as t,E as el,g as c,f as p,q as k,Q as g,u as l,F as Be,v as Fe,t as _,G as ll,h as f,D as ol,W as sl}from"./app-BaVsgt8H.js";import{Q as x}from"./QSelect-Cvgjxn-b.js";import{Q as H}from"./QStepperNavigation-vPTGhi28.js";import{Q as rl,a as X}from"./QStepper-B51ijyH8.js";import{Q as tl}from"./QFile-jpYHyYRi.js";import{Q as al}from"./QForm-B8tg0ztJ.js";import{_ as nl}from"./BackendLayout-COnxDR-B.js";import{u as il}from"./use-quasar-9qOP1OwN.js";import{u as dl}from"./useUtils-CnSpUXmG.js";/* empty css            */import"./format-DAOQXuzr.js";import"./QSlideTransition-yUepvG0f.js";import"./use-panel-BW8Jo2ro.js";import"./touch-CCQAwryY.js";import"./date-D9AgWOmg.js";const ml={class:"flex items-center justify-between q-pa-md bg-white"},ul={class:"q-pa-md"},pl={class:"row items-center q-gutter-md"},cl={class:"rounded-borders overflow-hidden",style:{"background-color":"#8a82f7"}},gl={class:"column q-gutter-sm"},_l={class:"row q-gutter-md"},fl={key:0,class:"row q-col-gutter-sm"},vl={class:"col-12 col-sm-6"},yl={class:"col-12 col-sm-6"},bl={class:"col-12 col-sm-6"},kl={class:"col-12 col-sm-6"},Vl={class:"col-12 col-sm-6"},ql={class:"col-12 col-sm-6"},wl={key:0,class:"col-12 col-sm-6"},hl={key:1,class:"row q-col-gutter-sm"},Ul={class:"col-12 col-sm-6"},El={class:"col-12 col-sm-6"},Pl={class:"col-12 col-sm-6"},Cl={class:"col-12 col-sm-6"},xl={class:"col-12 col-sm-6"},Ql={class:"col-12 col-sm-6"},Sl={class:"col-12 col-sm-6"},Ml={class:"col-12 col-sm-6"},Dl={class:"row q-col-gutter-sm"},Nl={class:"col-12 col-sm-6"},Il={key:0,class:"col-12 col-sm-6"},Rl={key:1,class:"col-12 col-sm-6"},Bl={class:"col-12 col-sm-6"},Fl={key:2,class:"col-12 col-sm-6"},Al={key:3,class:"col-12 col-sm-6"},jl={key:4,class:"col-12 col-sm-6"},Tl={key:5,class:"col-12 col-sm-6"},$l={key:6,class:"col-12 col-sm-6"},Wl={class:"col-12 col-sm-6"},Ol={key:7,class:"col-12 col-sm-6"},Gl={key:8,class:"col-12 col-sm-6"},Jl={key:9,class:"col-12 col-sm-6"},Ll={class:"col-12 col-sm-6"},zl={class:"row q-col-gutter-sm"},Kl={class:"text-subtitle2 q-mb-xs"},Yl={class:"rounded-borders"},Hl={class:"row q-col-gutter-sm q-mb-md"},Xl={class:"col-12 col-sm-6"},Zl={class:"col-12 col-sm-6"},eo={class:"col-12 col-sm-6"},lo={class:"col-12 col-sm-6"},oo={class:"col-12 col-sm-6"},so={class:"col-12 col-sm-6"},ro={class:"col-12 col-sm-6"},to={class:"col-12 col-sm-6"},ao={class:"row q-col-gutter-sm q-mb-md"},no={class:"col-12 col-sm-6"},io={class:"col-12 col-sm-6"},mo={key:0,class:"col-12 col-sm-6"},uo={key:1,class:"col-12 col-sm-6"},po={key:2,class:"col-12 col-sm-6"},co={class:"col-12 col-sm-6"},go={key:3,class:"col-12 col-sm-6"},_o={key:4,class:"col-12 col-sm-6"},fo={key:5,class:"col-12 col-sm-6"},vo={class:"col-12 col-sm-6"},yo={key:6,class:"col-12 col-sm-6"},bo={class:"row q-col-gutter-sm q-mb-md"},ko={class:"row items-center justify-between"},Vo={class:"text-subtitle2"},qo={key:0},wo=["href"],ho={key:1,class:"text-grey"},te="https://storage.googleapis.com/a1aa/image/089155c9-d1c1-4945-5728-c9bdb3576171.jpg",$o=Object.assign({layout:nl},{__name:"Edit",props:["documentTypes","offices","data","current_offices","schemes"],setup(C){var ie,de,me,ue,pe,ce,ge,_e,fe,ve,ye,be,ke,Ve,qe,we,he,Ue,Ee,Pe,Ce,xe,Qe;const{educationalQualifications:Ae,skills:ae,formatDate:ne}=dl(),d=C,U=il(),v=K("1"),S=K(!!((ie=d.data)!=null&&ie.scheme_id)||!!((de=d.data)!=null&&de.scheme)),e=Xe({name:(me=d.data)==null?void 0:me.name,email:(ue=d.data)==null?void 0:ue.email,mobile:(pe=d.data)==null?void 0:pe.mobile,parent_name:(ce=d.data)==null?void 0:ce.parent_name,date_of_birth:(ge=d.data)==null?void 0:ge.date_of_birth,address:(_e=d.data)==null?void 0:_e.address,designation:(fe=d.data)==null?void 0:fe.designation,post_assigned:(ve=d.data)==null?void 0:ve.post_assigned,employment_type:(ye=d.data)==null?void 0:ye.employment_type,office:((ke=(be=d.data)==null?void 0:be.office)==null?void 0:ke.id)??null,educational_qln:(Ve=d.data)==null?void 0:Ve.educational_qln,technical_qln:(qe=d.data)==null?void 0:qe.technical_qln,name_of_workplace:(we=d.data)==null?void 0:we.name_of_workplace,post_per_qualification:(he=d.data)==null?void 0:he.post_per_qualification,engagement_card_no:(Ue=d.data)==null?void 0:Ue.engagement_card_no,date_of_engagement:(Ee=d.data)==null?void 0:Ee.date_of_engagement,skill_category:(Pe=d.data)==null?void 0:Pe.skill_category,skill_at_present:(Ce=d.data)==null?void 0:Ce.skill_at_present,scheme:((Qe=(xe=d.data)==null?void 0:xe.scheme)==null?void 0:Qe.id)??null,documents:[],avatar:null}),Z=K(null);function je(){var r;(r=Z.value)==null||r.click()}function Te(r){const o=r.target.files[0];if(o&&o.size<=800*1024){const m=new FileReader;m.onload=()=>{Q.value=m.result},e.avatar=o,m.readAsDataURL(o)}else alert("File too large or invalid type. Max size: 800KB.")}function $e(){var r;Q.value=(r=d.data)!=null&&r.avatar?`/storage/${d.data.avatar}`:te,e.avatar=null,Z.value.value=null}const Q=K(""),We=(r,o)=>{e.documents[r]={...e.documents[r],file:o}},Oe=r=>{window.open(r,"_blank")},ee=()=>{if(v.value==="1"){if(!e.name||!e.mobile||!e.date_of_birth){U.notify({type:"negative",message:"Please fill all required Personal Info fields."});return}v.value=E.value?"4":"2"}else if(v.value==="2"){if(!e.employment_type||!e.office){U.notify({type:"negative",message:"Please fill all required Job Info fields."});return}if(e.employment_type==="MR"&&(!e.skill_category||!e.skill_at_present||!e.date_of_engagement)){U.notify({type:"negative",message:"Please fill all required Job Info fields."});return}v.value="3"}else v.value==="3"&&(v.value="4")},le=()=>{v.value==="4"?v.value=E.value?"1":"3":v.value==="3"?v.value=E.value?"1":"2":v.value==="2"&&(v.value="1")},Ge=r=>r?typeof r=="string"?r:URL.createObjectURL(r):"#",Je=[{label:"MR",value:"MR"},{label:"PE",value:"PE"}],Le=()=>{U.dialog({title:"Confirm Submission",message:"Are you sure you want to submit?",cancel:!0,persistent:!0}).onOk(()=>{var o,m;const r=new FormData;r.append("name",e.name||""),r.append("email",e.email||""),r.append("mobile",e.mobile||""),r.append("parent_name",e.parent_name||""),r.append("date_of_birth",e.date_of_birth||""),r.append("address",e.address||""),r.append("designation",e.designation||""),r.append("post_assigned",e.post_assigned||""),r.append("employment_type",e.employment_type||""),r.append("office",((o=e.office)==null?void 0:o.id)||e.office||""),r.append("educational_qln",e.educational_qln||""),r.append("technical_qln",e.technical_qln||""),r.append("name_of_workplace",e.name_of_workplace||""),r.append("post_per_qualification",e.post_per_qualification||""),r.append("engagement_card_no",e.engagement_card_no||""),r.append("date_of_engagement",e.date_of_engagement||""),r.append("skill_category",e.skill_category||""),r.append("skill_at_present",e.skill_at_present||""),S.value||(e.scheme=""),r.append("scheme",((m=e.scheme)==null?void 0:m.id)||e.scheme),e.avatar&&typeof e.avatar!="string"&&r.append("avatar",e.avatar),Object.entries(e.documents).forEach(([y,i])=>{i!=null&&i.file&&r.append(`documents[${y}]`,i.file)}),axios.post(route("employee.update",d.data),r,{headers:{"Content-Type":"multipart/form-data"}}).then(y=>{const{employee:i,message:V}=y.data;U.notify({type:"positive",message:y.data.message||"Employee saved successfully."}),e.reset(),sl.get(route("employee.show",i))}).catch(y=>{if(y.response){const i=y.response.data.errors,V=[];let b=null;if(i){for(const q in i)b||(b=q),i[q]&&V.push(...i[q]);if(e.errors=i,b){const h={name:1,email:1,mobile:1,parent_name:1,date_of_birth:1,educational_qln:1,technical_qln:1,employment_type:2,designation:2,date_of_engagement:2,name_of_workplace:2,office:2,post_per_qualification:2,skill_category:2,skill_at_present:2,documents:3}[b]||1;v.value=String(h)}U.notify({type:"negative",message:V.join(", ")})}else y.response.data.message&&U.notify({type:"negative",message:y.response.data.message})}else U.notify({type:"negative",message:"System Error. Please try again later."})})})};Ze(()=>{var r,o;(r=d.data.documents)!=null&&r.length&&d.data.documents.forEach(m=>{e.documents[m.document_type_id]={name:m.name,url:`/storage/${m.path}`}}),(o=d.data)!=null&&o.avatar?Q.value=`/storage/${d.data.avatar}`:Q.value=te}),Y(()=>{var r;return!!((r=se().props.roles)!=null&&r.find(o=>o==="Admin"))});const ze=Y(()=>{var r;return!!((r=se().props.roles)!=null&&r.find(o=>o==="Manager"))}),Ke=Y(()=>{var r;return!!((r=se().props.roles)!=null&&r.find(o=>o==="Viewer"))}),E=Y(()=>ze.value||Ke.value),M=()=>{window.history.back()};return(r,o)=>(u(),re(He,{class:"container",padding:""},{default:w(()=>[s("div",ml,[s("div",null,[o[31]||(o[31]=s("div",{class:"stitle"},"Edit Employee",-1)),t(Ye,{class:"text-dark"},{default:w(()=>[t(oe,{class:"cursor-pointer",icon:"dashboard",label:"Dashboard",onClick:o[0]||(o[0]=m=>r.$inertia.get(r.route("dashboard")))}),t(oe,{class:"cursor-pointer",label:"All Employees",onClick:o[1]||(o[1]=m=>r.$inertia.get(E.value?r.route("employees.manager.all"):r.route("employees.all")))}),t(oe,{class:"cursor-pointer",label:"Go Back",onClick:M})]),_:1})])]),o[56]||(o[56]=s("br",null,null,-1)),t(al,{onSubmit:el(Le,["prevent"]),class:"bg-white q-pa-md"},{default:w(()=>[t(rl,{modelValue:v.value,"onUpdate:modelValue":o[30]||(o[30]=m=>v.value=m),ref:"stepper",animated:"",color:"secondary"},{default:w(()=>[t(X,{name:"1",title:"Personal Info",icon:"person",done:v.value>1},{default:w(()=>{var m,y,i,V,b,q,h,P,D,N,I,R,B,F,A,j,T,$,W,O,G,J,L,z,a,Se,Me,De,Ne,Ie;return[s("div",ul,[s("div",pl,[s("div",cl,[t(Re,{src:Q.value,alt:"Profile Photo",style:{width:"120px",height:"120px"},"img-class":"object-cover"},null,8,["src"])]),s("div",gl,[s("div",_l,[t(k,{label:"Upload new Photo",color:"primary",onClick:je,class:"text-weight-medium",rounded:"",unelevated:""}),t(k,{label:"Reset",color:"grey-4","text-color":"dark",onClick:$e,class:"text-weight-medium",rounded:"",unelevated:""})]),o[32]||(o[32]=s("p",{class:"text-subtitle2 text-grey-7"}," Allowed JPG, GIF or PNG. Max size of 800K ",-1))])]),s("input",{ref_key:"fileInput",ref:Z,type:"file",accept:"image/*",class:"hidden",onChange:Te},null,544)]),E.value?(u(),p("div",fl,[s("div",vl,[t(g,{modelValue:l(e).name,"onUpdate:modelValue":o[2]||(o[2]=n=>l(e).name=n),label:"Name",disable:"",outlined:"",dense:"",error:!!((m=l(e).errors)!=null&&m.name),"error-message":(y=l(e).errors)==null?void 0:y.name,rules:[n=>!!n||"Name is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",yl,[t(g,{modelValue:l(e).email,"onUpdate:modelValue":o[3]||(o[3]=n=>l(e).email=n),label:"Email",type:"email",outlined:"",dense:"",error:!!((i=l(e).errors)!=null&&i.email),"error-message":(V=l(e).errors)==null?void 0:V.email},null,8,["modelValue","error","error-message"])]),s("div",bl,[t(g,{modelValue:l(e).mobile,"onUpdate:modelValue":o[4]||(o[4]=n=>l(e).mobile=n),label:"Mobile",mask:"##########",outlined:"",dense:"",error:!!((b=l(e).errors)!=null&&b.mobile),"error-message":(q=l(e).errors)==null?void 0:q.mobile,rules:[n=>!!n||"Mobile is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",kl,[t(g,{modelValue:l(e).address,"onUpdate:modelValue":o[5]||(o[5]=n=>l(e).address=n),label:"Address",outlined:"",dense:"",error:!!((h=l(e).errors)!=null&&h.address),"error-message":(P=l(e).errors)==null?void 0:P.address},null,8,["modelValue","error","error-message"])]),s("div",Vl,[t(g,{modelValue:l(e).name_of_workplace,"onUpdate:modelValue":o[6]||(o[6]=n=>l(e).name_of_workplace=n),label:"Workplace",outlined:"",dense:"",error:!!((D=l(e).errors)!=null&&D.name_of_workplace),"error-message":(N=l(e).errors)==null?void 0:N.name_of_workplace},null,8,["modelValue","error","error-message"])]),s("div",ql,[t(g,{modelValue:l(e).technical_qln,"onUpdate:modelValue":o[7]||(o[7]=n=>l(e).technical_qln=n),label:"Technical Qualification",outlined:"",dense:"",error:!!((I=l(e).errors)!=null&&I.technical_qln),"error-message":(R=l(e).errors)==null?void 0:R.technical_qln},null,8,["modelValue","error","error-message"])]),l(e).employment_type==="MR"?(u(),p("div",wl,[t(g,{modelValue:l(e).post_assigned,"onUpdate:modelValue":o[8]||(o[8]=n=>l(e).post_assigned=n),label:"Post/Work Assigned",outlined:"",dense:"",error:!!((B=l(e).errors)!=null&&B.post_assigned),"error-message":(F=l(e).errors)==null?void 0:F.post_assigned},null,8,["modelValue","error","error-message"])])):c("",!0)])):c("",!0),E.value?c("",!0):(u(),p("div",hl,[s("div",Ul,[t(g,{modelValue:l(e).name,"onUpdate:modelValue":o[9]||(o[9]=n=>l(e).name=n),label:"Name",outlined:"",dense:"",error:!!((A=l(e).errors)!=null&&A.name),"error-message":(j=l(e).errors)==null?void 0:j.name,rules:[n=>!!n||"Name is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",El,[t(g,{modelValue:l(e).email,"onUpdate:modelValue":o[10]||(o[10]=n=>l(e).email=n),label:"Email",type:"email",outlined:"",dense:"",error:!!((T=l(e).errors)!=null&&T.email),"error-message":($=l(e).errors)==null?void 0:$.email},null,8,["modelValue","error","error-message"])]),s("div",Pl,[t(g,{modelValue:l(e).mobile,"onUpdate:modelValue":o[11]||(o[11]=n=>l(e).mobile=n),label:"Mobile",mask:"##########",outlined:"",dense:"",error:!!((W=l(e).errors)!=null&&W.mobile),"error-message":(O=l(e).errors)==null?void 0:O.mobile,rules:[n=>!!n||"Mobile is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Cl,[t(g,{modelValue:l(e).parent_name,"onUpdate:modelValue":o[12]||(o[12]=n=>l(e).parent_name=n),label:"Parent Name",outlined:"",dense:"",error:!!((G=l(e).errors)!=null&&G.parent_name),"error-message":(J=l(e).errors)==null?void 0:J.parent_name,rules:[n=>!!n||"Parent Name is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",xl,[t(g,{modelValue:l(e).date_of_birth,"onUpdate:modelValue":o[13]||(o[13]=n=>l(e).date_of_birth=n),label:"Date of Birth",type:"date",outlined:"",dense:"",error:!!((L=l(e).errors)!=null&&L.date_of_birth),"error-message":(z=l(e).errors)==null?void 0:z.date_of_birth,rules:[n=>!!n||"Date of Birth is required"]},null,8,["modelValue","error","error-message","rules"])]),s("div",Ql,[t(g,{modelValue:l(e).address,"onUpdate:modelValue":o[14]||(o[14]=n=>l(e).address=n),label:"Address",outlined:"",dense:"",error:!!((a=l(e).errors)!=null&&a.address),"error-message":(Se=l(e).errors)==null?void 0:Se.address},null,8,["modelValue","error","error-message"])]),s("div",Sl,[t(x,{modelValue:l(e).educational_qln,"onUpdate:modelValue":o[15]||(o[15]=n=>l(e).educational_qln=n),options:l(Ae),label:"Educational Qualification *",outlined:"",dense:"","emit-value":"","map-options":"",error:!!((Me=l(e).errors)!=null&&Me.educational_qln),"error-message":(De=l(e).errors)==null?void 0:De.educational_qln,rules:[n=>!!n||"Education Qualification is required"]},null,8,["modelValue","options","error","error-message","rules"])]),s("div",Ml,[t(g,{modelValue:l(e).technical_qln,"onUpdate:modelValue":o[16]||(o[16]=n=>l(e).technical_qln=n),label:"Technical Qualification",outlined:"",dense:"",error:!!((Ne=l(e).errors)!=null&&Ne.technical_qln),"error-message":(Ie=l(e).errors)==null?void 0:Ie.technical_qln},null,8,["modelValue","error","error-message"])])])),t(H,null,{default:w(()=>[t(k,{flat:"",color:"negative",label:"Cancel",class:"q-ml-sm",onClick:M}),t(k,{color:"primary",label:"Next",onClick:ee})]),_:1})]}),_:1},8,["done"]),E.value?c("",!0):(u(),re(X,{key:0,name:"2",title:"Job Info",icon:"work",done:v.value>2},{default:w(()=>{var m,y,i,V,b,q,h,P,D,N,I,R,B,F,A,j,T,$,W,O,G,J,L,z;return[s("div",Dl,[s("div",Nl,[t(x,{modelValue:l(e).employment_type,"onUpdate:modelValue":o[17]||(o[17]=a=>l(e).employment_type=a),label:"Employment Type *",options:Je,"emit-value":"","map-options":"",outlined:"",dense:"",error:!!((m=l(e).errors)!=null&&m.employment_type),"error-message":(y=l(e).errors)==null?void 0:y.employment_type,rules:[a=>!!a||"Employment Type is required"]},null,8,["modelValue","error","error-message","rules"])]),l(e).employment_type==="PE"?(u(),p("div",Il,[t(g,{modelValue:l(e).designation,"onUpdate:modelValue":o[18]||(o[18]=a=>l(e).designation=a),label:"Designation *",outlined:"",dense:"",error:!!((i=l(e).errors)!=null&&i.designation),"error-message":(V=l(e).errors)==null?void 0:V.designation,rules:[a=>!!a||"Designation is required"]},null,8,["modelValue","error","error-message","rules"])])):c("",!0),l(e).employment_type==="MR"?(u(),p("div",Rl,[t(g,{modelValue:l(e).post_assigned,"onUpdate:modelValue":o[19]||(o[19]=a=>l(e).post_assigned=a),label:"Post/Work Assigned *",type:"text",outlined:"",dense:"",error:!!((b=l(e).errors)!=null&&b.post_assigned),"error-message":(q=l(e).errors)==null?void 0:q.post_assigned,rules:[a=>!!a||"Post/Work Assigned is required"]},null,8,["modelValue","error","error-message","rules"])])):c("",!0),s("div",Bl,[t(x,{modelValue:l(e).office,"onUpdate:modelValue":o[20]||(o[20]=a=>l(e).office=a),label:"Office *",options:C.offices,"option-label":"name","option-value":"id","emit-value":"","map-options":"",outlined:"",dense:"",error:!!((h=l(e).errors)!=null&&h.office),"error-message":(P=l(e).errors)==null?void 0:P.office,rules:[a=>!!a||"Office is required"]},null,8,["modelValue","options","error","error-message","rules"])]),l(e).employment_type==="PE"?(u(),p("div",Fl,[t(g,{modelValue:l(e).engagement_card_no,"onUpdate:modelValue":o[21]||(o[21]=a=>l(e).engagement_card_no=a),label:"Engagement Card No.",type:"text",outlined:"",dense:"",error:!!((D=l(e).errors)!=null&&D.engagement_card_no),"error-message":(N=l(e).errors)==null?void 0:N.engagement_card_no,rules:[a=>!!a||"Engagement Card No. is required"]},null,8,["modelValue","error","error-message","rules"])])):c("",!0),l(e).employment_type==="PE"?(u(),p("div",Al,[t(g,{modelValue:l(e).date_of_engagement,"onUpdate:modelValue":o[22]||(o[22]=a=>l(e).date_of_engagement=a),label:"Date of Initial Engagement",type:"date",outlined:"",dense:"",error:!!((I=l(e).errors)!=null&&I.date_of_engagement),"error-message":(R=l(e).errors)==null?void 0:R.date_of_engagement,rules:[a=>!!a||"Date of Initial Engagement is required"]},null,8,["modelValue","error","error-message","rules"])])):c("",!0),l(e).employment_type==="MR"?(u(),p("div",jl,[t(g,{modelValue:l(e).date_of_engagement,"onUpdate:modelValue":o[23]||(o[23]=a=>l(e).date_of_engagement=a),label:"Date of Initial Engagement *",type:"date",outlined:"",dense:"",error:!!((B=l(e).errors)!=null&&B.date_of_engagement),"error-message":(F=l(e).errors)==null?void 0:F.date_of_engagement,rules:[a=>!!a||"Date of Initial Engagement is required"]},null,8,["modelValue","error","error-message","rules"])])):c("",!0),l(e).employment_type==="MR"?(u(),p("div",Tl,[t(x,{modelValue:l(e).skill_category,"onUpdate:modelValue":o[24]||(o[24]=a=>l(e).skill_category=a),label:"Skill Category at Initial Engagement *",options:l(ae),"emit-value":"","map-options":"",outlined:"",dense:"",error:!!((A=l(e).errors)!=null&&A.skill_category),"error-message":(j=l(e).errors)==null?void 0:j.skill_category,rules:[a=>!!a||"Skill Category is required"]},null,8,["modelValue","options","error","error-message","rules"])])):c("",!0),l(e).employment_type==="MR"?(u(),p("div",$l,[t(x,{modelValue:l(e).skill_at_present,"onUpdate:modelValue":o[25]||(o[25]=a=>l(e).skill_at_present=a),label:"Skill at Present *",options:l(ae),"emit-value":"","map-options":"",outlined:"",dense:"",error:!!((T=l(e).errors)!=null&&T.skill_at_present),"error-message":($=l(e).errors)==null?void 0:$.skill_at_present,rules:[a=>!!a||"Skill at Present is required"]},null,8,["modelValue","options","error","error-message","rules"])])):c("",!0),s("div",Wl,[t(g,{modelValue:l(e).name_of_workplace,"onUpdate:modelValue":o[26]||(o[26]=a=>l(e).name_of_workplace=a),label:"Workplace",outlined:"",dense:"",error:!!((W=l(e).errors)!=null&&W.name_of_workplace),"error-message":(O=l(e).errors)==null?void 0:O.name_of_workplace},null,8,["modelValue","error","error-message"])]),l(e).employment_type==="MR"?(u(),p("div",Ol,[t(g,{modelValue:l(e).post_per_qualification,"onUpdate:modelValue":o[27]||(o[27]=a=>l(e).post_per_qualification=a),label:"Post Selected",outlined:"",dense:"",error:!!((G=l(e).errors)!=null&&G.post_per_qualification),"error-message":(J=l(e).errors)==null?void 0:J.post_per_qualification,rules:[a=>!!a||"Post per Qualification is required"]},null,8,["modelValue","error","error-message","rules"])])):c("",!0),l(e).employment_type==="MR"?(u(),p("div",Gl,[t(x,{modelValue:S.value,"onUpdate:modelValue":o[28]||(o[28]=a=>S.value=a),options:[{label:"Yes",value:!0},{label:"No",value:!1}],label:"Does Employee belong to a Scheme? *",outlined:"",dense:"","emit-value":"","map-options":""},null,8,["modelValue"])])):c("",!0),S.value?(u(),p("div",Jl,[s("div",Ll,[t(x,{modelValue:l(e).scheme,"onUpdate:modelValue":o[29]||(o[29]=a=>l(e).scheme=a),label:"Scheme *",options:C.schemes,"option-label":"name","option-value":"id","emit-value":"","map-options":"",outlined:"",dense:"",error:!!((L=l(e).errors)!=null&&L.scheme),"error-message":(z=l(e).errors)==null?void 0:z.scheme,rules:[a=>!!a||"Scheme is required"]},null,8,["modelValue","options","error","error-message","rules"])])])):c("",!0)]),t(H,null,{default:w(()=>[t(k,{flat:"",color:"negative",label:"Cancel",class:"q-ml-sm",onClick:M}),t(k,{flat:"",color:"primary",label:"Back",onClick:le,class:"q-ml-sm"}),t(k,{color:"primary",label:"Next",onClick:ee})]),_:1})]}),_:1},8,["done"])),E.value?c("",!0):(u(),re(X,{key:1,name:"3",title:"Upload Documents",icon:"cloud_upload",done:v.value>3},{default:w(()=>[s("div",zl,[(u(!0),p(Be,null,Fe(C.documentTypes,(m,y)=>{var i,V;return u(),p("div",{class:"col-12 col-sm-6",key:m.id},[s("div",Kl,_(m.name),1),t(tl,{filled:"","model-value":((i=l(e).documents[m.id])==null?void 0:i.file)||null,"onUpdate:modelValue":b=>We(m.id,b),label:"Upload File",accept:".pdf,.jpg,.jpeg,.png",clearable:"",class:"full-width"},ll({_:2},[(V=l(e).documents[m.id])!=null&&V.url?{name:"append",fn:w(()=>[t(k,{round:"",dense:"",flat:"",icon:"visibility",onClick:b=>Oe(l(e).documents[m.id].url),class:"q-ml-sm"},null,8,["onClick"])]),key:"0"}:void 0]),1032,["model-value","onUpdate:modelValue"])])}),128))]),t(H,null,{default:w(()=>[t(k,{flat:"",color:"negative",label:"Cancel",class:"q-ml-sm",onClick:M}),t(k,{flat:"",color:"primary",label:"Back",onClick:le,class:"q-ml-sm"}),t(k,{color:"primary",label:"Next",onClick:ee})]),_:1})]),_:1},8,["done"])),t(X,{name:"4",title:"Preview Information",icon:"visibility",done:v.value>4},{default:w(()=>{var m,y;return[s("div",Yl,[t(Re,{src:Q.value||te,alt:"Profile Photo",style:{width:"120px",height:"120px"},"img-class":"object-cover"},null,8,["src"])]),o[53]||(o[53]=s("div",{class:"q-mb-md text-h6"},"Personal Info",-1)),s("div",Hl,[s("div",Xl,[o[33]||(o[33]=s("strong",null,"Name:",-1)),f(" "+_(l(e).name),1)]),s("div",Zl,[o[34]||(o[34]=s("strong",null,"Email:",-1)),f(" "+_(l(e).email),1)]),s("div",eo,[o[35]||(o[35]=s("strong",null,"Mobile:",-1)),f(" "+_(l(e).mobile),1)]),s("div",lo,[o[36]||(o[36]=s("strong",null,"Parent Name:",-1)),f(" "+_(l(e).parent_name),1)]),s("div",oo,[o[37]||(o[37]=s("strong",null,"Date of Birth:",-1)),f(" "+_(l(ne)(l(e).date_of_birth)),1)]),s("div",so,[o[38]||(o[38]=s("strong",null,"Present Address:",-1)),f(" "+_(l(e).address),1)]),s("div",ro,[o[39]||(o[39]=s("strong",null,"Education:",-1)),f(" "+_(l(e).educational_qln),1)]),s("div",to,[o[40]||(o[40]=s("strong",null,"Technical Qualification:",-1)),f(" "+_(l(e).technical_qln),1)])]),o[54]||(o[54]=s("div",{class:"q-mb-md text-h6"},"Job Info",-1)),s("div",ao,[s("div",no,[o[41]||(o[41]=s("strong",null,"Employment Type:",-1)),f(" "+_(l(e).employment_type),1)]),s("div",io,[o[42]||(o[42]=s("strong",null,"Office:",-1)),f(" "+_(((m=C.offices.find(i=>i.id===l(e).office))==null?void 0:m.name)||"—"),1)]),l(e).employment_type==="PE"?(u(),p("div",mo,[o[43]||(o[43]=s("strong",null,"Designation:",-1)),f(" "+_(l(e).designation),1)])):c("",!0),l(e).employment_type==="MR"?(u(),p("div",uo,[o[44]||(o[44]=s("strong",null,"Post/Work Assigned :",-1)),f(" "+_(l(e).post_assigned),1)])):c("",!0),l(e).employment_type==="PE"?(u(),p("div",po,[o[45]||(o[45]=s("strong",null,"Engagement Card No. :",-1)),f(" "+_(l(e).engagement_card_no),1)])):c("",!0),s("div",co,[o[46]||(o[46]=s("strong",null,"Date of Initial Engagement:",-1)),f(" "+_(l(ne)(l(e).date_of_engagement)),1)]),l(e).employment_type==="MR"?(u(),p("div",go,[o[47]||(o[47]=s("strong",null,"Skill Category at Initial Engagement:",-1)),f(" "+_(l(e).skill_category),1)])):c("",!0),l(e).employment_type==="MR"?(u(),p("div",_o,[o[48]||(o[48]=s("strong",null,"Skill at Present:",-1)),f(" "+_(l(e).skill_at_present),1)])):c("",!0),l(e).employment_type==="MR"?(u(),p("div",fo,[o[49]||(o[49]=s("strong",null,"Post Selected:",-1)),f(" "+_(l(e).post_per_qualification),1)])):c("",!0),s("div",vo,[o[50]||(o[50]=s("strong",null,"Workplace:",-1)),f(" "+_(l(e).name_of_workplace),1)]),S.value?(u(),p("div",yo,[o[51]||(o[51]=s("strong",null,"Scheme:",-1)),f(_(((y=((d==null?void 0:d.schemes)||C.schemes).find(i=>String(i.id)===String(l(e).scheme)))==null?void 0:y.name)||""),1)])):c("",!0)]),o[55]||(o[55]=s("div",{class:"q-mb-md text-h6"},"Uploaded Documents",-1)),s("div",bo,[(u(!0),p(Be,null,Fe(C.documentTypes,(i,V)=>{var b,q,h,P;return u(),p("div",{class:"col-12 col-sm-6",key:i.id},[s("div",ko,[s("div",Vo,[s("strong",null,_(i.name),1)]),(b=l(e).documents[i.id])!=null&&b.file||(q=l(e).documents[i.id])!=null&&q.url?(u(),p("div",qo,[s("a",{href:Ge(((h=l(e).documents[i.id])==null?void 0:h.file)||((P=l(e).documents[i.id])==null?void 0:P.url)),target:"_blank",class:"text-primary text-weight-medium"},[t(ol,{name:"visibility",class:"q-mr-xs"}),o[52]||(o[52]=f(" View File "))],8,wo)])):(u(),p("div",ho,"No document uploaded"))])])}),128))]),t(H,null,{default:w(()=>[t(k,{flat:"",color:"negative",label:"Cancel",class:"q-ml-sm",onClick:M}),t(k,{flat:"",color:"primary",label:"Back",onClick:le,class:"q-ml-sm"}),t(k,{type:"submit",color:"btn-primary",label:"Submit"})]),_:1})]}),_:1,__:[53,54,55]},8,["done"])]),_:1},8,["modelValue"])]),_:1})]),_:1,__:[56]}))}});export{$o as default};
